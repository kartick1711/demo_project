(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[28444],{72918:(e,t,a)=>{"use strict";a.d(t,{Z:()=>g});var r=a(67294),i=a(1216),o=a(9669),s=a.n(o),l=a(23071);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function d(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const n={},m={};let p=!1;const u=/image\d\.jdomni\.in/,h=({randomColorObj:e})=>r.createElement("div",{style:e});class g extends r.Component{constructor(...e){super(...e),d(this,"state",{loaded:n[this.props.imageSrc]}),d(this,"imageRef",r.createRef(null)),d(this,"componentDidMount",(()=>{const e=this.imageRef.current;e&&e.complete&&(0!=e.naturalWidth?this.onLoad():this.onError())})),d(this,"onLoad",(()=>{if(n[this.props.imageSrc]=!0,this.props.setImageDimensionInfo&&this.imageRef.current){let e=this.imageRef.current.naturalWidth,t=this.imageRef.current.naturalHeight;this.props.setImageDimensionInfo({ratio:e/t,width:e,height:t})}this.setState((()=>({loaded:!0})))})),d(this,"onError",(()=>{var e;p||"gallery"!==this.props.blockType||((e="")=>e.match(u))(this.props.imageSrc)||!this.props.contentBlockId||(e=this.props.contentBlockId,s().get("/marketplace/cms/nj/genio/update-gallery?contentBlockId="+e),p=!0),m[this.props.imageSrc]=!0,this.setState((()=>({loaded:!1})))})),d(this,"getSmartFillDiv",(()=>r.createElement("div",c({key:"smart-fill-div"},this.props.smartFillObj))))}render(){const{imageSrc:e,imgSrc:t,style:a,imgClass:o,imgAttrs:s,randomColorObj:d,smartFillObj:n,lazyLoadOffset:p,isPreviewDomain:u=!1,smallImage:g,showNoImage:f=!1}=this.props,E=this.props.disableLazyLoad||u,v=E||this.state.loaded?"img-loaded":"img-loading";let b=e;m[b]&&(b=f?g?l.NO_IMAGE:l.NO_IMAGE_WITH_CAPTION:e);const S=!E&&!this.state.loaded;let C=r.createElement(r.Fragment,null,n&&this.getSmartFillDiv(),S&&r.createElement(h,{randomColorObj:d}),r.createElement("img",c({ref:this.imageRef,src:b,style:t&&a||{},alt:"",className:"".concat(o||""," ").concat(v)},s,{onLoad:this.onLoad,onError:this.onError})));return!E&&!this.state.loaded&&(C=r.createElement(i.ZP,c({offset:p||650,once:!0,placeholder:S?r.createElement(h,{randomColorObj:d}):void 0},this.props.lazyLoadProps),C)),C}}},51859:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>E}),a(91181);var r=a(67294),i=a(51748),o=a(97293),s=a(14494),l=a(33695),c=a(85158),d=a(19923),n=a(69645),m=a(97241),p=a(72918),u=a(2299),h=(a(98653),a(77361)),g=a(46834);const f=e=>{const[t,a]=(0,r.useState)(!1),[s,l]=(0,r.useState)({selectPid:"",show:!1}),d={header:{heading:"Sort Product / Service",leftIcons:[],rightIcons:[{className:"icon-HDRcross",onClick:e=>{o.Z.closeCurrent()}}]},footer:{btnProps:[{children:"Save",showLoader:t,clickHandler:()=>{E()}}]},slider:{className:"sort-product-service-slider"},onHidden:()=>{f()}};(0,r.useEffect)((()=>{let t=b(),a=e.data;a.productCardList=t,e.setSliderData("sortProductService",{...a})}),[e.data.itmDetails]);let n={};const g=t=>{let a=e.data.itmDetails.filter((e=>e.pid!==t.pid)),r=e.data;r.itmDetails=a,r.productCardList=b(),e.setSliderData("sortProductService",{...r})},f=(t=!1)=>{let r={productData:v(),blockUnderEdit:e.data.blockUnderEdit,cb:function(){a(!1),e.closeSlider("sortProductService"),window.updateCMSBlocks({type:"getAllContentBlocks"}),e.themeModificationStatus({isThemeModified:!0}),t&&e.showToastMessage({message:"Changes will be Reflected in Some Time"})}};e.updateFeatProduct(r)},E=()=>{a(!0),f(!0)},v=()=>{let t=[];return e.data.productCardList.forEach((e=>{let a={variantId:e.id,pid:e.pid};t.push(a)})),t},b=()=>{let t=[];return e.data.itmDetails.forEach((a=>{let i="",o=[],s=Array.isArray(a.imgpath)?a.imgpath[0]:a.imgpath,l="";s?l=(0,c.al)(s):(l="https://image1.jdomni.in/jdomni_email/NoImage_2_1812051829_2001301526.png",n.background||(n=(0,u.mr)(!0))),i=!!("NON_TEMPLATING"!=a.templating_type||a.template_id&&0!=a.template_id),o=e.isMobile?[{label:"Edit",onClick:e=>{(e=>{e&&e.pid&&(window.location.href="/myaccount/vendor/edit-item/".concat(e.pid,"?urlsource=").concat(encodeURIComponent(window.location.href)))})(a)}},{label:"Remove",onClick:e=>{g(a)}}]:[{label:"Remove",onClick:e=>{g(a)}}],t.push({id:a.variantId,pid:a.pid||a.itemsizecode[0],content:r.createElement("div",{className:"sort-product-settings-card",key:a.variantId},r.createElement("div",{className:"image-data".concat(" ",a.imgpath?"":"no-image"),style:{backgroundColor:n.background,backgroundSize:"cover"}},r.createElement(p.Z,{imageSrc:l,randomColorObj:n})),r.createElement("div",{className:"name-data"},r.createElement("div",{className:"product-name"}," ",a.pdname," ")),r.createElement("div",{className:"more-menu-parent"},3!=e.crunchEnabled?r.createElement(m.Z,{customClass:"more-menu-item",onToggle:t=>{((t,a)=>{t&&(e.setCurrentProductData({curProductData:a}),e.getImageUrls(a.variantId))})(t,a)},list:o}):null))})})),t},S=(0,r.useCallback)(((t,a)=>{const r=e.data.productCardList[t],i=[...e.data.productCardList];i.splice(t,1),i.splice(a,0,r);let o=e.data;o.productCardList=i;let s=C(o);o.itmDetails=[...s],e.setSliderData("sortProductService",{...o})}),[e.data.productCardList]),C=e=>{let t=[],a=[...e.itmDetails];return e.productCardList.forEach((e=>{let r=a.filter((t=>t.pid==e.pid));t.push(r[0])})),t};return r.createElement(i.Z,d,r.createElement("div",{className:"sort-slider-body"},e.data.productCardList&&r.createElement(h.Z.Wrapper,{isMobile:e.isMobile},e.data.productCardList.map(((e,t)=>((e,t)=>r.createElement(h.Z,{key:e.id,index:t,id:e.id,moveItem:S,type:"ListItem",accept:"ListItem",renderItem:(t,a,i)=>r.createElement("div",{ref:t,className:"drop-item"},r.createElement("div",{ref:a,className:"drag-item icon-MoveUpDown"}),e.content)}))(e,t))))))},E=(0,s.$j)(((e,t)=>({...t,...e.sliders.sortProductService,curProductData:e.productCMS?e.productCMS.curProductData:{},isMobile:e.staticData.isMobile,crunchEnabled:e.searchPageData.crunchEnabled})),(e=>({closeSlider:t=>e((0,l.lh)(t)),setSliderData:(t,a)=>e((0,l.Ob)(t,a)),toggleProductModal:t=>e((0,c.dX)(t)),setCurrentProductData:t=>e((0,c.v5)(t)),getImageUrls:t=>e((0,c.f7)(t)),toggleImageSlider:t=>e((0,c.p$)(t)),updateFeatProduct:t=>e((0,d.LE)(t)),themeModificationStatus:t=>e((0,n.co)(t)),showToastMessage:t=>e(g.Z.showMessage(t))})))((({open:e,...t})=>e?r.createElement(f,t):null))}}]);