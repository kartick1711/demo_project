(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[82440],{52448:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});const o=a(95581).Z},62500:(e,t,a)=>{"use strict";a.d(t,{L:()=>o});const o=e=>{if(e=e||(()=>{}),window.JdLiteInterface&&"function"==typeof JdLiteInterface.getClipBoard){const t=JdLiteInterface.getClipBoard();return void e(t)}if(window.Android&&"function"==typeof window.Android.getClipboardData){const t=window.Android.getClipboardData();return void e(t)}if(!navigator.clipboard)return void e(null);const t=t=>{var a=new FileReader;a.onload=function(){e(a.result)},a.readAsText(t)};navigator.clipboard.read().then((e=>{let a=e[0],o="";a.types.includes("text/html")?o="text/html":a.types.includes("text/plain")&&(o="text/plain"),o&&a.getType(o).then(t)}))}},69148:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});const o=a(45842).Z},84663:(e,t,a)=>{"use strict";a.d(t,{Z:()=>d});var o=a(67294);const i={"empty-image":"fW9N_empty-image",default:"_3WqQ_default","img-holder":"_1z8Q_img-holder",title:"tiuJ_title","sub-title":"_3ixm_sub-title"};var r=a(82646),n=a(45697),s=a.n(n);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e}).apply(this,arguments)}const c=e=>{const t=i[e.variant]||i.default;return o.createElement("div",{className:i["empty-image"]+" "+t},o.createElement("div",null,e.children," "))};c.Img=e=>o.createElement("div",{className:i["img-holder"]},o.createElement("img",{src:e.src})),c.Title=e=>o.createElement("div",{className:i.title},e.children," "),c.SubTitle=e=>o.createElement("div",{className:i["sub-title"]},e.children," "),c.Button=e=>o.createElement("div",{className:i["button-container"]},o.createElement(r.Z,l({variant:"action-add"},e))),c.propTypes={variant:s().string},c.defaultProps={variant:"default"},c.displayName="EmptyPage";const d=c},48230:(e,t,a)=>{"use strict";a.d(t,{PH:()=>u,yn:()=>m,Rc:()=>p,a6:()=>g,uP:()=>h});var o=a(9669),i=a.n(o),r=a(79109),n=a.n(r),s=a(40842),l=a(56408),c=a(47799);const d=n().apiDomains[0],u=e=>({type:s.Wu,payload:e}),m=e=>t=>{t({type:s.gK,payload:e})},p=e=>({type:s.Zu,payload:e}),g=(e,t)=>(a,o)=>{const{uploadOptions:{data:r},session:{supplierId:n,videoExists:c}}=o();let u="".concat(d,"/marketplace/static/php/web/b2bWebsite.php?&action=addYouTubeVideoData&isFromVendorModule=true&supplierId=").concat(n,"&youtubeUrl=").concat(encodeURI(e.link));r.variantId&&"ADD_PRODUCT"!=r.variantId&&(u+="&productId=".concat(r.variantId)),i().get(u).then((o=>{if(console.log(o),200!=o.status||1!=o.data.status)return t(!1);const{status:i,videoData:n="",...d}=o.data;let u={};try{u=JSON.parse(n)}catch(e){}e.onFileUpload?e.onFileUpload({forVideo:!0,imageUrl:{videoName:d.videoName,status:"UNDER_REVIEW",source:"YOUTUBE",imgURL:u.imgURL,thumbnailURL:u.thumbnailURL,uploaded:!0,isVideo:!0,actualPath:e.link,videoId:d.videoId}}):a({type:s.Pm,payload:{...d,...u,link:e.link,variantId:r.variantId}}),c||a((0,l.KY)({videoExists:!0})),t&&t(!0)}))},h=(e,t)=>(a,o)=>{const{link:r="",fromListing:n=!1}=e,{uploadOptions:{data:l},session:{token:u,supplierId:m,source:p},products:{allProducts:g}}=o(),h=r.match(/tradeindia|amazon|modid|zoomImage|indiamart|imimg|alicdn|udaan|ud-img|tiimg|tistatic|flipkart|flixcart/g);if(h&&u)return t(!1,"Use of Image's from ".concat(h[0]," is prohibited"));let v="".concat(d,"/marketplace/products/php/ajax/uploadProductImageThroughUrl.service?imageUrl=").concat(encodeURI(e.link),"&module=product&supplierId=").concat(m);i().get(v).then((e=>{if(console.log(e),200!=e.status||"true"===e.data.isError)return t(!1,e.data.message);const{imgURL:o}=e.data;a({type:s.xP,payload:{imageUrlObj:{imgURL:o,actualPath:(0,c.al)(o),uploaded:!0},variantId:l.variantId}});let i=!0;if(l.ignoreSave&&"ADD_PRODUCT"===l.variantId&&(i=!1),i){const{imageUrlArr:e}=g[l.variantId],t=[];e.map((e=>{e.uploaded&&t.push(e.imgURL)})),(0,c.G6)({variantId:l.variantId,imageUrl:t.join(","),videoUrl:JSON.stringify({}),source:p,fromListing:n})}t&&t(!0)}))}},95912:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var o=a(67294),i=a(14494),r=a(16550);const n=(0,i.$j)((e=>({session:e.session,user:e.session.user,source:e.session.source,showCompanyDetails:e.session.showCompanyDetails})),{})((e=>{let t=(0,r.k6)();return e.showCompanyDetails?o.createElement("div",{style:{border:"none",display:"initial"},onClickCapture:a=>{!e.user||e.user.loggedUser||e.session.isReadOnly||(a.stopPropagation(),a.preventDefault(),e.user.noUserCheck?t.push("/products/login"):t.push("/products/auth"))}},e.children):o.createElement(o.Fragment,null,e.children)}))},90651:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var o=a(67294),i=a(50231);const r=e=>o.createElement(i.Z,{style:(()=>{let t={boxShadow:"0 2px 5px 0.05px rgba(0,0,0,.02), 0 6px 10px 0 rgba(0,0,0,.05), 0 1px 18px 0 rgba(0,0,0,.1)"};return e.customClassObj&&Object.keys(e.customClassObj).forEach((a=>{t[a]=e.customClassObj[a]})),t})(),btnText:e.btnText,iconClass:e.iconClass,onClick:e.onClick,btnWidth:e.btnWidth,buttonClass:e.buttonClass,btnTextClass:"".concat("_3j1G_animate-btn-text"," ").concat(e.className)})},57542:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var o=a(67294),i=a(9175);const r={"misc-btn":"_1YaE_misc-btn",primary:"_2WRY_primary",default:"_3w1n_default"};function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e}).apply(this,arguments)}const s=o.forwardRef(((e,t)=>{const{variant:a="primary"}=e;return o.createElement(i.Z,n({},e,{variant:a,ref:t,className:"".concat(r["misc-btn"]," ").concat(r[a]," ").concat(e.className||"")}))}))},39963:(e,t,a)=>{"use strict";a.d(t,{Z:()=>c});var o=a(67294),i=a(14494),r=a(23622);function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e}).apply(this,arguments)}function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class l extends o.Component{constructor(...e){super(...e),s(this,"state",{allowMultipleImages:!1}),s(this,"onFileUploadCB",null),s(this,"triggerClick",((e,t=!1)=>{t||(0,r.kf)(),!!e!=this.state.allowMultipleImages?this.setState({allowMultipleImages:e},(()=>{this.inputElem&&this.inputElem.click()})):this.inputElem&&this.inputElem.click()}))}render(){let e={};this.state.allowMultipleImages&&!this.props.forVideo&&(e={multiple:"multiple"});const t=this.props.accept||(this.props.forVideo?"video/*":"image/*");return this.props.forVideo&&this.props.isJdSourceAndroid&&(e.capture="camcorder"),o.createElement("div",{className:"file-selector-div",style:{display:"none"}},o.createElement("input",n({id:"upload",type:"file",accept:t,onChange:e=>{this.props.onChange&&this.props.onChange(e,{inputElem:this.inputElem,onFileUploadCB:this.onFileUploadCB})},onClick:e=>{e.stopPropagation(),e.target.value=null,this.props.onClick&&this.props.onClick(e)},ref:e=>this.inputElem=e},e)))}}const c=(0,i.$j)(((e,t)=>({...t,isJdSourceAndroid:e.session.isJdSourceAndroid,isVideoEnabled:e.session.isVideoEnabled})),null,null,{forwardRef:!0})(l)},75531:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var o=a(67294);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e}).apply(this,arguments)}const r=(0,a(66107).Z)((e=>o.createElement("div",i({className:e.rippleClass+" "+e.className},e.rippleHandler,{onClick:e.clickHandler}),e.renderRipple(),e.children)))},66055:(e,t,a)=>{"use strict";a.d(t,{Z:()=>m}),a(91181);var o=a(67294),i=a(81363),r=a(20507);const n={"add-edit-block-modal":"DomL_add-edit-block-modal","add-edit-title":"_2VTu_add-edit-title","add-edit-subtitle":"STRV_add-edit-subtitle","button-wrapper":"_2BME_button-wrapper","misc-btn":"_2AgB_misc-btn","edit-product-row":"_38hi_edit-product-row",mrp:"_3ypo_mrp",sp:"_3iNg_sp","multiple-input-field":"_1Q6e_multiple-input-field","input-with-moving-label":"_1w7f_input-with-moving-label","add-edit-modal":"_28tK_add-edit-modal"};var s=a(57542);const l=e=>{const t=(0,o.useRef)(null),a=()=>{let a=[];return e.inputObj.forEach((e=>{a.push(o.createElement(r.Z,{label:e.label,holderClass:e.holderClass,input:e.input,ref:t,key:e.key,warning:e.warning,errorMessage:e.errorMessage}))})),a};return o.createElement("div",{className:n["add-edit-block-modal"]},o.createElement(i.Z,{settings:{modalId:"add-edit-modal",variant:"action"},onHidden:()=>e.onModalClose()},o.createElement(i.Z.CloseIcon,null),o.createElement(i.Z.Body,null,o.createElement("div",null,o.createElement("div",{className:n["add-edit-title"]},e.title),o.createElement("div",{className:n["add-edit-subtitle"]},e.subTitle))),e.inputObj.length>1?o.createElement("div",{className:n["multiple-input-field"]},a()):a(),o.createElement("div",{className:n["button-wrapper"]},o.createElement(s.Z,{size:"lg",clickHandler:e.onAddEditModalBtnClick,className:"".concat(n["misc-btn"]," ").concat(n["no-hover"]),showLoader:e.showLoader},e.buttonLabel))))};var c=a(510),d=a(33688),u=a(97293);const m=(0,d.Z)((e=>{let t=[];const a={};e.inputObj.forEach((e=>{a[e.key]=e.value}));const i=c.Z.useForm({initialValues:a}),{values:r,errors:s,handleFocus:d,handleChange:m,setFieldError:p}=i;e.inputObj.forEach((a=>{t.push({label:a.label,key:a.key,holderClass:"".concat(n["edit-product-row"]," ").concat(n[a.class]," ").concat(n[e.holderClass]),errorMessage:s[a.key],warning:!1,input:{value:r[a.key]||"",type:a.type,name:a.name,onChange:e=>h(e,a.key),onKeyDown:e=>g(e,a.key),onFocus:"sellingPrice"==a.key?"":e=>d(e,a.key),autoFocus:"mrp"==a.key||"productName"==a.key||"fileName"==a.key}})}));const g=e=>{13==e.which&&v()},h=(a,o)=>{if("price"==e.type){if(!/^[\d]{0,10}(\.[\d]{0,2})?$/.test(a.target.value))return;m(a,o),"mrp"==o?t[0].input.value=a.target.value:"sellingPrice"==o&&(t[1].input.value=a.target.value),parseInt(t[0].input.value)<parseInt(t[1].input.value)&&p({[t[1].key]:"Higher than MRP"}),parseInt(t[0].input.value)>=parseInt(t[1].input.value)&&p({[t[1].key]:""})}else m(a,o)},v=()=>{(()=>{let a=!0;if(e.customValidation){let o=function({isError:e,errorMsg:t,inputField:o}){e&&(p({[o.key]:t}),a=!1)};e.validateModalData(t,o)}else if(t.length>1){t.modalType="productPrice";let e=t[0],o=t[1];parseInt(o.input.value)>parseInt(e.input.value)&&(p({[o.key]:"Higher than MRP"}),a=!1)}else{let o=t[0];if(t.modalType="productName",o.input.value)o.input.value.length<3&&(p({[o.key]:"Product Name Should have Atleast 3 or More Characters"}),a=!1);else{let t="Please Enter ".concat("Product"===e.typeInfo?"Product":"Service"," Name");p({[o.key]:t}),a=!1}}return a})()&&(e.onModalClose(),e.onAddEditModalBtnClick(t),u.Z.closeCurrent())};return o.createElement(l,{title:e.title,subTitle:e.subTitle,buttonLabel:e.buttonLabel,onAddEditModalBtnClick:v,inputObj:t,onModalClose:()=>{e.onModalClose()},showLoader:e.showLoader})}),null,"edit-product-modal")},70563:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var o=a(67294),i=a(18360),r=a(79034),n=a(84663);const s=e=>o.createElement("div",{className:r.Z["no-result-container"]},o.createElement("div",{className:"no-result-sec"},o.createElement(n.Z,null,o.createElement(n.Z.Img,{src:i.Z.NO_SEARCH}),o.createElement(n.Z.SubTitle,null,e.notFoundText||"No Results Found")),e.customHTML?o.createElement("div",{className:"custom-html-container"},e.customHTML):null))},15304:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var o=a(67294),i=a(23622);const r=({text:e,search:t="",className:a="",containerClass:r,attachmentPresent:n,readOnlyProduct:s})=>{const l=(0,i.ny)({searchKey:t,searchResult:e,className:"feEe_search-highlight"});return o.createElement("div",{className:r},o.createElement("span",{className:a,dangerouslySetInnerHTML:{__html:l}}),n?o.createElement("span",{className:"icon-Gl_Attachment ".concat(s?"icon-padding":"")}):null)}},65223:(e,t,a)=>{"use strict";a.d(t,{l:()=>r,$:()=>n});var o=a(47799),i=a(79916);const r=({index:e,callback:t,fromWebstore:a})=>{if(window.jdInterface){let o=((e,t,a,o)=>{let r="";o||(r=(0,i.KJ)().supplierId);let n=o?"/marketplace/products/ajax/uploadProductImageForAdmin.service":"/marketplace/products/ajax/uploadProductImageForB2B.service?supplierId=".concat(r);return{uploadSize:"10",ajaxUrl:location.protocol+"//"+location.host+n,fileType:"jpeg,jpg,png",fieldName:"uploadedImageFile",strType:"changeImage",index:t,type:"GALLERY"}})(0,e,0,a);window.jdInterface.uploadImage(JSON.stringify(o)),window.jdInterface.appImageSuccess=function(e){t(e)}}},n=(e,t,a,i)=>{if(e.data){let r=JSON.parse(e.data)[0];if("success"===r.status){let n={imgURL:r.imgURL,actualPath:(0,o.al)(r.imgURL),imgIndex:+new Date+a+"0",uploaded:!0,variantId:a,noOfFilesToUpload:1};t.updateProductImage({imageUrl:n,editProductId:n.variantId,imgIndex:n.imgIndex,noOfFilesToUpload:"1",ignoreSave:!1,fromApp:!0,updateDefaultIndex:e.indexToReplace,showToastMessage:e.showToastMessage?t.showToastMessage:null}),i&&i(),window.hideLoader&&window.hideLoader(!0)}}else window.showLoader&&window.showLoader()}},25429:(e,t,a)=>{"use strict";a.d(t,{Z:()=>c}),a(91181);var o=a(67294);const i={indicator:"_8n62_indicator",left:"_47xm_left",right:"_2OU1_right",active:"lUkP_active","indicator-icon-holder":"_1jPk_indicator-icon-holder"};var r=a(38488);function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e}).apply(this,arguments)}const s=o.memo((e=>{const{scrollContainerRef:t}=e,[a,i]=(0,o.useState)(!1),[r,s]=(0,o.useState)(!0);(0,o.useEffect)((()=>{const e=t.current;e.scrollWidth<=e.clientWidth&&s(!1),e.onscroll=t=>{let a=!1,o=!0;e.scrollLeft>0&&(a=!0);let r=e.scrollWidth-e.clientWidth-e.scrollLeft;(e.scrollLeft===e.scrollWidth-e.clientWidth||r<=3)&&(o=!1),i(a),s(o)}}),[t,e.mediaLength]);const c=(0,o.useCallback)(((e,a)=>{const o=t.current;let i=o.scrollLeft,r=o.scrollWidth,n=o.clientWidth,s=i-250;"left"===a?s=Math.max(0,s):(s=i+250,s=Math.min(r-n,s)),i!=s&&o.scrollTo({left:s,behavior:"smooth"})}),[t]);return t?o.createElement(o.Fragment,null,o.createElement(l,n({},e,{active:a,variant:"left",onClick:c})),o.createElement(l,n({},e,{active:r,variant:"right",onClick:c}))):null})),l=o.memo((({variant:e,active:t,onClick:a})=>o.createElement("div",{className:"".concat(i.indicator," ").concat(i[e]," ").concat(i[t?"active":""]),onClick:t=>a(t,e)},o.createElement(r.Z,{className:"".concat("left"===e?"icon-HDRback":"icon-Next"," ").concat(i["indicator-icon-holder"])}))));s.displayName="ScrollingIndicators";const c=s},97954:(e,t,a)=>{"use strict";a.d(t,{Z:()=>Ce});var o=a(67294),i=a(14494),r=a(46066),n=a(4772),s=a(97241),l=a(33688),c=a(66107),d=a(29944),u=a(94134),m=a(97293),p=a(39963),g=a(47799),h=a(75804),v=a(39705),b=a(2450),f=a(75531),_=a(48230),y=a(65223),E=a(78091),P=a(25429);const w={"detail-info-popover":"_2MWV_detail-info-popover",deleteImage:"C8B6_deleteImage",arrow:"CIRD_arrow"},I=e=>o.createElement("div",{className:"".concat(w["detail-info-popover"]," ").concat(w[e.itemKey])},o.createElement("div",{className:w.arrow}),o.createElement("div",null,e.info));var S=a(46834),C=function(e,t){return Number(e.toFixed(t))},k=function(e,t,a){a&&"function"==typeof a&&a(e,t)},N={easeOut:function(e){return-Math.cos(e*Math.PI)/2+.5},linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}},T=function(e){"number"==typeof e&&cancelAnimationFrame(e)},x=function(e){e.mounted&&(T(e.animation),e.animate=!1,e.animation=null,e.velocity=null)};function D(e,t,a,o){if(e.mounted){var i=(new Date).getTime();x(e),e.animation=function(){if(!e.mounted)return T(e.animation);var r=(new Date).getTime()-i,n=(0,N[t])(r/a);r>=a?(o(1),e.animation=null):e.animation&&(o(n),requestAnimationFrame(e.animation))},requestAnimationFrame(e.animation)}}function O(e,t,a,o){var i=function(e){var t=e.scale,a=e.positionX,o=e.positionY;return!(Number.isNaN(t)||Number.isNaN(a)||Number.isNaN(o))}(t);if(e.mounted&&i){var r=e.setTransformState,n=e.transformState,s=n.scale,l=n.positionX,c=n.positionY,d=t.scale-s,u=t.positionX-l,m=t.positionY-c;0===a?r(t.scale,t.positionX,t.positionY):D(e,o,a,(function(e){r(s+d*e,l+u*e,c+m*e)}))}}var A=function(e,t){var a=e.wrapperComponent,o=e.contentComponent,i=e.setup.centerZoomedOut;if(!a||!o)throw new Error("Components are not mounted");var r=function(e,t,a){var o=e.offsetWidth,i=e.offsetHeight,r=t.offsetWidth*a,n=t.offsetHeight*a;return{wrapperWidth:o,wrapperHeight:i,newContentWidth:r,newDiffWidth:o-r,newContentHeight:n,newDiffHeight:i-n}}(a,o,t),n=r.wrapperWidth,s=r.wrapperHeight;return function(e,t,a,o,i,r,n){var s=e>t?a*(n?1:.5):0,l=o>i?r*(n?1:.5):0;return{minPositionX:e-t-s,maxPositionX:s,minPositionY:o-i-l,maxPositionY:l}}(n,r.newContentWidth,r.newDiffWidth,s,r.newContentHeight,r.newDiffHeight,Boolean(i))},M=function(e,t,a,o){return C(o?e<t?t:e>a?a:e:e,2)},Z=function(e,t){var a=A(e,t);return e.bounds=a,a};function U(e,t,a,o,i,r,n){var s=a.minPositionX,l=a.minPositionY,c=a.maxPositionX,d=a.maxPositionY,u=0,m=0;return n&&(u=i,m=r),{x:M(e,s-u,c+u,o),y:M(t,l-m,d+m,o)}}function L(e,t,a,o,i,r){var n=e.transformState,s=n.scale,l=n.positionX,c=n.positionY,d=o-s;return"number"!=typeof t||"number"!=typeof a?(console.error("Mouse X and Y position were not provided!"),{x:l,y:c}):U(l-t*d,c-a*d,i,r,0,0,null)}function R(e,t,a,o,i){var r=t-(i?o:0);return!Number.isNaN(a)&&e>=a?a:!Number.isNaN(t)&&e<=r?r:e}var j=function(e,t){var a=e.setup.panning.excluded,o=e.isInitialized,i=e.wrapperComponent,r=t.target,n=null==i?void 0:i.contains(r);return!!(o&&r&&n)&&!de(r,a)},F=function(e){var t=e.isInitialized,a=e.isPanning,o=e.setup.panning.disabled;return!(!t||!a||o)},B=function(e,t){var a=e.setup,o=e.transformState.scale,i=a.minScale,r=a.disablePadding;return t>0&&o>=i&&!r?t:0};function H(e,t,a,o,i,r,n,s,l,c){if(i){var d;if(t>n&&a>n)return(d=n+(e-n)*c)>l?l:d<n?n:d;if(t<r&&a<r)return(d=r+(e-r)*c)<s?s:d>r?r:d}return o?t:M(e,r,n,i)}function V(e,t){var a=e.transformState.scale;x(e),Z(e,a),void 0!==window.TouchEvent&&t instanceof TouchEvent?function(e,t){var a=t.touches,o=e.transformState,i=o.positionX,r=o.positionY;if(e.isPanning=!0,1===a.length){var n=a[0].clientX,s=a[0].clientY;e.startCoords={x:n-i,y:s-r}}}(e,t):function(e,t){var a=e.transformState,o=a.positionX,i=a.positionY;e.isPanning=!0;var r=t.clientX,n=t.clientY;e.startCoords={x:r-o,y:n-i}}(e,t)}function W(e){var t=e.transformState.scale,a=e.setup,o=a.minScale,i=a.alignmentAnimation,r=i.disabled,n=i.sizeX,s=i.sizeY,l=i.animationTime,c=i.animationType;if(!(r||t<o||!n&&!s)){var d=function(e){var t=e.transformState,a=t.positionX,o=t.positionY,i=t.scale,r=e.setup,n=r.disabled,s=r.limitToBounds,l=r.centerZoomedOut,c=e.wrapperComponent;if(!n&&c&&e.bounds){var d=e.bounds,u=d.maxPositionX,m=d.minPositionX,p=d.maxPositionY,g=d.minPositionY,h=a>u||a<m,v=o>p||o<g,b=L(e,a>u?c.offsetWidth:e.setup.minPositionX||0,o>p?c.offsetHeight:e.setup.minPositionY||0,i,e.bounds,s||l),f=b.x,_=b.y;return{scale:i,positionX:h?f:a,positionY:v?_:o}}}(e);d&&O(e,d,l,c)}}function K(e,t,a){var o=e.startCoords,i=e.setup.alignmentAnimation,r=i.sizeX,n=i.sizeY;if(o){var s=function(e,t,a){var o=e.startCoords,i=e.transformState,r=e.setup.panning,n=r.lockAxisX,s=r.lockAxisY,l=i.positionX,c=i.positionY;if(!o)return{x:l,y:c};var d=t-o.x,u=a-o.y;return{x:n?l:d,y:s?c:u}}(e,t,a),l=s.x,c=s.y,d=B(e,r),u=B(e,n);(function(e,t){if(function(e){var t=e.mounted,a=e.setup,o=a.disabled,i=a.velocityAnimation,r=e.transformState.scale;return!(i.disabled&&!(r>1)&&o&&!t)}(e)){var a=e.lastMousePosition,o=e.velocityTime,i=e.setup,r=e.wrapperComponent,n=i.velocityAnimation.equalToMove,s=Date.now();if(a&&o&&r){var l=function(e,t){return t?Math.min(1,e.offsetWidth/window.innerWidth):1}(r,n),c=t.x-a.x,d=t.y-a.y,u=c/l,m=d/l,p=s-o,g=c*c+d*d,h=Math.sqrt(g)/p;e.velocity={velocityX:u,velocityY:m,total:h}}e.lastMousePosition=t,e.velocityTime=s}})(e,{x:l,y:c}),function(e,t,a,o,i){var r=e.setup.limitToBounds,n=e.wrapperComponent,s=e.bounds,l=e.transformState,c=l.scale,d=l.positionX,u=l.positionY;if(null!==n&&null!==s&&(t!==d||a!==u)){var m=U(t,a,s,r,o,i,n),p=m.x,g=m.y;e.setTransformState(c,p,g)}}(e,l,c,d,u)}}function G(e,t,a,o){var i=e.setup,r=i.minScale,n=i.maxScale,s=i.limitToBounds,l=R(C(t,2),r,n,0,!1),c=L(e,a,o,l,Z(e,l),s);return{scale:l,positionX:c.x,positionY:c.y}}function z(e,t,a){var o=e.transformState.scale,i=e.wrapperComponent,r=e.setup,n=r.minScale,s=r.limitToBounds,l=r.zoomAnimation,c=l.disabled,d=l.animationTime,u=l.animationType,m=c||o>=n;if((o>=1||s)&&W(e),!m&&i&&e.mounted){var p=G(e,n,t||i.offsetWidth/2,a||i.offsetHeight/2);p&&O(e,p,d,u)}}var Y=function(){return(Y=Object.assign||function(e){for(var t,a=1,o=arguments.length;a<o;a++)for(var i in t=arguments[a])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function J(e,t,a){if(a||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)!o&&i in t||(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))}var q={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,wheel:{step:.2,disabled:!1,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},X=function(e){var t,a,o,i;return{previousScale:null!==(t=e.initialScale)&&void 0!==t?t:1,scale:null!==(a=e.initialScale)&&void 0!==a?a:1,positionX:null!==(o=e.initialPositionX)&&void 0!==o?o:0,positionY:null!==(i=e.initialPositionY)&&void 0!==i?i:0}},Q=function(e){var t=Y({},q);return Object.keys(e).forEach((function(a){var o=void 0!==e[a];if(void 0!==q[a]&&o){var i=Object.prototype.toString.call(q[a]),r="[object Object]"===i,n="[object Array]"===i;t[a]=r?Y(Y({},q[a]),e[a]):n?J(J([],q[a],!0),e[a],!0):e[a]}})),t},$=function(e,t,a){var o=e.transformState.scale,i=e.wrapperComponent,r=e.setup,n=r.maxScale,s=r.minScale,l=r.zoomAnimation.size;if(!i)throw new Error("Wrapper is not mounted");var c=o*Math.exp(t*a);return R(C(c,3),s,n,l,!1)};function ee(e,t,a,o,i){var r=e.wrapperComponent,n=e.transformState,s=n.scale,l=n.positionX,c=n.positionY;if(!r)return console.error("No WrapperComponent found");var d=(r.offsetWidth/2-l)/s,u=(r.offsetHeight/2-c)/s,m=G(e,$(e,t,a),d,u);if(!m)return console.error("Error during zoom event. New transformation state was not calculated.");O(e,m,o,i)}function te(e,t,a,o){var i=e.setup,r=e.wrapperComponent,n=i.limitToBounds,s=X(e.props),l=e.transformState,c=l.scale,d=l.positionX,u=l.positionY;if(r){var m=A(e,s.scale),p=U(s.positionX,s.positionY,m,n,0,0,r),g={scale:s.scale,positionX:p.x,positionY:p.y};c===s.scale&&d===s.positionX&&u===s.positionY||(null==o||o(),O(e,g,t,a))}}var ae=function(e){return function(t,a,o){void 0===t&&(t=.5),void 0===a&&(a=300),void 0===o&&(o="easeOut"),ee(e,1,t,a,o)}},oe=function(e){return function(t,a,o){void 0===t&&(t=.5),void 0===a&&(a=300),void 0===o&&(o="easeOut"),ee(e,-1,t,a,o)}},ie=function(e){return function(t,a,o,i,r){void 0===i&&(i=300),void 0===r&&(r="easeOut");var n=e.transformState,s=n.positionX,l=n.positionY,c=n.scale,d=e.wrapperComponent,u=e.contentComponent;if(!e.setup.disabled&&d&&u){var m={positionX:Number.isNaN(t)?s:t,positionY:Number.isNaN(a)?l:a,scale:Number.isNaN(o)?c:o};O(e,m,i,r)}}},re=function(e){return function(t,a){void 0===t&&(t=200),void 0===a&&(a="easeOut"),te(e,t,a)}},ne=function(e){return function(t,a,o){void 0===a&&(a=200),void 0===o&&(o="easeOut");var i=e.transformState,r=e.wrapperComponent,n=e.contentComponent;if(r&&n){var s=me(t||i.scale,r,n);O(e,s,a,o)}}},se=function(e){return function(t,a,o,i){void 0===o&&(o=600),void 0===i&&(i="easeOut"),x(e);var r=e.wrapperComponent,n="string"==typeof t?document.getElementById(t):t;if(r&&n&&r.contains(n)){var s=function(e,t,a){var o=e.wrapperComponent,i=e.contentComponent,r=e.transformState,n=e.setup,s=n.limitToBounds,l=n.minScale,c=n.maxScale;if(!o||!i)return r;var d,u,m,p,g,h,v,b,f=o.getBoundingClientRect(),_=t.getBoundingClientRect(),y=(d=o,u=i,m=r,p=t.getBoundingClientRect(),g=d.getBoundingClientRect(),h=u.getBoundingClientRect(),v=g.x*m.scale,b=g.y*m.scale,{x:(p.x-h.x+v)/m.scale,y:(p.y-h.y+b)/m.scale}),E=y.x,P=y.y,w=_.width/r.scale,I=_.height/r.scale,S=o.offsetWidth/w,C=o.offsetHeight/I,k=R(a||Math.min(S,C),l,c,0,!1),N=(f.width-w*k)/2,T=(f.height-I*k)/2,x=U((f.left-E)*k+N,(f.top-P)*k+T,A(e,k),s,0,0,o);return{positionX:x.x,positionY:x.y,scale:k}}(e,n,a);O(e,s,o,i)}}},le=function(e){return{instance:e,state:e.transformState,zoomIn:ae(e),zoomOut:oe(e),setTransform:ie(e),resetTransform:re(e),centerView:ne(e),zoomToElement:se(e)}};function ce(){try{return{get passive(){return!1}}}catch(e){return!1}}var de=function(e,t){var a=e.tagName.toUpperCase();return!!t.find((function(e){return e.toUpperCase()===a}))||!!t.find((function(t){return e.classList.contains(t)}))},ue=function(e){e&&clearTimeout(e)},me=function(e,t,a){var o=a.offsetWidth*e,i=a.offsetHeight*e;return{scale:e,positionX:(t.offsetWidth-o)/2,positionY:(t.offsetHeight-i)/2}};function pe(e,t,a){var o=t.getBoundingClientRect(),i=0,r=0;if("clientX"in e)i=(e.clientX-o.left)/a,r=(e.clientY-o.top)/a;else{var n=e.touches[0];i=(n.clientX-o.left)/a,r=(n.clientY-o.top)/a}return(Number.isNaN(i)||Number.isNaN(r))&&console.error("No mouse or touch offset found"),{x:i,y:r}}var ge=function(e){return Math.sqrt(Math.pow(e.touches[0].pageX-e.touches[1].pageX,2)+Math.pow(e.touches[0].pageY-e.touches[1].pageY,2))},he=function(e,t){var a=e.props.onZoomStop,o=e.setup.doubleClick.animationTime;ue(e.doubleClickStopEventTimer),e.doubleClickStopEventTimer=setTimeout((function(){e.doubleClickStopEventTimer=null,k(le(e),t,a)}),o)};var ve=function(e){var t=this;this.mounted=!0,this.onChangeCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){t.initializeWindowEvents()},this.unmount=function(){t.cleanupWindowEvents()},this.update=function(e){Z(t,t.transformState.scale),t.setup=Q(e)},this.initializeWindowEvents=function(){var e,a=ce(),o=null===(e=t.wrapperComponent)||void 0===e?void 0:e.ownerDocument,i=null==o?void 0:o.defaultView;null==i||i.addEventListener("mousedown",t.onPanningStart,a),null==i||i.addEventListener("mousemove",t.onPanning,a),null==i||i.addEventListener("mouseup",t.onPanningStop,a),null==o||o.addEventListener("mouseleave",t.clearPanning,a),null==i||i.addEventListener("keyup",t.setKeyUnPressed,a),null==i||i.addEventListener("keydown",t.setKeyPressed,a)},this.cleanupWindowEvents=function(){var e,a,o=ce(),i=null===(e=t.wrapperComponent)||void 0===e?void 0:e.ownerDocument,r=null==i?void 0:i.defaultView;null==r||r.removeEventListener("mousedown",t.onPanningStart,o),null==r||r.removeEventListener("mousemove",t.onPanning,o),null==r||r.removeEventListener("mouseup",t.onPanningStop,o),null==i||i.removeEventListener("mouseleave",t.clearPanning,o),null==r||r.removeEventListener("keyup",t.setKeyUnPressed,o),null==r||r.removeEventListener("keydown",t.setKeyPressed,o),document.removeEventListener("mouseleave",t.clearPanning,o),x(t),null===(a=t.observer)||void 0===a||a.disconnect()},this.handleInitializeWrapperEvents=function(e){var a=ce();e.addEventListener("wheel",t.onWheelZoom,a),e.addEventListener("dblclick",t.onDoubleClick,a),e.addEventListener("touchstart",t.onTouchPanningStart,a),e.addEventListener("touchmove",t.onTouchPanning,a),e.addEventListener("touchend",t.onTouchPanningStop,a)},this.handleInitialize=function(e){var a=t.setup.centerOnInit;t.applyTransformation(),a&&(t.setCenter(),t.observer=new ResizeObserver((function(){var e;t.setCenter(),null===(e=t.observer)||void 0===e||e.disconnect()})),t.observer.observe(e))},this.onWheelZoom=function(e){t.setup.disabled||function(e,t){var a=e.setup.wheel,o=a.disabled,i=a.wheelDisabled,r=a.touchPadDisabled,n=a.excluded,s=e.isInitialized,l=e.isPanning,c=t.target;return!(!s||l||o||!c||i&&!t.ctrlKey||r&&t.ctrlKey||de(c,n))}(t,e)&&t.isPressingKeys(t.setup.wheel.activationKeys)&&(function(e,t){var a=e.props,o=a.onWheelStart,i=a.onZoomStart;e.wheelStopEventTimer||(x(e),k(le(e),t,o),k(le(e),t,i))}(t,e),function(e,t){var a=e.props,o=a.onWheel,i=a.onZoom,r=e.contentComponent,n=e.setup,s=e.transformState.scale,l=n.limitToBounds,c=n.centerZoomedOut,d=n.zoomAnimation,u=n.wheel,m=n.disablePadding,p=d.size,g=d.disabled,h=u.step;if(!r)throw new Error("Component not mounted");t.preventDefault(),t.stopPropagation();var v=function(e,t,a,o,i){var r=e.transformState.scale,n=e.wrapperComponent,s=e.setup,l=s.maxScale,c=s.minScale,d=s.zoomAnimation,u=s.disablePadding,m=d.size,p=d.disabled;if(!n)throw new Error("Wrapper is not mounted");var g=!o&&!p;return R(C(r+t*(r-r*a)*a,3),c,l,m,g&&!u)}(e,function(e,t){return function(e){return e?e.deltaY<0?1:-1:0}(e)}(t),h,!t.ctrlKey);if(s!==v){var b=Z(e,v),f=pe(t,r,s),_=l&&(g||0===p||c||m),y=L(e,f.x,f.y,v,b,_),E=y.x,P=y.y;e.previousWheelEvent=t,e.setTransformState(v,E,P),k(le(e),t,o),k(le(e),t,i)}}(t,e),function(e,t){var a=e.props,o=a.onWheelStop,i=a.onZoomStop;ue(e.wheelAnimationTimer),e.wheelAnimationTimer=setTimeout((function(){e.mounted&&(z(e,t.x,t.y),e.wheelAnimationTimer=null)}),100),function(e,t){var a=e.previousWheelEvent,o=e.transformState.scale,i=e.setup,r=i.maxScale,n=i.minScale;return!!a&&(o<r||o>n||Math.sign(a.deltaY)!==Math.sign(t.deltaY)||a.deltaY>0&&a.deltaY<t.deltaY||a.deltaY<0&&a.deltaY>t.deltaY||Math.sign(a.deltaY)!==Math.sign(t.deltaY))}(e,t)&&(ue(e.wheelStopEventTimer),e.wheelStopEventTimer=setTimeout((function(){e.mounted&&(e.wheelStopEventTimer=null,k(le(e),t,o),k(le(e),t,i))}),160))}(t,e))},this.onPanningStart=function(e){var a=t.setup.disabled,o=t.props.onPanningStart;a||j(t,e)&&t.isPressingKeys(t.setup.panning.activationKeys)&&(e.preventDefault(),e.stopPropagation(),x(t),V(t,e),k(le(t),e,o))},this.onPanning=function(e){var a=t.setup.disabled,o=t.props.onPanning;a||F(t)&&t.isPressingKeys(t.setup.panning.activationKeys)&&(e.preventDefault(),e.stopPropagation(),K(t,e.clientX,e.clientY),k(le(t),e,o))},this.onPanningStop=function(e){var a=t.props.onPanningStop;t.isPanning&&(function(e){if(e.isPanning){var t=e.setup.panning.velocityDisabled,a=e.velocity,o=e.wrapperComponent,i=e.contentComponent;e.isPanning=!1,e.animate=!1,e.animation=null;var r=null==o?void 0:o.getBoundingClientRect(),n=null==i?void 0:i.getBoundingClientRect(),s=(null==r?void 0:r.width)||0,l=(null==r?void 0:r.height)||0,c=(null==n?void 0:n.width)||0,d=(null==n?void 0:n.height)||0,u=s<c||l<d;!t&&a&&(null==a?void 0:a.total)>.1&&u?function(e){var t=e.velocity,a=e.bounds,o=e.setup,i=e.wrapperComponent;if(function(e){var t=e.mounted,a=e.velocity,o=e.bounds,i=e.setup,r=i.disabled,n=i.velocityAnimation,s=e.transformState.scale;return!(n.disabled&&!(s>1)&&r&&!t||!a||!o)}(e)&&t&&a&&i){var r=t.velocityX,n=t.velocityY,s=t.total,l=a.maxPositionX,c=a.minPositionX,d=a.maxPositionY,u=a.minPositionY,m=o.limitToBounds,p=o.alignmentAnimation,g=o.zoomAnimation,h=o.panning,v=h.lockAxisY,b=h.lockAxisX,f=g.animationType,_=p.sizeX,y=p.sizeY,E=p.velocityAlignmentTime,P=function(e,t){var a=e.setup.velocityAnimation,o=a.equalToMove,i=a.animationTime,r=a.sensitivity;return o?i*t*r:i}(e,s),w=Math.max(P,E),I=B(e,_),S=B(e,y),C=I*i.offsetWidth/100,k=S*i.offsetHeight/100,T=l+C,x=c-C,O=d+k,A=u-k,M=e.transformState,Z=(new Date).getTime();D(e,f,w,(function(t){var a=e.transformState,o=a.scale,i=a.positionX,s=a.positionY,g=((new Date).getTime()-Z)/E,h=1-(0,N[p.animationType])(Math.min(1,g)),f=1-t,_=i+r*f,y=s+n*f,P=H(_,M.positionX,i,b,m,c,l,x,T,h),w=H(y,M.positionY,s,v,m,u,d,A,O,h);i===_&&s===y||e.setTransformState(o,P,w)}))}}(e):W(e)}}(t),k(le(t),e,a))},this.onPinchStart=function(e){var a=t.setup.disabled,o=t.props,i=o.onPinchingStart,r=o.onZoomStart;a||function(e,t){var a=e.setup.pinch,o=a.disabled,i=a.excluded,r=e.isInitialized,n=t.target;return!(!r||o||!n||de(n,i))}(t,e)&&(function(e,t){var a=ge(t);e.pinchStartDistance=a,e.lastDistance=a,e.pinchStartScale=e.transformState.scale,e.isPanning=!1,x(e)}(t,e),x(t),k(le(t),e,i),k(le(t),e,r))},this.onPinch=function(e){var a=t.setup.disabled,o=t.props,i=o.onPinching,r=o.onZoom;a||function(e){var t=e.setup.pinch.disabled,a=e.isInitialized,o=e.pinchStartDistance;return!(!a||t||!o)}(t)&&(e.preventDefault(),e.stopPropagation(),function(e,t){var a=e.contentComponent,o=e.pinchStartDistance,i=e.transformState.scale,r=e.setup,n=r.limitToBounds,s=r.centerZoomedOut,l=r.zoomAnimation,c=l.disabled,d=l.size;if(null!==o&&a){var u=function(e,t,a){var o=a.getBoundingClientRect(),i=e.touches,r=C(i[0].clientX-o.left,5),n=C(i[0].clientY-o.top,5);return{x:(r+C(i[1].clientX-o.left,5))/2/t,y:(n+C(i[1].clientY-o.top,5))/2/t}}(t,i,a);if(Number.isFinite(u.x)&&Number.isFinite(u.y)){var m=ge(t),p=function(e,t){var a=e.pinchStartScale,o=e.pinchStartDistance,i=e.setup,r=i.maxScale,n=i.minScale,s=i.zoomAnimation,l=i.disablePadding,c=s.size,d=s.disabled;if(!a||null===o||!t)throw new Error("Pinch touches distance was not provided");return t<0?e.transformState.scale:R(C(t/o*a,2),n,r,c,!d&&!l)}(e,m);if(p!==i){var g=Z(e,p),h=n&&(c||0===d||s),v=L(e,u.x,u.y,p,g,h),b=v.x,f=v.y;e.pinchMidpoint=u,e.lastDistance=m,e.setTransformState(p,b,f)}}}}(t,e),k(le(t),e,i),k(le(t),e,r))},this.onPinchStop=function(e){var a,o,i=t.props,r=i.onPinchingStop,n=i.onZoomStop;t.pinchStartScale&&(o=(a=t).pinchMidpoint,a.velocity=null,a.lastDistance=null,a.pinchMidpoint=null,a.pinchStartScale=null,a.pinchStartDistance=null,z(a,null==o?void 0:o.x,null==o?void 0:o.y),k(le(t),e,r),k(le(t),e,n))},this.onTouchPanningStart=function(e){var a=t.setup.disabled,o=t.props.onPanningStart;if(!a&&j(t,e))if(t.lastTouch&&+new Date-t.lastTouch<200&&1===e.touches.length)t.onDoubleClick(e);else{t.lastTouch=+new Date,x(t);var i=e.touches,r=1===i.length,n=2===i.length;r&&(x(t),V(t,e),k(le(t),e,o)),n&&t.onPinchStart(e)}},this.onTouchPanning=function(e){var a=t.setup.disabled,o=t.props.onPanning;if(t.isPanning&&1===e.touches.length){if(a)return;if(!F(t))return;e.preventDefault(),e.stopPropagation();var i=e.touches[0];K(t,i.clientX,i.clientY),k(le(t),e,o)}else e.touches.length>1&&t.onPinch(e)},this.onTouchPanningStop=function(e){t.onPanningStop(e),t.onPinchStop(e)},this.onDoubleClick=function(e){t.setup.disabled||function(e,t){var a=e.isInitialized,o=e.setup,i=e.wrapperComponent,r=o.doubleClick,n=r.disabled,s=r.excluded,l=t.target,c=null==i?void 0:i.contains(l);return!(!(a&&l&&c)||n||de(l,s))}(t,e)&&function(e,t){var a=e.setup,o=e.doubleClickStopEventTimer,i=e.transformState,r=e.contentComponent,n=i.scale,s=e.props,l=s.onZoomStart,c=s.onZoom,d=a.doubleClick,u=d.disabled,m=d.mode,p=d.step,g=d.animationTime,h=d.animationType;if(!u&&!o){if("reset"===m)return function(e,t){var a=e.props,o=a.onZoomStart,i=a.onZoom,r=e.setup.doubleClick,n=r.animationTime,s=r.animationType;k(le(e),t,o),te(e,n,s,(function(){return k(le(e),t,i)})),he(e,t)}(e,t);if(!r)return console.error("No ContentComponent found");var v=$(e,"zoomOut"===m?-1:1,p);if(n!==v){k(le(e),t,l);var b=pe(t,r,n),f=G(e,v,b.x,b.y);if(!f)return console.error("Error during zoom event. New transformation state was not calculated.");k(le(e),t,c),O(e,f,g,h),he(e,t)}}}(t,e)},this.clearPanning=function(e){t.isPanning&&t.onPanningStop(e)},this.setKeyPressed=function(e){t.pressedKeys[e.key]=!0},this.setKeyUnPressed=function(e){t.pressedKeys[e.key]=!1},this.isPressingKeys=function(e){return!e.length||Boolean(e.find((function(e){return t.pressedKeys[e]})))},this.setTransformState=function(e,a,o){var i=t.props.onTransformed;if(Number.isNaN(e)||Number.isNaN(a)||Number.isNaN(o))console.error("Detected NaN set state values");else{e!==t.transformState.scale&&(t.transformState.previousScale=t.transformState.scale,t.transformState.scale=e),t.transformState.positionX=a,t.transformState.positionY=o;var r=le(t);t.onChangeCallbacks.forEach((function(e){return e(r)})),k(r,{scale:e,positionX:a,positionY:o},i),t.applyTransformation()}},this.setCenter=function(){if(t.wrapperComponent&&t.contentComponent){var e=me(t.transformState.scale,t.wrapperComponent,t.contentComponent);t.setTransformState(e.scale,e.positionX,e.positionY)}},this.handleTransformStyles=function(e,a,o){return t.props.customTransform?t.props.customTransform(e,a,o):function(e,t,a){return"translate(".concat(e,"px, ").concat(t,"px) scale(").concat(a,")")}(e,a,o)},this.applyTransformation=function(){if(t.mounted&&t.contentComponent){var e=t.transformState,a=e.scale,o=e.positionX,i=e.positionY,r=t.handleTransformStyles(o,i,a);t.contentComponent.style.transform=r}},this.getContext=function(){return le(t)},this.onChange=function(e){return t.onChangeCallbacks.has(e)||t.onChangeCallbacks.add(e),function(){t.onChangeCallbacks.delete(e)}},this.init=function(e,a){t.cleanupWindowEvents(),t.wrapperComponent=e,t.contentComponent=a,Z(t,t.transformState.scale),t.handleInitializeWrapperEvents(e),t.handleInitialize(a),t.initializeWindowEvents(),t.isInitialized=!0,k(le(t),void 0,t.props.onInit)},this.props=e,this.setup=Q(this.props),this.transformState=X(this.props)},be=o.createContext(null),fe=o.forwardRef((function(e,t){var a=(0,o.useState)(0)[1],i=e.children,r=(0,o.useRef)(new ve(e)).current,n=function(e,t){return"function"==typeof e?e(t):e}(e.children,le(r)),s=(0,o.useCallback)((function(){"function"==typeof i&&a((function(e){return e+1}))}),[i]);return(0,o.useImperativeHandle)(t,(function(){return le(r)}),[r]),(0,o.useEffect)((function(){r.update(e)}),[r,e]),(0,o.useEffect)((function(){return r.onChange(s)}),[r,e,s]),o.createElement(be.Provider,{value:r},n)}));!function(e,t){void 0===t&&(t={});var a=t.insertAt;if("undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===a&&o.firstChild?o.insertBefore(i,o.firstChild):o.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}(".transform-component-module_wrapper__7HFJe {\n  position: relative;\n  width: -moz-fit-content;\n  width: fit-content;\n  height: -moz-fit-content;\n  height: fit-content;\n  overflow: hidden;\n  -webkit-touch-callout: none; /* iOS Safari */\n  -webkit-user-select: none; /* Safari */\n  -khtml-user-select: none; /* Konqueror HTML */\n  -moz-user-select: none; /* Firefox */\n  -ms-user-select: none; /* Internet Explorer/Edge */\n  user-select: none;\n  margin: 0;\n  padding: 0;\n}\n.transform-component-module_content__uCDPE {\n  display: flex;\n  flex-wrap: wrap;\n  width: -moz-fit-content;\n  width: fit-content;\n  height: -moz-fit-content;\n  height: fit-content;\n  margin: 0;\n  padding: 0;\n  transform-origin: 0% 0%;\n}\n.transform-component-module_content__uCDPE img {\n  pointer-events: none;\n}\n");var _e=function(e){var t=e.children,a=e.wrapperClass,i=void 0===a?"":a,r=e.contentClass,n=void 0===r?"":r,s=e.wrapperStyle,l=e.contentStyle,c=e.wrapperProps,d=void 0===c?{}:c,u=e.contentProps,m=void 0===u?{}:u,p=(0,o.useContext)(be).init,g=(0,o.useRef)(null),h=(0,o.useRef)(null);return(0,o.useEffect)((function(){var e=g.current,t=h.current;null!==e&&null!==t&&p&&p(e,t)}),[]),o.createElement("div",Y({},d,{ref:g,className:"react-transform-wrapper ".concat("transform-component-module_wrapper__7HFJe"," ").concat(i),style:s}),o.createElement("div",Y({},m,{ref:h,className:"react-transform-component ".concat("transform-component-module_content__uCDPE"," ").concat(n),style:l}),t))};function ye(){return(ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e}).apply(this,arguments)}function Ee(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}o.forwardRef((function(e,t){var a,i=(0,o.useRef)(null),r=(0,o.useContext)(be);return(0,o.useEffect)((function(){return r.onChange((function(e){i.current&&(i.current.style.transform=r.handleTransformStyles(0,0,1/e.state.scale))}))}),[r]),o.createElement("div",Y({},e,{ref:(a=[i,t],function(e){a.forEach((function(t){"function"==typeof t?t(e):null!=t&&(t.current=e)}))})}))}));const Pe=(0,l.Z)(E.Q);class we extends o.Component{constructor(...e){super(...e),Ee(this,"addImageIcon","icon-AddNewImage"),Ee(this,"showColorImage",null!=this.props.showColorImage&&this.props.showColorImage),Ee(this,"getImageUrls",((e,t)=>{let a;return"CMS"==this.props.source?t.length?e.length?(a=[...e],a.splice(1,0,...t)):a=t:a=e:a=[...e,...t],a.map(((e,t)=>e))})),Ee(this,"getModalTitle",(e=>o.createElement("span",{style:{fontWeight:"600"}},e))),Ee(this,"checkForOptions",(()=>{this.props.showOptions?this.setState({uploadSlider:{show:!0}}):this.fileSelector.triggerClick(!0)})),Ee(this,"checkForOptionsBusiness",((e,t)=>{let a=this;if(this.props.showOptions)this.setState({uploadSlider:{show:!0,type:t?"video":"image",containerInfo:{element:e.currentTarget||e.target,pos:"bottom"}}});else if(!window.jdInterface||window.jdInterface.isIOSApp||window.jdInterface.openNativeFileChooser)"webstore"!=this.props.session.source&&"b2b"!=this.props.session.source||"CMS"==this.props.source?this.fileSelector.triggerClick(!0):(this.props.toggleUploadOptions({show:!0,type:t?"video":"image",fromListing:this.props.fromListing||!1,data:{variantId:this.props.variantId,ignoreSave:!t&&this.props.ignoreSave,imageUrlArr:this.props.imageUrlArr},style:{position:"absolute",left:e.clientX-215,top:e.clientY-document.body.getBoundingClientRect().top-55},containerInfo:{element:e.currentTarget||e.target,pos:this.useBottomPostion?"bottom":"left"}}),this.useBottomPostion=!1);else{let e=function(e){(0,y.$)(e,a.props,a.props.variantId,(function(){a.setState({showSaveButton:!0})}))};(0,y.l)({index:0,callback:e})}})),Ee(this,"checkForOptions",((e,t)=>{if(!this.props.isReadOnly)if(this.props.b2bGenio&&this.props.checkLoggedIn){let a=this;this.props.checkLoggedIn({cb:()=>{a.checkForOptionsBusiness(e,t)},history:a.props.routerHistory})}else this.checkForOptionsBusiness(e,t)})),Ee(this,"actionModalRef",o.createRef()),Ee(this,"selImageIndex",this.props.selImageIndex||0),Ee(this,"dontShowPrimary",this.props.dontShowPrimaryTag||!1),Ee(this,"state",{loadingImageTitle:0,showPrimaryModal:!1,selectedImageIndex:this.selImageIndex,defaultImageIndex:0,showSaveButton:!1,loadedImages:[Math.max(this.selImageIndex-1,0),this.selImageIndex,this.selImageIndex+1],dontShowPrimaryTag:this.dontShowPrimary,modalOptions:{onHidden:()=>{this.setState({showPrimaryModal:!1})},settings:{modalId:"editProductModal",class:n.Z["edit-product-modal"]},clearAllScrollLocks:!1,btnArray:[{variant:"secondary",children:"Cancel",clickHandler:()=>{m.Z.closeCurrent()}},{variant:"primary",children:"Yes",clickHandler:()=>{this.setDefaultImage(),m.Z.closeCurrent()}}],title:this.getModalTitle("Set as Primary Image"),content:"Are you sure you want to set as primary image?"},previousImageUrlLength:this.props.imageUrlArr.length,previousVideosUrlLength:this.props.videoUrlArr.length}),Ee(this,"thumbnailHolder",o.createRef()),Ee(this,"focusTimer",null),Ee(this,"componentDidUpdate",(e=>{const{previousImageUrlLength:t,previousVideosUrlLength:a}=this.state,o=t<this.props.imageUrlArr.length,i=a<this.props.videoUrlArr.length;if(null===this.focusTimer&&(o||i)){let e=i?this.props.imageUrlArr.length+1:this.props.imageUrlArr.length-1;"number"==typeof this.restoreIndex&&(e=this.restoreIndex,delete this.restoreIndex),this.focusTimer=setTimeout((()=>{this.focusTimer=null,this.setState({previousImageUrlLength:this.props.imageUrlArr.length,previousVideosUrlLength:this.props.videoUrlArr.length}),this.onImageClick(e,!0)}),200)}})),Ee(this,"deleteVideoBusiness",(e=>{const t=this.state.selectedImageIndex;this.props.showUndoToast&&this.props.showToastMessage({showToastMessage:!0,message:"Video Removed",duration:5e3,hasUndo:!0,type:"info",onUndoClick:()=>{console.log("On Undo Clicked Here"),this.props.restoreProductData(),this.restoreIndex=t}}),this.setState({showSaveButton:!0,previousVideosUrlLength:this.state.previousVideosUrlLength-1}),this.onImageClick(this.props.imageUrlArr.length-1,!0),this.props.deleteProductVideo({variantId:this.props.variantId,videoId:e,ignoreSave:this.props.ignoreSave,undoInfo:{type:"video",data:{videoId:e},variantId:this.props.variantId,index:t}})})),Ee(this,"deleteVideo",(e=>{if(this.props.b2bGenio&&this.props.checkLoggedIn){let t=this;this.props.checkLoggedIn({cb:()=>{t.deleteVideoBusiness(e)},history:t.props.routerHistory})}else this.deleteVideoBusiness(e)})),Ee(this,"deleteImageBusiness",(()=>{if(this.props.showUndoToast){const e=this.state.selectedImageIndex;this.props.showLibraryToastMessage({showToastMessage:!0,message:"Image Removed",duration:5e3,hasUndo:!0,type:"info",onUndoClick:()=>{console.log("On Undo Clicked Here"),this.restoreIndex=e,this.props.restoreProductData()}})}const e=this.state.selectedImageIndex;this.setState({showSaveButton:!0});let t=[...this.props.imageUrlArr];t.splice(this.state.selectedImageIndex,1),t.length>e?this.onImageClick(e,!0):1==t.length&&this.onImageClick(0,!0),this.props.deleteProductImage({variantId:this.props.variantId,supplierId:this.props.session.supplierId,imageUrlArr:t,ignoreSave:this.props.ignoreSave,undoInfo:{type:"image",index:e,variantId:this.props.variantId,data:{...this.props.imageUrlArr[e]}}})})),Ee(this,"onFileUpload",((e,t)=>{const a=e.target.files.length;this.setState({showSaveButton:!0,loadingImageTitle:a}),(0,g.b8)({data:e.target.files,variantId:t.variantId,uploadedFrom:"image",updateImage:e=>{let a=t.variantId;"ADD_PRODUCT"===a&&e.variantId&&(a=e.variantId),this.setState({loadingImageTitle:e.noOfFilesToUpload>this.state.loadingImageTitle?--this.state.loadingImageTitle:--e.noOfFilesToUpload}),t.updateProductImage({imageUrl:e,editProductId:a,imgIndex:e.imgIndex,noOfFilesToUpload:e.noOfFilesToUpload,ignoreSave:this.props.ignoreSave,source:this.props.session.source}),this.onImageClick(this.props.imageUrlArr.length-1)},fromTemplate:t.fromTemplate,imageUrlArr:t.imageUrlArr,showToastMessage:t.showToastMessage,imgUploadUrl:t.imgUploadUrl,onErrorCB:()=>{this.setState({loadingImageTitle:--this.state.loadingImageTitle})}})})),Ee(this,"defaultBusiness",(()=>{this.setState({showSaveButton:!0});let e=[...this.props.imageUrlArr],t=e.splice(this.state.selectedImageIndex,1);t[0]&&e.unshift(t[0]),this.onImageClick(0,!0),this.props.deleteProductImage({variantId:this.props.variantId,supplierId:this.props.session.supplierId,imageUrlArr:e,ignoreSave:this.props.ignoreSave})})),Ee(this,"setDefaultImage",(()=>{if(this.props.b2bGenio&&this.props.checkLoggedIn){let e=this;this.props.checkLoggedIn({cb:()=>{e.defaultBusiness()},history:e.props.routerHistory})}else this.defaultBusiness()})),Ee(this,"getImagesToLoad",(e=>{let t=[e-1,e,e+1],a=[...this.state.loadedImages];return t.map((e=>{a.includes(e)||a.push(e)})),a})),Ee(this,"onImageAdd",(()=>{this.setState({showSaveButton:!0})}))}componentDidMount(){this.slickSlider&&(this.slickSlider.slickGoTo(this.state.selectedImageIndex),this.setScrollToSelectedThumbnai())}onImageClick(e,t){this.setState({selectedImageIndex:e,loadedImages:this.getImagesToLoad(e)},(()=>{t&&this.setScrollToSelectedThumbnai()})),this.slickSlider&&this.slickSlider.slickGoTo(e)}setScrollToSelectedThumbnai(){const e=this.thumbnailHolder;if(e&&e.current){const t=this.state.selectedImageIndex,a=this.props.ignoreSave?80:90;e.current.scrollLeft=t*a}}deleteImage(){if(this.props.b2bGenio&&this.props.checkLoggedIn){let e=this;this.props.checkLoggedIn({cb:()=>{e.deleteImageBusiness()},history:e.props.routerHistory})}else this.deleteImageBusiness()}getPath(e,t){if(e)return-1!=e.indexOf("base64")?e:t?e.replace(/(\.jpg|\.jpeg|\.png)/g,"$1?fit=around|619:498"):e.replace(/(\.jpg|\.jpeg|\.png)/g,"$1?fit=around|235:235")}render(){const e=!this.props.imageUrlArr.length&&this.props.errorMessage,t=this.props.videoUrlArr.length&&e?1:0,a=this.props.isTemplate;let i=this.getImageUrls(this.props.imageUrlArr,this.props.videoUrlArr);if(this.state.loadingImageTitle)for(var l=0;l<this.state.loadingImageTitle;l++)i.push({retainRandomColor:!0});const c=i[this.state.selectedImageIndex]||{},m=a?[]:[{key:"deleteImage",show:!a&&!this.props.isReadOnly,iconClass:"icon-trash",info:"Delete",onClick:()=>{c.isVideo?this.deleteVideo(c.videoId):this.deleteImage()}},{key:"moreOption",show:!1,iconClass:"icon-moreNew"},{key:"addImage",iconClass:this.addImageIcon,show:!a&&this.props.imageUrlArr.length<40&&!this.props.uploadSingleImage&&!this.props.isReadOnly,info:"Upload Image",onClick:e=>{this.checkForOptions(e)}},{key:"addVideo",iconClass:"icon-VideoOutline",show:!this.props.videoUrlIds.length&&!this.props.isReadOnly&&"CMS"!=this.props.source&&!this.props.hideAddVideo,info:"Upload Video",onClick:e=>{this.checkForOptions(e,!0)}},{key:"primaryImage",show:this.state.selectedImageIndex!=this.state.defaultImageIndex&&!a&&!this.props.uploadSingleImage&&i[this.state.selectedImageIndex]&&!c.isVideo&&!this.props.isReadOnly,iconClass:"icon-starOutline",info:"Set as Primary",onClick:()=>{this.setDefaultImage()}}],g=[...this.state.selectedImageIndex!=this.state.defaultImageIndex?[{label:"Set as Default Image",show:this.state.selectedImageIndex!=this.state.defaultImageIndex,onClick:()=>{this.setDefaultImage()}}]:[],{label:"Delete Image",onClick:()=>{this.deleteImage()}}],b=this.state.showSaveButton&&!this.props.hideSaveButton&&this.props.isMobile,_={slidesToShow:1,slidesToScroll:1,autoplay:!1,arrows:!1,infinite:!1,dots:this.props.showDots||!1,draggable:!0,afterChange:e=>{if(this.setState({selectedImageIndex:e}),this.thumbnailHolder){const a=document.querySelector(".image-"+e);if(a){var t=a.getBoundingClientRect();if(!(t.left>=0&&t.right<=(window.innerWidth||document.documentElement.clientWidth))){let e=0;e=t.left<0?t.left-25:t.left+a.clientWidth-this.thumbnailHolder.current.offsetWidth+25,this.thumbnailHolder.current.scrollBy(e,0)}}}const a=this.getImagesToLoad(e);this.setState({loadedImages:a})},lazyLoad:!0};let y=this.props.noImgLabel||"Add a Product Photo";const E=!this.props.isTemplate&&this.props.canUploadImage&&(this.props.imageUrlArr.length<40||!this.props.videoUrlIds.length),w=e?o.createElement(d.Z,{variant:"invalid",className:n.Z["image-error-label"]},e):null;return o.createElement(o.Fragment,null,o.createElement("div",{className:"".concat(n.Z["image-slider"]," ").concat(i.length>1&&this.props.showDots?n.Z["slider-dots"]:""," ").concat(i.length>1?n.Z["multiple-img-slider"]:""," ").concat(i.length?"":n.Z["no-image-holder"]," ").concat(a?n.Z["template-slider"]:""," ").concat(0===t&&e?" image-error":""," ").concat(this.props.isSourceB2B?n.Z["b2b-view"]:n.Z["vendor-view"])},i.length?o.createElement(o.Fragment,null,o.createElement("div",{className:n.Z["save-btn"]},b?o.createElement(f.Z,{className:n.Z["image-slider-save"],clickHandler:this.props.closeSlider},"Save"):null),o.createElement("div",{className:n.Z["floating-icons"]},m.map(((e,t)=>"moreOption"==e.key&&e.show?o.createElement(s.Z,{key:e.key,list:g,menuClass:n.Z["menu-list"],parentClass:n.Z["icon-holder"]}):e.show?o.createElement("div",{key:e.key,onClick:e.onClick,className:n.Z["icon-holder"]},o.createElement("i",{className:e.iconClass+" "+n.Z["icon-style"]}),this.props.isMobile?null:o.createElement(I,{info:e.info,itemKey:e.key})):null))),o.createElement(r.Z,ye({ref:e=>this.slickSlider=e},_,{className:"".concat(n.Z["image-holder"]," ").concat(this.props.className)}),i.map(((e,t)=>{const a=this.state.loadedImages.includes(t);return e.isVideo?o.createElement(v.Z,ye({},e,{playing:t===this.state.selectedImageIndex,horizontal:!0,showStatusTag:!0,iconClass:"CMS"==this.props.source?"icon-PlayCircle":""})):o.createElement(o.Fragment,null,a?this.props.isMobile?o.createElement(fe,{initialScale:1,initialPositionX:0,initialPositionY:0,wrapperClass:"pinch-in-wrapper",wrapperStyle:{width:"100%"}},o.createElement(_e,null,o.createElement(h.Z,ye({},e,{previewImage:!1,loadOrignal:!0,key:t,imgClass:n.Z["image-preview"],onClick:()=>{this.props.onViewImageClick&&this.props.onViewImageClick(t)}})))):o.createElement(h.Z,ye({},e,{previewImage:!0,pinchInOut:!0,key:t,imgClass:n.Z["image-preview"],onClick:()=>{this.props.onViewImageClick&&this.props.onViewImageClick(t)}})):"")}))),(this.props.canUploadImage||i.length>1)&&!this.props.uploadSingleImage&&o.createElement("div",{className:n.Z["image-row-wrapper"]},!this.props.isMobile&&o.createElement(P.Z,{scrollContainerRef:this.thumbnailHolder,mediaLength:i.length}),o.createElement("div",{className:n.Z["image-row"],ref:this.thumbnailHolder,"body-scroll-lock-ignore":"true"},i.length>0&&i.map(((e,t)=>o.createElement("div",{key:"image-"+t,onClick:()=>this.onImageClick(t),className:"".concat(n.Z["image-tile"]," ").concat("image-"+t," ").concat(this.state.selectedImageIndex==t?n.Z.selected:""," ").concat(this.state.defaultImageIndex==t?n.Z.default:"")},e.isVideo?o.createElement(v.Z,ye({},e,{showThumbnail:!0,showStatus:!0,sqSize:"65%",iconClass:"CMS"==this.props.source?"icon-PlayCircle":""})):o.createElement(h.Z,ye({},e,{key:t})),!e.isVideo&&!this.state.dontShowPrimaryTag&&o.createElement("div",{className:n.Z["default-title"]},o.createElement("span",null,o.createElement("i",{className:"".concat(n.Z["primary-icon"]," icon-starFill")}),"PRIMARY"))))),E&&!this.props.isReadOnly&&o.createElement(Ie,ye({},this.props,{isAddImageDiv:!0,errorIndex:t,errorMessage:e,onChange:this.onImageAdd,className:"image-upload-view-image",openImageOptions:(e,t)=>{this.setState({uploadSlider:{show:!0,type:e?"video":"image",containerInfo:{element:t.currentTarget||t.target,pos:"bottom"}}})}},"admin-upload-image"==this.props.from?{onFileSelUpload:this.onFileUpload}:{}))))):a||this.props.isReadOnly?o.createElement("div",{className:n.Z["no-image"]},o.createElement("img",{src:"https://image1.jdomni.in/jdomni_email/NOIMAGE_2002211157.png",style:{height:90}})):o.createElement("div",ye({className:n.Z["add-new-image"]+" "+this.props.rippleClass},this.props.rippleHandler,{onClick:e=>{this.useBottomPostion=!0,this.checkForOptions(e)}}),this.props.renderRipple(),o.createElement("i",{className:"icon-AddNewImage ".concat(n.Z["add-icon"])}),o.createElement("div",{className:n.Z["add-title"]},y)),this.props.isReadOnly?null:o.createElement(p.Z,{onChange:e=>{this.onFileUpload(e,this.props)},ref:e=>this.fileSelector=e}),t?w:null),t?null:w,this.state.showPrimaryModal&&o.createElement(u.Z,ye({ref:this.actionModalRef},this.state.modalOptions)),this.state.uploadSlider&&this.state.uploadSlider.show&&o.createElement(Pe,ye({onHidden:()=>this.setState({uploadSlider:{show:!1}}),showToastMessage:this.props.showToastMessage,imgUploadUrl:this.props.imgUploadUrl,onClickGallery:()=>{const e=void 0===this.props.allowMultipleImages||this.props.allowMultipleImages;this.fileSelector.triggerClick(e),this.setState({uploadSlider:{show:!1}})},vendorSubMenu:!0,type:this.state.uploadSlider.type||"image",subType:this.props.type,variantId:this.props.variantId,data:{variantId:this.props.variantId,imageUrlArr:this.props.imageUrlArr},updateProductImage:e=>{this.setState({uploadSlider:{show:!1}}),this.props.updateProductImage&&this.props.updateProductImage(e)},appUploadCb:e=>{let t=this.props.variantId;"ADD_PRODUCT"===t&&e.variantId&&(t=e.variantId),this.props.updateProductImage({imageUrl:e,editProductId:t,imgIndex:e.imgIndex,noOfFilesToUpload:e.noOfFilesToUpload,ignoreSave:this.props.ignoreSave,source:this.props.session.source,fromApp:!0}),this.onImageClick(this.props.imageUrlArr.length-1),this.setState({uploadSlider:{show:!1}})},containerInfo:this.state.uploadSlider.containerInfo},this.props.uploadOptionProps?this.props.uploadOptionProps:{})))}}const Ie=e=>{let t=(0,g.Ak)({images:e.imageUrlArr.length,videos:e.videoUrlIds.length,isSourceB2B:e.isSourceB2B}),a=[];return a=[...Array(t)].map(((t,a)=>{let i=1===e.errorIndex&&e.errorMessage&&!a;return e.imageUrlArr.length>39?o.createElement(o.Fragment,null):o.createElement(b.Z,ye({},e,{key:a+"__",showError:i,imageListIndex:e.imageUrlArr.length+a}))})),e.videoUrlIds.length||"CMS"==e.source||e.hideAddVideo||a.push(o.createElement(b.$,ye({key:"addvideodiv"},e))),a},Se=(e,{videoLibrary:t},a)=>{const{productData:o}=e,{videos:i}=t;e.videoUrlArr=[],o.videoUrlIds&&o.videoUrlIds.length&&(e.videoUrlIds=o.videoUrlIds,o.videoUrlIds.forEach((t=>{let a=((e,t={})=>{let a;return t[e]||(e=Object.keys(t).find((a=>t[a].imgIndex===e))),a=t[e],a})(t,i);a&&(a={...a},a.videoId=t,e.videoUrlArr.push(a))})))},Ce=(0,c.Z)((0,i.$j)(((e={},t)=>{const a={...t,videoUrlArr:[],videoUrlIds:[]};return a.isSourceB2B=!1,void 0===t.imageUrlArr?(a.productData=e.products.allProducts[t.variantId]||{},a.isTemplate=a.productData.isTemplate,a.imageUrlArr=a.productData.imageUrlArr&&[...a.productData.imageUrlArr]||[],Se(a,e)):t.videoUrlArr||t.videoUrlIds?t.videoUrlArr?a.videoUrlArr=t.videoUrlArr:(a.productData={videoUrlIds:t.videoUrlIds},Se(a,e)):"CMS"==t.source&&(a.videoUrlArr=t.videoUrlArr),a.session=a.session||e.session,a.session&&(a.isSourceB2B="b2b"===a.session.source),a}),{toggleUploadOptions:_.PH,showLibraryToastMessage:S.Z.showMessage})(we))},59670:(e,t,a)=>{"use strict";a.d(t,{Z:()=>g});var o=a(67294),i=a(97954),r=a(97293),n=a(51748),s=a(38488),l=a(4772),c=a(14494),d=a(79109),u=a.n(d);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e}).apply(this,arguments)}const p={heading:"Product Image",variant:"secondary",leftIcons:[]},g=(0,c.$j)(((e,t)=>{var a,o;const i=(null==e||null===(a=e.products)||void 0===a||null===(o=a.allProducts)||void 0===o?void 0:o[t.variantId])||{};return{...t,isMobile:e.library.deviceData.isMobile,session:e.session,imageUrlArr2:(null==i?void 0:i.imageUrlArr)||[],videoUrlIds2:(null==i?void 0:i.videoUrlIds)||[]}}),null,null,{forwardRef:!0})((e=>{const t=()=>{e.closeCB&&e.closeCB(),r.Z.closeCurrent()},c=(0,o.useMemo)((()=>r.Z.getOpenSliders().length),[]),d=e.session&&e.session.isReadOnly||e.isBrandedProduct||e.isReadOnly;return(0,o.useEffect)((()=>{const t=document.documentElement.scrollTop||document.body.scrollTop;return e.isMobile&&e.productListViewImageSlider&&document.body.classList.add("handle-listing-scroll"),()=>{document.body.classList.remove("handle-listing-scroll"),e.productListViewImageSlider&&window.scrollTo(0,t)}}),[]),o.createElement(n.Z,m({},e,(({className:e,isMobile:t,saveSlider:a,isReadOnly:o,noOfSlidersOpen:i})=>(i<1?p.leftIcons=[]:delete p.leftIcons,{web:{header:p,slider:{slideDirection:"right",disableAnimation:!1,className:"".concat(l.Z["view-image-slider"]," ").concat(e)},footer:o?null:{btnProps:[{children:"Save",onClick:a}]}},mobile:{slider:{slideDirection:"bottom",disableAnimation:!0,className:"".concat(l.Z["view-image-slider"]," ").concat(e)},footer:o?null:{btnProps:[{children:"Save",onClick:a}]}}}[t?"mobile":"web"]))({className:e.className,isMobile:e.isMobile,saveSlider:async()=>{var t;const o=u().apiDomains[0]+"/marketplace/static/php/web/b2bWebsite.php",i=null===(t=e.imageUrlArr2)||void 0===t?void 0:t.map((e=>e.imgURL)).join(","),n={action:"addOrUpdateImage",productId:e.variantId,token:e.session.token,sourceId:""},s=new FormData;s.append("imageUrl",i),s.append("videoUrl","");try{var l;const{default:{post:t,get:i}}=await Promise.resolve().then(a.t.bind(a,9669,23));await t(o,s,{params:n}),n.action="linkUnlinkProductVideo",n.supplierId=e.session.supplierId,n.videoIdList=null!==(l=e.videoUrlIds2)&&void 0!==l&&l.length?e.videoUrlIds2[0]:"",await i(o,{params:n}),e.showToastMessage({showToastMessage:!0,message:"Images and Videos are Updated Successfully",type:"info",duration:5e3})}catch(t){console.error((null==t?void 0:t.message)||t),e.showToastMessage({showToastMessage:!0,message:"Server error please try again!.",type:"error",duration:5e3})}finally{e.closeCB&&e.closeCB(),r.Z.closeCurrent()}},isReadOnly:d,noOfSlidersOpen:c}),{onHidden:()=>{e.closeCB&&e.closeCB(),e.onHidden()}}),o.createElement("div",{className:"".concat(l.Z["view-image-slider"]," ").concat(l.Z[e.className])},e.isMobile?o.createElement(s.Z,{className:l.Z["back-btn"],onClick:t},o.createElement("i",{className:"".concat(l.Z["image-icon"]," icon-HDRback")})):null,o.createElement(i.Z,m({closeSlider:t},e))))}))},61878:(e,t,a)=>{"use strict";a.d(t,{a:()=>d,b:()=>u});var o=a(9669),i=a.n(o),r=a(79109),n=a.n(r);const s=(e,{validMimeType:t=[],validExtensions:a=[]})=>{const o=l(e);return t.includes(e.type)||a.includes("."+o)},l=e=>e.name.split(".").pop(),c=e=>e.name,d=function(e,t,a){if(!e||0==e.indexOf("http")||-1!=e.indexOf("base64"))return e;let o="";const i=n().staticImageDomains,r=n().IMAGE_COMPRESSION+n().PRODUCT_IMAGE_BASE_PATH;o=i[0];let s="";return s=o+r+e,s},u=({isJdVendor:e=!1,maxFileSize:t,data:a,fileLimit:o,validMimeType:r,validExtensions:n,cb:d,supplierId:u})=>{if(!a.length)return;let m=[],p=0;for(let e=0;e<a.length;e++){const i=a[e];if("object"==typeof i)if(i.fileKey=+new Date+e,s(i,{validMimeType:r,validExtensions:n})){if(i.size>t){d({isSuccess:!1,isFileSizeError:!0,fileKey:i.fileKey,ext:l(i),fileName:c(i)});continue}if(o&&p>=o){d({isSuccess:!1,isFileLimitError:!0,fileKey:i.fileKey,ext:l(i),fileName:c(i)});continue}d({uploading:!0,uploaded:!1,fileKey:i.fileKey,ext:l(i),fileName:c(i)}),p++,m.push(i)}else d({isSuccess:!1,isValidExtension:!1,fileKey:i.fileKey,ext:l(i),fileName:c(i)})}m.map(((t,a)=>{(({isJdVendor:e=!1,fileData:t,cb:a,supplierId:o,initiateCb:r=!0})=>{r&&a({uploading:!0,uploaded:!1});var n=new FormData;n.append("file",t),((e,t,a,o)=>{let r=o?"/marketplace/common/ajax/uploadClientFile.service?module=productattachment":"/marketplace/common/php/uploadb2bClientFile.service?module=b2bproductattachment&supplierId="+a;i()({url:r,method:"POST",data:e,cache:!1,headers:{"Content-Type":"multipart/form-data"}}).then((({data:e})=>{t({...e,uploaded:!0})})).catch((e=>{console.log(e)}))})(n,a,o,e)})({isJdVendor:e,fileData:t,ext:l(t),supplierId:u,initiateCb:!1,cb:e=>{d({isSuccess:!0,...e,fileKey:t.fileKey,ext:l(t),fileName:c(t),noOfFilesToUpload:m.length})}})}))}},52054:(e,t,a)=>{"use strict";a.d(t,{$0:()=>i,wf:()=>r}),a(79916);const o=[],i=e=>{"function"==typeof e&&o.push(e)},r=e=>{if("function"!=typeof e)return;const t=o.indexOf(e);-1!=t&&o.splice(t,1)}},39981:(e,t,a)=>{"use strict";a.d(t,{Z:()=>P}),a(91181);var o=a(67294),i=a(14494),r=a(16550),n=a(48230),s=a(49658),l=a(51748),c=a(20507),d=a(38488),u=a(9175),m=a(46834);const p={"link-upload-slider":"_1Gav_link-upload-slider","input-holder":"_1ts6_input-holder","link-input":"_2KxO_link-input","cross-icon":"_2lfI_cross-icon","paste-btn":"_5T4t_paste-btn","web-slider":"_3C5-_web-slider","has-error-url":"_3qJm_has-error-url","submit-btn":"_2i_w_submit-btn"};var g=a(23622),h=a(97293);const v=({uploadOptions:e})=>e,b=({videoLibrary:e})=>e.showLibrarySlider,f=({library:e})=>e.deviceData.isMobile,_=/^(?:https?:\/\/)?(?:(www|m)\.)?(?:youtube\.com\/\S*(?:(?:\/e(?:mbed))?\/|watch\?(?:\S*?&?v\=))|youtu\.be\/)([a-zA-Z0-9_-]{6,11})/,y="Invalid URL Entered",E={image:{title:"Add Image Link",label:"Image Link",placeHolder:"http://",buttonText:"Upload Image",validator:e=>e?(0,g.K2)(e)?(0,g.KT)(e)?"":"Please Use Image Link With JPEG, PNG, JPG or WEBP Format":y:"Please Enter Image Link"},video:{title:"Add YouTube Link",label:"YouTube Link",placeHolder:"http://",buttonText:"Add Video",validator:(e,t)=>e&&_.test(e)?"":e?"Please Enter Valid YouTube Link":"Please Enter YouTube Link"}},P=e=>{const t=(0,i.v9)((e=>e.products.showAddEditProduct)),[a,g]=(0,o.useState)(""),[_,P]=(0,o.useState)(""),[w,I]=(0,o.useState)(!1),S=(0,i.v9)(v,i.wU),C=(0,i.v9)(b),k=(0,i.v9)(f,i.wU),N=(0,i.I0)(),T=(0,r.k6)(),x={...E[S.type],...S.data.view},D=S&&S.data?S.data.variantId:"",O=e.validator||x.validator,A=(0,o.useCallback)((()=>{Z(),N((0,n.Rc)({show:!1}))}),[]),M=(0,o.useCallback)((e=>{g(e.target.value),P("")}),[]),Z=(0,o.useCallback)((()=>{g(""),P("")}),[]),U=()=>{if(window.Android&&window.Android.getClipboardData){const e=window.Android.getClipboardData();e&&(g(e),P(""))}else navigator.clipboard.readText().then((e=>{e&&(g(e),P(""))}))},L={showLoader:w,block:!0,size:"lg",onClick:()=>{if(w)return;let o=(a||"").replace(/\s/g,"");const i=O(o,S.type);if(i)return P(i),N(m.Z.showMessage({showToastMessage:!0,message:i,type:"error",duration:5e3}));I(!0);const r=t;switch(S.type){case"video":return N((0,n.a6)({link:o,onFileUpload:S.onFileUpload},(t=>{if(e.source&&"b2b"==e.source){let t={};e.tabKey&&(t.tabKey=e.tabKey)}I(!1),t&&(T.goBack(),C&&T.goBack(),S.fromListing&&N((0,s.kv)({})),setTimeout((()=>{r||"ADD_PRODUCT"!=D||(k?T.push("/products/add"):N((0,s.b6)({})))}),100))})));case"image":return N((0,n.uP)({link:o,fromListing:S.fromListing||!1},((e,t)=>{I(!1),e?(T.goBack(),setTimeout((()=>{r||"ADD_PRODUCT"!=D||(k?T.push("/products/add"):N((0,s.b6)({})))}),100)):("Enter valid web link"===t&&(t=y),I(!1),P(t),N(m.Z.showMessage({showToastMessage:!0,message:t,type:"error",duration:5e3})))})))}console.log("submit link",o)},className:p["submit-btn"],children:x.buttonText};return"link"==S.sliderType&&o.createElement(l.Z,{header:{heading:x.title,variant:"secondary",hasBorder:!0,...k||h.Z.getOpenSliders().length>1?{}:{leftIcons:[]}},footer:k?null:{btnProps:[L]},onHidden:A},o.createElement("div",{className:"".concat(p["link-upload-slider"]," ").concat(k?p["mobile-slider"]:p["web-slider"])},o.createElement(c.Z,{label:x.label,errorMessage:_,labelOnTop:!0,holderClass:"".concat(_&&!k?p["has-error-url"]:""," ").concat(p["input-holder"]),input:{value:a,as:"textarea",className:p["link-input"],placeHolder:x.placeHolder,onChange:M,autoFocus:!0},inputGroupProps:{rightIconClass:a?"icon-HDRcross ".concat(p["cross-icon"]):null,onRightIconClick:Z,rightSection:()=>a||!navigator.clipboard?null:o.createElement(d.Z,{className:p["paste-btn"],onClick:U},"Paste")}}),k?o.createElement(u.Z,L):null))}},2450:(e,t,a)=>{"use strict";a.d(t,{$:()=>I,Z:()=>N});var o=a(67294),i=a(14494),r=a(66107);const n={"img-holder":"_3S0z_img-holder","image-upload-view-image":"D4yT_image-upload-view-image","img-rounded":"_2KYZ_img-rounded","no-img":"_395k_no-img","no-dash":"_19gH_no-dash","error-div":"_3EqU_error-div","upload-text":"_2Q_c_upload-text","camera-icon":"_3tY8_camera-icon","template-product":"_3ZFz_template-product","no-img-image":"_1Eld_no-img-image","prod-base-image":"R_i-_prod-base-image","edit-icon-wrapper":"JeOK_edit-icon-wrapper","img-ripple-wrapper":"qo1C_img-ripple-wrapper"};var s=a(4772),l=a(39963),c=a(75804),d=a(16550),u=a(23622),m=a(47799),p=a(65223),g=a(49658),h=a(48230),v=a(30045);function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e}).apply(this,arguments)}(0,r.Z)((e=>o.createElement("span",b({className:"edit-icon-wrapper ".concat(e.rippleClass)},e.rippleHandler,{onClick:e.onClick}),o.createElement("i",{className:"font-16 edit-icon icon-cameraNew"}),e.renderRipple())));var f=a(70870),_=a(39705),y=a(6396),E=a(95912);const P=a(71958).Z;function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e}).apply(this,arguments)}const I=e=>o.createElement(k,w({},e,{forVideo:!0,imageListIndex:e.imageUrlArr.length+1})),S=(0,i.$j)(((e,t)=>{var a,o,i,r;let n=null==e||null===(a=e.permissions)||void 0===a||null===(o=a.packagePermissionData)||void 0===o||null===(i=o.packageDetails)||void 0===i||null===(r=i.Products)||void 0===r?void 0:r.Add_Product_Images;return{session:e.session,...t,status:null==n?void 0:n.status}}),{updateProductMedia:g.s7,toggleLibrarySlider:v.wk,toggleUploadOptions:h.PH})((0,r.Z)((e=>{const t=(0,i.v9)((e=>e.products&&e.products.showAddEditProduct)),a=(0,i.v9)((e=>e.library.deviceData.isMobile)),r=(0,i.v9)((e=>e.uploadOptions.uploading)),s=(0,i.I0)(),c=o.useRef(null);let u=(0,d.k6)();const h=e.forVideo?"icon-videoCam":"icon-cameraNew1",v=e.showAddImageWithText;return o.createElement(o.Fragment,null,o.createElement("div",w({className:"".concat(n["no-img"]," ").concat(e.showColourLoaderIfEmpty?" no-dash ":""," ").concat(e.rippleClass," ").concat(e.showError?n["error-div"]:"")},e.rippleHandler,{onClick:t=>{t.stopPropagation(),(t=>{if(e.variantStatus)e.openEditSlider(e.productData);else if(e.showOptions)"LIMITED"===e.status&&e.imageUrlArr.length>=3?e.showToastMessage({message:"You can upload upto 3 images in free version."}):e.openImageOptions(e.forVideo,t);else if(e.onAddClickCB&&!r&&e.onAddClickCB(),!window.jdInterface||window.jdInterface.isIOSApp||window.jdInterface.openNativeFileChooser)if("b2b"!==e.session.source&&"webstore"!==e.session.source||"CMS"==e.source)c.current.triggerClick(!0);else{if(e.session.isReadOnly)return;("APPROVAL_PENDING"==e.reviewStatus||"DELETION_PENDING"==e.reviewStatus)&&e.redirectToEdit&&e.session.user.loggedUser&&"OWNER"==e.session.user.loggedUser.userType?e.redirectToEdit():e.toggleUploadOptions({show:!0,type:e.forVideo?"video":"image",fromListing:e.fromListing||!1,fromProductListing:e.fromProductListing||!1,data:{variantId:e.productId||e.variantId,ignoreSave:e.ignoreSave,imageUrlArr:e.noPrimaryImage?[]:e.imageUrlArr},style:{position:"absolute",left:t.clientX,top:t.clientY-document.body.getBoundingClientRect().top},containerInfo:{element:e.popoverTarget?e.popoverTarget:t.currentTarget,pos:e.pos||"top",customClass:e.popoverClass||""}})}else if("webstore"===e.session.source&&"CMS"!=e.source)e.toggleUploadOptions({show:!0,type:e.forVideo?"video":"image",data:{variantId:e.variantId,ignoreSave:e.ignoreSave,imageUrlArr:e.noPrimaryImage?[]:e.imageUrlArr},isAndroidApp:!0});else{let t=function(t){(0,p.$)(t,e,e.variantId,e.onChange)};(0,p.l)({index:0,callback:t})}})(t)}}),v?e.showColourLoaderIfEmpty?o.createElement(C,null):o.createElement("div",null,o.createElement("span",{className:"".concat(h," ").concat(n["camera-icon"]," font-26")}),o.createElement("div",{className:n["upload-text"]},e.forVideo?"Add Video":"Add Image")):o.createElement("span",{className:"".concat(h," ").concat(n["camera-icon"])}),e.renderRipple&&e.renderRipple()),o.createElement(l.Z,{onChange:o=>{e.onFileSelUpload?e.onFileSelUpload(o,e):(0,m.Q_)(o,e),e.onChange&&e.onChange(),t||"ADD_PRODUCT"!=e.variantId||(a?u.push("/products/add"):s((0,g.b6)({})))},ref:c,forVideo:e.forVideo}))}))),C=e=>{const t={style:{borderRadius:"10px"},imgClass:n["no-img-image"],finalImageSrc:"https://image1.jdomni.in/jdomni_email/NOIMAGE_2002211157.png",retainRandomColor:!0};return o.createElement("div",{className:"no-img template-product",onClick:()=>{e.onClick&&e.onClick()}},o.createElement(c.Z,t))},k=e=>{const t=(e.imageUrl||"").split(","),a=e.isTemplate,i=e.isAuditor,r=e.isReadOnly,l=e.imageListIndex||0,c=!!e.imageListIndex||e.isImageList,p=(0,d.k6)();let g={};e.imageUrlArr?g={...e.imageUrlArr[l]}:t[l]&&(g={uploaded:!0,actualPath:(0,m.al)(t[l])}),g.isVideo&&"YOUTUBE"!=g.source&&(g.actualPath="".concat(y.thumbnailDomain).concat(g.thumbnailURL));const h=t=>{(0,u.vQ)({cb:()=>{if(e.customCB)return void e.customCB();if(e.onlyForSelection)return void(e.redirectToEdit&&e.redirectToEdit());let t=l;e.noPrimaryImage&&(t=0),e.isBrandedProd||e.isObjectionable||e.session.isReadOnly||e.isGalleryProd||("APPROVAL_PENDING"==e.reviewStatus||"DELETION_PENDING"==e.reviewStatus)&&e.redirectToEdit&&e.session.user.loggedUser&&"OWNER"==e.session.user.loggedUser.userType?2!=t||void 0===e.isExpanded||e.isExpanded?e.redirectToEdit():e.animateExpOnClick(!0):void 0!==e.isExpanded&&!e.isExpanded&&e.remainingImages?e.animateExpOnClick(!0):e.onImageClick&&e.onImageClick(!0,e.productId||e.variantId,t,a,e.variantStatus)},history:p})};let v;v=g.isVideo?g.uploaded?o.createElement(_.Z,w({},g,{onClick:h,showThumbnail:!0,showStatus:!0})):o.createElement(f.Z,{videoKey:g.imgIndex,onClick:h}):g.base64Url||g.actualPath?o.createElement(T,{openImageUploadOption:h,isTemplateProduct:a,imageProps:g,remainingImages:e.remainingImages,checkboxChild:e.showCheckBox&&o.createElement(o.Fragment,null,o.createElement("div",{className:"multi-select-checkbox-clickarea"},o.createElement("div",{className:"multi-select-checkbox ".concat(e.tickStatus?"no-border":""),onClick:t=>{(0,u.vQ)({cb:()=>{(t=>{t.stopPropagation(),e.checkCB&&e.checkCB()})(t)},history:p})}},e.tickStatus&&o.createElement("i",{className:"icon-Checkmark"}))))}):a||i||r?""!=e.imageUrl&&e.imageUrl?"":o.createElement(C,{onClick:r?e.redirectToEdit:null}):o.createElement(E.Z,null,o.createElement(S,w({variantId:e.variantId,showToastMessage:e.showToastMessage,imageUrlArr:e.imageUrlArr,isImageList:c,onFileSelUpload:e.onFileSelUpload},e)));const b=e.onLongPress?P({duration:500,deps:[e.tickStatus],onTouchHold:t=>{t.stopPropagation(),console.log("Longpress"),e.onLongPress()}}):null;return o.createElement("div",w({className:"".concat(n["img-holder"]," ").concat(n[e.className]," ").concat(e.className," ").concat(e.isAddImageDiv?s.Z["add-image-div"]:""),onClick:e=>e.stopPropagation(),onMouseDown:e=>e.stopPropagation(),style:e.style},b),o.createElement("div",{className:n["img-rounded"],onClick:h},v),!1)},N=(0,i.$j)(null,{toggleEditImageOptions:g.rq})(k),T=(0,r.Z)((e=>{const{openImageUploadOption:t,isTemplateProduct:a,imageProps:i}=e;let r=null;return i.isVideo&&i.thumbnailURL?(r=null,r=o.createElement(c.Z,{actualPath:"YOUTUBE"==i.source?i.thumbnailURL:"".concat(y.thumbnailDomain).concat(i.thumbnailURL),uploaded:!0,loadOrignal:!0})):r=o.createElement(c.Z,i),o.createElement(o.Fragment,null,o.createElement("div",w({onClick:t,className:"".concat(e.rippleClass," ").concat(n["img-ripple-wrapper"])},e.rippleHandler),e.checkboxChild,r,e.renderRipple(),!!e.remainingImages&&o.createElement("div",{className:"remaining-images font-16"},"+","".concat(e.remainingImages))))}))},96154:(e,t,a)=>{"use strict";a.d(t,{Z:()=>ee}),a(91181);var o=a(67294),i=a(14494),r=a(81363),n=a(33688),s=a(57542),l=a(17513);const c=(0,n.Z)((e=>o.createElement("div",{className:"prod-block-modal ".concat(e.isUomSliderOpen?"uom-slider-open":"")},o.createElement(r.Z,{settings:{modalId:"price-modal",variant:"action",class:"price-modal"},showOverlay:!1,onHidden:()=>e.openCloseAddEditPriceModal(!1)},o.createElement(r.Z.CloseIcon,{iconClass:"icon-HDRcross"}),e.productUnderEdit&&o.createElement(r.Z.Body,null,o.createElement("div",null,o.createElement("div",{className:"add-edit-title"},e.productUnderEdit.isSellingPrice?"Edit Price":"Add Price"),o.createElement("div",{className:"product-name"},e.productUnderEdit.productName))),o.createElement(l.Z,{formElements:e.inputObj,errors:e.errors}),o.createElement("div",{className:"button-wrapper"},o.createElement(s.Z,{size:"lg",clickHandler:e.onPriceUpdate},"Update Price"))),o.createElement("div",{className:"overlay-div"}))),null,"add-edit-modal"),d={"black-color":"tyhL_black-color","read-only-view":"_1O_H_read-only-view","prod-block":"_3pAb_prod-block","add-bg-color":"_5dHj_add-bg-color",checked:"jWDi_checked","add-prod-block":"_36L9_add-prod-block","prod-desc":"_31Uo_prod-desc",price:"_1I7F_price","show-moremenu":"iVYj_show-moremenu","prod-name-shim":"_3MOu_prod-name-shim","prod-price-shim":"MvhD_prod-price-shim","prod-title":"_3vso_prod-title","prod-vendor":"_318e_prod-vendor","icon-padding":"LNbU_icon-padding","prod-min-qty":"_2G52_prod-min-qty","prod-min-value":"_18uF_prod-min-value","net-weight":"_2H1f_net-weight","quantity-text":"Phve_quantity-text","outstock-holder":"pGS0_outstock-holder",b2b:"_1bC3_b2b","cat-sel-warning":"_1_Fm_cat-sel-warning","pending-text":"ySG7_pending-text","pending-status":"_2Z9U_pending-status",delete:"_2Cjg_delete","single-approve-btn":"_3CNA_single-approve-btn","single-btn-label":"_2Ihc_single-btn-label","single-delete-btn-holder":"_2_e-_single-delete-btn-holder","single-delete-btn":"_53h3_single-delete-btn","delete-btn-text":"_1-ZG_delete-btn-text","product-price":"ewrs_product-price",currency:"_2ZzE_currency","icon-currency":"p7iC_icon-currency","icon-currencyB":"_3yvH_icon-currencyB",uom:"_3iNH_uom","audit-status-holder":"x-uK_audit-status-holder","no-min-order":"_8Hpg_no-min-order","audit-status-icon":"_2w-G_audit-status-icon",red:"_1EiN_red",green:"_23lu_green",grey:"sqOL_grey",yellow:"xesp_yellow","audit-status-text":"_3ctB_audit-status-text","prod-min-variant":"nYSO_prod-min-variant","tag-holder":"_2PMM_tag-holder","tag-text":"_335q_tag-text",orange:"_1MqX_orange","dot-divide":"ewHR_dot-divide","variant-count":"_1s-a_variant-count","take-live-button":"_1Xmv_take-live-button","audit-button-holder":"O-zo_audit-button-holder","prod-name-wrapper":"_31JK_prod-name-wrapper","icon-Gl_Attachment":"_1Cm4_icon-Gl_Attachment","prod-title-vendor":"_2UVy_prod-title-vendor","fake-border":"uaBb_fake-border","price-button":"_1Yp1_price-button","add-edit-icon":"_3Ouj_add-edit-icon","price-button-content":"_3kaO_price-button-content","price-button-text":"_1zJi_price-button-text",edit:"RAxO_edit","shareicon-holder":"_3Rn8_shareicon-holder","more-menu-parent":"_3WN0_more-menu-parent","more-menu-holder":"_1afU_more-menu-holder","more-menu":"_6kFL_more-menu","more-menu-overlay":"z8ch_more-menu-overlay","img-holder":"_2Qqa_img-holder","prod-base-image":"_3xGy_prod-base-image","under-review":"_29qV_under-review","row-imagelist-wrapper":"_3bqX_row-imagelist-wrapper","read-only-row":"AsR9_read-only-row","gallery-prod":"rWCc_gallery-prod","gallery-prod-hide":"_1Z-X_gallery-prod-hide","check-tint":"_2JJK_check-tint","listing-page":"_1uIQ_listing-page","del-btn-wrapper":"_2K-n_del-btn-wrapper","del-options":"_1fPP_del-options",omniModal:"_3Q0S_omniModal","view-modal-body":"_26cz_view-modal-body","stack-on-left":"_3GmT_stack-on-left","list-animate":"_2-9M_list-animate","remaining-images":"_1cbM_remaining-images","no-img":"_3BWE_no-img",expanded:"_2uZ5_expanded",stacked:"_2XLl_stacked","img-rounded":"_2kWe_img-rounded","image-holder":"JkRL_image-holder","add-image-div":"_11nR_add-image-div",empty:"_1qc-_empty","hidden-tag":"_1lsw_hidden-tag",slide:"_1h5s_slide","reverse-animate":"GXZ5_reverse-animate","slide-back":"_363-_slide-back","icon-glhide":"G_JZ_icon-glhide","icon-newcart":"_3lY2_icon-newcart","icon-HDRcart":"_14sa_icon-HDRcart","sell-tag":"_3Pwg_sell-tag","noedit-modal-body":"_1D9B_noedit-modal-body","modal-btn":"uSnY_modal-btn","noedit-modal":"_3F7V_noedit-modal","product-row":"_3FZ6_product-row","prod-price":"_2gD3_prod-price","prod-unit":"y2uX_prod-unit","input-error":"_1wdN_input-error","branded-prod":"_6QbU_branded-prod","input-with-moving-label":"P_Ca_input-with-moving-label","prod-unit-error":"xVtP_prod-unit-error","price-range":"_2Krc_price-range","min-price":"_3jxg_min-price","moving-label":"_3Hyc_moving-label","max-price":"_1AWO_max-price","unit-measurement":"_1lK-_unit-measurement","unit-measurement-error":"_1a_m_unit-measurement-error","range-text":"vbDG_range-text","more-detail-switch":"yg3z_more-detail-switch","price-modal":"_3XDY_price-modal","range-unit-of-measurement":"_2-Yo_range-unit-of-measurement","conflict-detail-holder":"_3ppR_conflict-detail-holder","barcode-info":"_1b0v_barcode-info","select-conflict-prod":"_1B0P_select-conflict-prod",header:"_394L_header","icon-container":"NPi2_icon-container","full-height":"_3FGV_full-height","price-range-label":"_2kzJ_price-range-label","icon-Next":"_1Uk2_icon-Next","web-page":"_8dzT_web-page"};var u=a(2450),m=a(97241),p=a(66107),g=a(9175);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e}).apply(this,arguments)}const v=(0,p.Z)((e=>o.createElement("div",h({className:(e.isEdit?"edit ":"")+" price-button "+e.rippleClass,onClick:e.onClick},e.rippleHandler),o.createElement("div",{className:"price-button-content"},o.createElement("i",{className:e.isEdit?"icon-editItem add-edit-icon":"icon-plus add-edit-icon"}),o.createElement("span",{className:"price-button-text"},e.customText?e.customText:e.isEdit?"EDIT PRICE":"ADD PRICE"),e.renderRipple()))));var b=a(49658),f=a(59256),_=a(46834),y=a(15304),E=a(16550);const P=(e,t,a)=>{let o="";if(e){let i=e.replace(new RegExp(/[^a-zA-Z0-9\s]/g),"");i=i.replace(new RegExp(/[\s]+/g),"-"),o=a+"/"+i.toLowerCase()+"/pid-"+t}return o},w=({productName:e,companyName:t,variantId:a,baseUrl:o,isIosApp:i,isaService:r,isSellOnline:n,sendEnquiry:s})=>{let l="",c=e+" - "+t;r?l="Get ".concat(e," at Best Prices by ").concat(t):n?l="Buy ".concat(e," Online at Best Price from ").concat(t):s&&(l="Get Best Quality ".concat(e," Offered by ").concat(t)),I({title:c,text:c,url:P(e,a,o)},i)},I=({title:e="",text:t="",url:a=""},o=!1,i=(()=>{}))=>{if(o&&window.jdInterface&&window.jdInterface.shareTextWithUrl)window.jdInterface.shareTextWithUrl(t,a),i({isSuccess:!0});else{var r={};r.subject=e,r.link=t+" "+a,r.onlyLink=!0;var n=JSON.stringify(r);window.OmniMobile&&window.OmniMobile.isApp?(OmniMobile.shareLink(n),i({isSuccess:!0})):window.jdInterface&&window.jdInterface.shareLink?(window.jdInterface.shareLink(n),i({isSuccess:!0})):navigator.share?(navigator.share({title:e,text:t,url:a}).catch((function(e){console.log("share failed")})),i({isSuccess:!0})):i({isSuccess:!1})}};a(49053);const S=(0,i.$j)(((e,t)=>({productData:e.products.allProducts[t.productId]||{},uomJsonMap:e.uom.uomJsonMap,session:e.session,objectionableProducts:e.products.vendorObjectionableProducts,isMobile:e.library.deviceData.isMobile})),{deleteProduct:b.Ir,showToastMessage:_.Z.showMessage,productUnderEdit:b.wB,toggleProductVisibility:b.ZI,toggleAddEdit:b.sk,toggleProdConflict:b.OI,toggleFetchingProductData:b.Yl})((0,p.Z)((e=>{let t=e.productData;const[a,i]=(0,o.useState)(!1),r="objectionable"==e.tabKey&&!e.isAuditor,n="brand"==e.tabKey,s="productConflict"==e.tabKey&&!e.fromPhotos,l=t.priceObj||{},c=((0,E.k6)(),e.renderSellingPrice),u=(e,t,a)=>{let o="";if(e){let i=e.replace(new RegExp(/[^a-zA-Z0-9\s]/g),"");i=i.replace(new RegExp(/[\s]+/g),"-"),o=a+"/"+i.toLowerCase()+"/pid-"+t}return o},p=c(),h={fontSize:"0.75rem",marginRight:"10px"};let v=[{label:o.createElement("span",null,o.createElement("i",{className:"icon-editItem",style:h}),"Edit"),onClick:()=>{(()=>{if(!(e.objectionableMode||n&&(!t.active&&e.session.user.loggedUser&&"OWNER"==e.session.user.loggedUser.userType||e.session.user.loggedUser&&"OWNER"!=e.session.user.loggedUser.userType))){if(!e.onProductClick)return"webstore"==e.session.source?(e.toggleAddEdit({editProdKey:t.productId}),void e.toggleFetchingProductData()):void 0;e.onProductClick(t)}})()}},{label:o.createElement("span",null,o.createElement("i",{className:t.visibility?"icon-glhide":"icon-show",style:h}),t.visibility?"Hide":"Unhide"),onClick:()=>{t.visibility?(e.toggleProductVisibility({productId:t.productId,productId:t.productId,visibility:!t.visibility}),e.showToastMessage({showToastMessage:!0,message:"Product Status Updated",type:"info",duration:8e3})):(i(!0),setTimeout((()=>{e.toggleProductVisibility({productId:t.productId,productId:t.productId,visibility:!t.visibility}),i(!1),e.showToastMessage({showToastMessage:!0,message:"Product Status Updated",type:"info",duration:8e3})}),300))}},{label:o.createElement("span",null,o.createElement("i",{className:"icon-glshare",style:h}),"Share"),onClick:a=>{(()=>{let a={onYesClick:()=>{e.toggleProductVisibility({productId:t.productId,visibility:!t.visibility}),e.toggleModal(!1),w({productName:t.productName,companyName:e.session.companyName,variantId:t.variantId,baseUrl:e.session.baseUrl,isIosApp:!1,isaService:"SERVICE"==t.type,isSellOnline:t.isSellOnline,sendEnquiry:t.isReceiveEnquiry})},onNoClick:()=>{e.toggleModal(!1)}};if(t.visibility){if(window.jdInterface&&window.jdInterface.shareLink){let a={subject:t.productName,link:decodeURI(u(t.productName,t.variantId,e.session.baseUrl)),type:"plainText"};const o=JSON.stringify(a);return void window.jdInterface.shareLink(o)}w({productName:t.productName,companyName:e.session.companyName,variantId:t.variantId,baseUrl:e.session.baseUrl,isIosApp:!1,isaService:"SERVICE"==t.type,isSellOnline:t.isSellOnline,sendEnquiry:t.isReceiveEnquiry})}else e.getModalObj(a),e.toggleModal(!0)})()}},{label:o.createElement("span",null,o.createElement("i",{className:"icon-trash",style:h}),"Delete"),onClick:a=>{e.confirmDelete(t)}}];e.isMobile||v.splice(2,1),e.objectionableMode&&(v=[{label:o.createElement("span",null,"Delete"),onClick:a=>{e.confirmDelete(t)}}]);const b=t.productName&&t.productName.indexOf("GPB2BMARKETPLACE")>-1;let f=0==t.categoryPresent&&!b;return("DELETION_PENDING"==t.reviewStatus&&"webstore"!=e.session.source||r||n)&&(f=!1),o.createElement(o.Fragment,null,o.createElement("div",{className:d["prod-desc"]},e.searchText?o.createElement(y.Z,{search:e.searchText,text:t.productName,attachmentPresent:t.attachmentPresent,className:"prod-title font-16",containerClass:d["prod-title-vendor"],readOnlyProduct:e.readOnlyProduct}):o.createElement("div",{className:d["prod-title-vendor"]},o.createElement("p",{className:"prod-title font-16 prod-vendor"},t.productName),t.attachmentPresent?o.createElement("span",{className:"icon-Gl_Attachment ".concat(e.readOnlyProduct?"icon-padding":"")}):null),t.contentPerPiece&&t.contentPerPiece>1?o.createElement("p",{className:d["prod-min-qty"]+" "+d["net-weight"]},Number(t.contentPerPiece)+" "+e.getUom(t.unitPerPiece)):"",e.objectionableMode||s?null:o.createElement("div",{className:"".concat(d.price," ").concat(d["price-variant-container"])},p&&l.isSinglePrice||e.isAuditor&&t.sellingPrice||t.isSellOnline&&t.sellingPrice?o.createElement("span",{className:d["product-price"]},o.createElement("span",{className:"font-16"},o.createElement("span",{className:"".concat(d.currency," icon-currency")})," "+((e.isAuditor||t.isSellOnline)&&t.sellingPrice?Number(t.sellingPrice).toLocaleString():Number(l.singlePrice).toLocaleString("en-IN")))):p?o.createElement(o.Fragment,null,o.createElement("span",{className:d["product-price"]},o.createElement("span",{className:"font-16"},o.createElement("span",{className:"".concat(d.currency," icon-currency")})," "+Number(l.minPrice).toLocaleString("en-IN"))),o.createElement("span",null,"-"),o.createElement("span",{className:d["product-price"]},o.createElement("span",{className:"font-16"},o.createElement("span",{className:"".concat(d.currency," icon-currency")})," "+Number(l.maxPrice).toLocaleString("en-IN")))):l.priceOnQty&&l.priceOnQty.length>0?o.createElement(o.Fragment,null,o.createElement("span",{className:d["product-price"]},o.createElement("span",{className:"font-16"},o.createElement("span",{className:"".concat(d.currency," icon-currency")})," "+Number(l.priceOnQty[l.priceOnQty.length-1].price).toLocaleString("en-IN"))),o.createElement("span",null,"-"),o.createElement("span",{className:d["product-price"]},o.createElement("span",{className:"font-16"},o.createElement("span",{className:"".concat(d.currency," icon-currency")})," "+Number(l.singlePrice).toLocaleString("en-IN")))):void 0,p&&t.uom&&-1===["pairs","packets","units","unit","pc","pieces","piece","pkt"].indexOf(null===(_=t.uom)||void 0===_?void 0:_.toLowerCase())?o.createElement("span",{className:d.uom},"/ ",e.getUom(t.uom,!0)):null),!t.isSellOnline&&t.visibility||e.objectionableMode||s?null:o.createElement("div",{className:d["tag-holder"]},t.isSellOnline?o.createElement("span",{className:d["hidden-tag"]+" "+d["sell-tag"]},o.createElement("i",{className:"icon-newcart icon-HDRcart"}),o.createElement("span",{style:{marginRight:"3px",marginTop:"1px"}},"SELL ONLINE")):"",t.visibility?"":o.createElement("span",{className:d["hidden-tag"]+" "+(a?d["reverse-animate"]:"")},o.createElement("i",{className:"icon-glhide"}),o.createElement("span",{style:{marginRight:"3px",marginTop:"1px"}},"HIDDEN"))),o.createElement("p",{className:d["prod-min-qty"]},t.minOrderQuantity&&t.minOrderQuantity>1&&!t.isSellOnline&&!e.objectionableMode&&!s?o.createElement(o.Fragment,null,"Min. Qty: ",o.createElement("span",{style:{color:"#414E59"}},"PACKED"==e.getUom(t.uom,"",!0)?Math.floor(t.minOrderQuantity):t.minOrderQuantity," ",e.getUom(t.uom))):null,!t.isSellOnline&&!e.objectionableMode&&t.variantCount>1?o.createElement("div",{className:d["variant-count"]},t.minOrderQuantity&&t.minOrderQuantity>1?o.createElement("div",{className:"dot-divide"}):null,t.variantCount," Variants"):null),s?o.createElement("div",{className:"conflict-detail-holder"},o.createElement("div",{className:"barcode-info font-12 mgb-5"},o.createElement("span",null,"Barcode: "),o.createElement("span",null,t.barcode)),o.createElement("div",{className:"barcode-info font-12 mgb-8"},o.createElement("span",null,"Suggested Product Counts: "),o.createElement("span",null,t.suggestedProductCount)),o.createElement("div",{className:"select-conflict-prod"},o.createElement(g.Z,{children:"SELECT PRODUCT FROM LIBRARY",variant:"default",onClick:()=>{e.toggleProdConflict({conflictProdKey:t.barcodeConflictId})}}))):null,!t.isSellOnline||e.objectionableMode||s?null:t.quantity>0?o.createElement("div",{className:"".concat(d["prod-min-qty"])},"In Stock Qty: ",o.createElement("span",{className:"".concat(d["quantity-text"])},t.quantity),t.variantCount>1?o.createElement("div",{className:d["variant-count"]},o.createElement("div",{className:"dot-divide"}),t.variantCount," Variants"):null):o.createElement("div",{className:"".concat(d["outstock-holder"])},o.createElement("i",{className:"icon-alertNew ".concat(d["new-alert-icon"])})," Out Of Stock"),!f||e.objectionableMode||s?null:o.createElement("div",{className:"cat-sel-warning"},o.createElement("i",{className:"icon-alertNew"}),o.createElement("div",{className:"cat-sel-warning"},t.suggestedCategoryName?"Category Approval Pending":"Category Selection Pending"))),!e.readOnlyProduct&&!s&&o.createElement("div",{className:"action-holder"},o.createElement("div",{className:d["more-menu-parent"],onClick:e=>{e.stopPropagation()},onMouseDown:e=>e.stopPropagation()},o.createElement(m.Z,{parentClass:d["more-menu-holder"],menuClass:d["more-menu"],list:v,onToggle:e.onEditToggle}))));var _})));var C=a(47799),k=a(95912),N=(a(9669),a(23622));function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e}).apply(this,arguments)}a(97293);const x={web:{search:4},mobile:{}},D=e=>{var t,a;const i=[...e.mediaUrlArr],r=e.deviceData.isMobile,n=r?{left:15.625,margin:12.5,minLeft:5.5,unit:"vw"}:{left:55,margin:45,minLeft:18,unit:"px"};if(!i.length)return null;const s=e.readOnlyProduct||e.session.isReadOnly;let l,c=[],d=s||"OWNER"==(null===(t=e.session.user)||void 0===t||null===(a=t.loggedUser)||void 0===a?void 0:a.userType)&&("APPROVAL_PENDING"==e.productData.reviewStatus||"DELETION_PENDING"==e.productData.reviewStatus);const m=40===i.length,p=40===i.filter((e=>!(null!=e&&e.isVideo))).length,g=(0,o.useMemo)((()=>e.expanded||3===e.mediaUrlArr.length&&e.videoUrlIds&&1===e.videoUrlIds.length||d&&3===e.mediaUrlArr.length),[e.expanded,e.videoUrlIds,e.mediaUrlArr]),[h,v]=(0,o.useState)(g);(0,o.useEffect)((()=>{g&&!h?setTimeout((()=>{v(!0)})):!g&&h&&setTimeout((()=>{v(!1)}))}),[g]);let b=[],f=[],_=[],y=x[r?"mobile":"web"][e.pageType]||6,E=g?Math.min(y,i.length):Math.min(4,i.length);m&&g&&(E+=1),l=d&&E>3;const P=g?0:Math.min(3,i.length-1);let w=Math.max(i.length-E+P,0);1!==w||g?w&&g&&(w+=1):w=0;let I=(0,C.Ak)({images:e.imageUrlArr.length,videos:e.videoUrlIds?e.videoUrlIds.length:0,isSourceB2B:!0}),S=!e.videoUrlIds||!e.videoUrlIds.length;e.noPrimaryImage&&I--,S&&g&&E>=6&&I&&(E--,w||w++,w++),l&&w>0&&w--;for(let t=1;t<=E;t++){const a=t===(g?E-1:l?2:1)?{remainingImages:w}:null,r={isExpanded:g,animateExpOnClick:t=>{t&&e.toggleExpanded(e.productId)}};if(t===E){let t=b&&0===b.length?0:Math.max((E-1)*n.minLeft,n.left);if(h&&(t=(E-1)*n.left),!e.isTemplate&&!d&&!e.conflicTab&&([...Array(I)].forEach(((i,r)=>{f.push(o.createElement(u.Z,T({},e,{isImageList:!0,imageListIndex:e.imageUrlArr.length+r},a,{redirectToEdit:e.redirectToEdit,isAddImageDiv:!0,style:{left:"".concat(t*(r+1)).concat(n.unit)},fromListing:!0,pos:"bottom"})))})),S)){let i=0;t&&(i="calc(".concat(t+n.margin*f.length).concat(n.unit," + ").concat(12*f.length,"px)")),_.push(o.createElement(u.$,T({},e,a,{isAddImageDiv:!0,fromListing:!0,style:{left:i},pos:"bottom"})))}}else l&&1==t?c.push(o.createElement(u.Z,T({},e,{imageUrlArr:i,imageListIndex:t,redirectToEdit:e.redirectToEdit},r,{fromListing:!0,pos:"bottom"}))):b.push(o.createElement(u.Z,T({},e,{imageUrlArr:i,imageListIndex:t,redirectToEdit:e.redirectToEdit},a,r,{fromListing:!0,pos:"bottom"})))}const k=b&&0===b.length;return b=o.createElement("div",{className:"row-imagelist-wrapper ".concat(c.length>0?"stack-on-left ":""," ").concat(k?"empty":""," ").concat(s?"read-only-row":""),onClick:e=>e.stopPropagation()},!k&&o.createElement(o.Fragment,null,c.length>0?c:null,o.createElement("div",{className:"list-animate ".concat(h?"expanded":"stacked"," ")},b)),!p&&f,S&&_),b},O=(0,i.$j)(((e,t)=>{const a=e.products.allProducts[t.productId]||{};return a.videoUrlIds?a.videoUrlArr=a.videoUrlIds.map((t=>e.videoLibrary.videos[t])):a.videoUrlArr=[],{...t,productData:a,uomJsonMap:e.uom.uomJsonMap,tabKey:e.products.tabKey,isSpecialContractJd:e.products.listing.isSpecialContractJd,approvalPendingList:e.products.approvalPendingList,productConflictList:e.products.productConflictList,deletionPendingList:e.products.deletionPendingList,objectionableList:e.products.objectionableList,brandList:e.products.brandList,session:e.session,showAddEditProduct:e.products.showAddEditProduct,uom:e.uom.productUOM,deviceData:e.deviceData,objectionableProducts:e.products.vendorObjectionableProducts}}),{deleteProduct:b.Ir,showToastMessage:_.Z.showMessage,updateApprovalPending:b.Oj,productUnderEdit:b.wB,updateDeletionPending:b.zA,updateProductStatus:b.Lv,getListingData:b.cR,toggleAddEdit:b.sk,fetchDataAndEdit:f.KR,getProductData:b.b6,setRedirectedFrom:b.Vv,deleteObjectionableProduct:b.Y8,objectionableTakeLive:b.vw,toggleFetchingProductData:b.Yl})((0,p.Z)((e=>{const t=e.productData,a="ADD_PRODUCT"==e.variantId,r=e=>{e&&e.stopPropagation()},n=(0,E.k6)(),[s,l]=(0,o.useState)(""),[c,p]=(0,o.useState)(!1),[h,b]=(0,o.useState)(!1),[f,P]=(0,o.useState)(null),w=t.priceObj||{},I=e.tabKey&&-1!=e[e.tabKey+"List"].indexOf(e.variantId)||-1!=e.deletionPendingList.indexOf(e.variantId),C="objectionable"==e.tabKey,x="productConflict"==e.tabKey,O="brand"==e.tabKey,A=(0,i.I0)(),M=()=>t.isSellOnline&&t.sellingPrice?!(!t.sellingPrice||-1!==["0","0.0","0.00"].indexOf(t.sellingPrice.toString())):w&&w.isSinglePrice?!(!w.singlePrice||-1!==["0","0.0","0.00"].indexOf(w.singlePrice.toString())):!(!w||w.isSinglePrice||!w.minPrice||-1!==["0","0.0","0.00"].indexOf(w.minPrice.toString())||!w.maxPrice||-1!==["0","0.0","0.00"].indexOf(w.maxPrice.toString())),Z=e=>{p(!!e),e||le()},U=M(),L=()=>{if(!(e.objectionableMode||O&&(!t.active&&e.session.user.loggedUser&&"OWNER"==e.session.user.loggedUser.userType||e.session.user.loggedUser&&"OWNER"!=e.session.user.loggedUser.userType))){if(!e.onProductClick)return"webstore"==e.session.source?(t.variantStatus,e.fromSearch?e.toggleAddEdit({editProdKey:t.productId,redirectedFrom:"searchSlider"}):e.toggleAddEdit({editProdKey:t.productId}),void e.toggleFetchingProductData()):void setTimeout((()=>{if(e.deviceData.isMobile){let o="";o=a?"/products/add":C?"/products/edit/".concat(t.id,"?isObjection=true"):O?"/products/edit/".concat(e.variantId,"?isBrandedProd=true"):"/products/edit/"+e.variantId,n.push(o)}else e.getProductData({variantId:e.variantId||"",id:C?t.id:"",isObjectionable:!!C,isBrandedProd:!!O});Z(!1)}),400);e.onProductClick(t)}},R=()=>{e.deviceData.isMobile?n.push("/products/add/"+e.variantId):e.getProductData({variantId:e.variantId||"",isDuplicate:!0}),Z(!1)},j=a=>{e.toggleActivateDeactivateModal({productData:t,action:a})},F=t.productName&&t.productName.indexOf("GPB2BMARKETPLACE")>-1,B=F&&e.session.user.loggedUser&&"JDEMPLOYEE"==e.session.user.loggedUser.userType;let H=[],V=!1;t&&"objectionable product"==t.auditStatusFlag&&(V=!0),e.isAuditor?H=V?[{label:"Delete",onClick:a=>{r(a),Z(!1),e.deleteObjectionableProduct({id:t.id})}}]:[{label:"Duplicate",onClick:t=>{r(t),(()=>{let t=window.location.search;n.push("/products/add/".concat(e.variantId).concat(t)),Z(!1)})()}},{label:"Delete",onClick:a=>{r(a),Z(!1),e.confirmDelete(t)}}]:C?H=e.session.user.loggedUser&&"OWNER"==e.session.user.loggedUser.userType?[{label:"Edit",onClick:()=>{e.session.showCompanyDetails?(0,N.vQ)({cb:L,history:n}):L()}},{label:"Delete",hide:e.session.user.loggedUser&&"JDEMPLOYEE"==e.session.user.loggedUser.userType,onClick:a=>{r(a),e.session.showCompanyDetails?(0,N.vQ)({cb:()=>{Z(!1),e.deleteObjectionableProduct({id:t.id})},history:n}):(Z(!1),e.deleteObjectionableProduct({id:t.id}))}}]:[{label:"Edit",onClick:()=>{e.session.showCompanyDetails?(0,N.vQ)({cb:L,history:n}):L()}}]:O?(e.session.user.loggedUser&&"OWNER"==e.session.user.loggedUser.userType&&t.active&&H.push({label:"Edit",onClick:()=>{e.session.showCompanyDetails?(0,N.vQ)({cb:L,history:n}):L()}}),t.active?H.push({label:"Deactivate",onClick:t=>{e.session.showCompanyDetails?(0,N.vQ)({cb:()=>{r(t),j("deactivate")},history:n}):j("deactivate")}}):H.push({label:"Activate",onClick:t=>{e.session.showCompanyDetails?(0,N.vQ)({cb:()=>{r(t),j("activate")},history:n}):j("activate")}})):(H=[{label:"Edit",onClick:()=>{e.session.showCompanyDetails?(0,N.vQ)({cb:L,history:n}):L()}},{label:"Duplicate",hide:t.isTemplate||e.session.user.loggedUser&&("OWNER"==e.session.user.loggedUser.userType&&("APPROVAL_PENDING"==t.reviewStatus||"DELETION_PENDING"==t.reviewStatus)||"JDEMPLOYEE"==e.session.user.loggedUser.userType&&"DELETION_PENDING"==t.reviewStatus)||F,onClick:()=>{e.session.showCompanyDetails?(0,N.vQ)({cb:R,history:n}):R()}},{label:"Delete",hide:e.session.user.loggedUser&&"JDEMPLOYEE"==e.session.user.loggedUser.userType&&("DELETION_PENDING"==t.reviewStatus||!1===t.isJdEditable),onClick:a=>{e.session.showCompanyDetails?(0,N.vQ)({cb:()=>{r(a),Z(!1),e.confirmDelete(t)},history:n}):"webstore"!=e.session.source?(r(a),Z(!1),e.confirmDelete(t)):(r(a),Z(!1),e.deleteProduct(e.variantId))}}],H=H.filter((e=>!e.hide)));const W=(a,o,i)=>{let r=e.uomJsonMap[a];return i&&r?r.uomType:o||1==t.minOrderQuantity?r?r.singular:a:r?r.plural:a},K=e.readOnlyProduct||e.session.isReadOnly;let G=!(K||e.isAuditor||C||O||"b2b"!=e.session.source||a||e.searchText||e.session.user.loggedUser&&"JDEMPLOYEE"==e.session.user.loggedUser.userType&&e.tabKey),z=!e.isAuditor&&e.session.user.loggedUser&&"OWNER"==e.session.user.loggedUser.userType&&("APPROVAL_PENDING"==t.reviewStatus||"DELETION_PENDING"==t.reviewStatus),Y=!K;(!a&&!F&&e.session.user.loggedUser&&"OWNER"==e.session.user.loggedUser.userType&&"REVIEWED"!=t.reviewStatus||O&&e.session.user.loggedUser&&"OWNER"!=e.session.user.loggedUser.userType)&&(Y=!1),O&&e.session.user.loggedUser&&"OWNER"==e.session.user.loggedUser.userType&&t.active&&(Y=!0),(!e.session.user.loggedUser&&("approvalPending"==e.tabKey||"deletionPending"==e.tabKey)||e.session.user.loggedUser&&"JDEMPLOYEE"==e.session.user.loggedUser.userType&&e.isSpecialContractJd)&&(G=!1);let J=e.variantId;"webstore"!=e.session.source||e.searchText||e.readOnlyProduct||(G=!0,J=t.productId);const q=(a,o)=>{"webstore"!=e.session.source||e.objectionableMode||(a=t.productId);let i=e.tabKey||"deletionPending",r="approvalPending"==i?[...e.approvalPendingList]:[...e.deletionPendingList];-1!=r.indexOf(a)||o?r.splice(r.indexOf(a),1):r.push(a);let n={};n[i+"List"]=r,"approvalPending"==i?e.updateApprovalPending(n):"deletionPending"==i&&e.updateDeletionPending(n)},X=(a=!0)=>{let o={tabKey:e.tabKey};"search"==e.pageType&&(o.isSearch=!0,o.searchText=e.searchText),e.updateProductStatus({action:"delete",isDelete:a,token:e.session.token,variantId:t.variantId,cb:()=>{q(t.variantId,!0),e.getListingData(o),a&&A(_.Z.showMessage({message:"Product Deleted Successfully",showReduxToast:!0,animationTime:5e3}))}})},Q=(a,o)=>{if(a.stopPropagation(),o){let a={...t};a.cb=X,e.confirmDelete(a)}else X(!1)};(0,o.useEffect)((()=>{e.isProductUpdated&&!e.objectionableMode&&(l("add-bg-color"),setTimeout((()=>{l("")}),2e3))}),[e.productData]),(0,o.useEffect)((()=>{e.isProductUpdated&&e.session.user.loggedUser&&"JDEMPLOYEE"==e.session.user.loggedUser.userType&&(e.showAddEditProduct||e.imageSliderVisible||setTimeout((()=>{e.getListingData({tabKey:e.tabKey})}),1500))}),[e.isProductUpdated]),(0,o.useEffect)((()=>{"APPROVAL_PENDING"==t.reviewStatus?b(!0):b(!1)}),[t.reviewStatus]);const $=[...t.imageUrlArr||[],...t.videoUrlArr||[]];let ee=!1;t.imageUrlArr&&t.imageUrlArr.length||!t.videoUrlArr.length||($.unshift({uploaded:!1}),ee=!0),(0,E.TH)();let te=0==t.categoryPresent&&!F;("DELETION_PENDING"==t.reviewStatus&&"webstore"!=e.session.source||C||O)&&(te=!1);let ae="",oe="",ie="";if(t&&t.auditStatusFlag){let e=t.auditStatusFlag.toLowerCase();"audit pending"==e?(ae="icon-alertNew",oe="red",ie="AUDIT PENDING"):"audit not required"==e?(ae="icon-Checkmark",oe="grey",ie="AUDIT NOT REQUIRED"):"audited - vendor approval pending"==e?(ae="icon-alertNew",oe="yellow",ie="AUDITED - VENDOR APPROVAL PENDING"):"audited - sampled"==e?(ae="icon-Checkmark",oe="green",ie="AUDITED - SAMPLED"):"objectionable product"==e?(ae="icon-alertNew",oe="red",ie="OBJECTIONABLE PRODUCT"):(ae="icon-Checkmark",oe="green",ie="AUDITED")}let re,ne="",se="";if(t&&t.queueType||O&&!t.active){let e={};e=O?(0,N.b1)({type:"brand"}):(0,N.b1)({type:t.queueType}),ne=e.productTag,se=e.tagColor}const le=()=>{"webstore"!=e.session.source||e.searchText||clearTimeout(re)};return o.createElement(o.Fragment,null,o.createElement("div",T({className:"".concat(d["prod-block"]," ").concat(I?d["check-tint"]:""," ").concat(a?d["add-prod-block"]:""," ").concat(s," ").concat(e.rippleClass," ").concat(c?d["show-moremenu"]:""," ").concat("webstore"==e.session.source?"webstore":"b2b"," ").concat(Y?"":d["under-review"]," ").concat(-1!=e.deletionPendingList.indexOf(J)||-1!=e.approvalPendingList.indexOf(J)?"checked":""," ").concat(F?d["gallery-prod"]:""," ").concat(B?d["gallery-prod-hide"]:""),onClick:"productConflict"!=e.tabKey?()=>{if(e.objectionableMode)return;let a=(0,N.iP)({checkType:!0});(0,N.iP)({query:!0}),a.searchAudit||a.isSpecialContract?(0,N.WW)({productId:e.productData.productId,searchBy:V?"objectionableId":"",id:V?t.id:"",cb:t=>{if(t.data.status)if(window.top!=window.self&&(t.data.url+="&loadedInIframe=true"),t.data.url+="&useAuditApi=true",a.isSpecialContract&&(t.data.url+="&isSpecialContract=true"),V&&(t.data.url+="&isObjection=true"),-1!=t.data.url.indexOf(e.session.basePath)){let a;if(V)a=t.data.url.split(e.session.basePath)[1];else{let o=t.data.url.split("?")[1];a="/products/edit/".concat(e.variantId,"?").concat(o)}n.push(a)}else window.location.href=t.data.url}}):e.session.showCompanyDetails&&!K?(0,N.vQ)({cb:L,history:n}):L()}:null,onTouchStart:()=>{"webstore"!=e.session.source||e.searchText||(re=setTimeout((()=>{q(e.variantId)}),1e3))},onTouchEnd:le,onTouchMove:le},e.rippleHandler),e.renderRipple&&e.renderRipple(),o.createElement("div",{onClick:r},o.createElement(u.Z,T({},e,t,{showAddImageWithText:!0,showCheckBox:G&&!e.objectionableMode,redirectToEdit:e.session.showCompanyDetails&&!K?()=>(0,N.vQ)({cb:L,history:n}):L,tickStatus:e.tabKey&&-1!=e[e.tabKey+"List"].indexOf(J)||-1!=e.deletionPendingList.indexOf(J),showColourLoaderIfEmpty:z||e.objectionableMode,checkCB:()=>{q(e.variantId)},imageUrlArr:$,isReadOnly:K||C||e.objectionableMode||O||x,isObjectionable:C,isBrandedProd:O,isGalleryProd:F,fromListing:!0,pos:"bottom"}))),"webstore"==e.session.source?o.createElement(S,T({},e,{onEditToggle:Z,getUom:W,tabKey:e.tabKey,toggleNoEditModal:e.toggleNoEditModal,toggleModal:e.toggleModal,getModalObj:e.getModalObj,searchText:e.searchText,confirmDelete:e.confirmDelete,renderSellingPrice:M})):o.createElement(o.Fragment,null,o.createElement("div",{className:d["prod-desc"]},e.searchText?o.createElement(y.Z,{search:e.searchText,text:t.productName,className:"prod-title font-16"}):a?o.createElement("div",{className:d["prod-name-shim"]}):o.createElement("div",{className:d["prod-name-wrapper"]},o.createElement("p",{className:"prod-title ".concat(e.deviceData.isMobile?"font-16":"font-18")},t.productName),e.productData.attachmentPresent?o.createElement("span",{className:"icon-Gl_Attachment"}):null),a?o.createElement("div",{className:d["prod-price-shim"]}):null,o.createElement("div",{className:d.price},U&&w.isSinglePrice||e.isAuditor&&t.sellingPrice?o.createElement("span",{className:d["product-price"]},o.createElement("span",{className:"font-16"},o.createElement("span",{className:"".concat(d.currency," icon-currency")})," "+(e.isAuditor&&t.sellingPrice?Number(t.sellingPrice).toLocaleString():Number(w.singlePrice).toLocaleString("en-IN")))):U&&o.createElement(o.Fragment,null,o.createElement("span",{className:d["product-price"]},o.createElement("span",{className:"font-16"},o.createElement("span",{className:"".concat(d.currency," icon-currency")})," "+Number(w.minPrice).toLocaleString("en-IN"))),o.createElement("span",null,"-"),o.createElement("span",{className:d["product-price"]},o.createElement("span",{className:"font-16"},o.createElement("span",{className:"".concat(d.currency," icon-currency")})," "+Number(w.maxPrice).toLocaleString("en-IN")))),e.isAuditor?null:U&&t.uom&&-1===["Unit","Pc","Pkt"].indexOf(t.uom)?o.createElement("span",{className:d.uom},"/ ",W(t.uom,!0)):null,e.isAuditor||K||C?null:o.createElement("span",{onMouseDown:e=>e.stopPropagation()},o.createElement(k.Z,null,Y?o.createElement(v,{isEdit:!a&&U,onClick:o=>{if(a||F)return;r(o);let i="",n="";t.uom&&(i=W(t.uom,!0)),n=(0,N.yn)(e.uom,t.uom),t.productName,t.sellingPrice,t.variantId,n.uomType,e.openPriceModal({...e.productData,isSellingPrice:U,uom:i,uomType:n})},customText:a||F?"ADD DESCRIPTION":""}):null))),t.minOrderQuantity&&t.minOrderQuantity>1?o.createElement("p",{className:d["prod-min-qty"]},"Min. Qty:"," ",o.createElement("span",{className:d["black-color"]},"PACKED"==W(t.uom,"",!0)?Math.floor(t.minOrderQuantity):t.minOrderQuantity," ",W(t.uom))):null,t.auditStatusFlag&&e.isSpecialContract?o.createElement("div",{className:d["audit-status-holder"]+" "+(t.sellingPrice?"":"no-min-order")},o.createElement("div",{className:"".concat(d["audit-status-icon"]," ").concat(oe," ").concat(ae)}),o.createElement("div",{className:"".concat(d["audit-status-text"]," ").concat(oe)},ie)):null,t.queueType&&e.isSpecialContract||O&&!t.active?o.createElement(o.Fragment,null,o.createElement("div",{className:d["tag-holder"]},o.createElement("div",{className:d["tag-text"]+" "+se},ne))):null,e.isAuditor?o.createElement("div",{className:d["audit-button-holder"]},o.createElement(g.Z,{className:d["audit-button"],size:"sm",block:!0,clickHandler:()=>{}},"AUDIT")):null,e.session.user.loggedUser&&"OWNER"==e.session.user.loggedUser.userType&&!e.fromSelectProductSlider&&"search"!=e.pageType&&!t.ownerEdit&&C?o.createElement("div",{className:d["take-live-button-holder"]},o.createElement(g.Z,{className:d["take-live-button"],size:"sm",block:!0,clickHandler:a=>{a.stopPropagation(),e.objectionableTakeLive(t.id,{cb:()=>{e.toggleRequestTakeLive&&e.toggleRequestTakeLive(!0)}})}},"Request to Take Live")):null,te?o.createElement("div",{className:"cat-sel-warning"},o.createElement("i",{className:"icon-alertNew"}),o.createElement("div",{className:"cat-sel-warning"},"Category Selection Pending")):null,"APPROVAL_PENDING"!=t.reviewStatus&&"DELETION_PENDING"!=t.reviewStatus&&!h||e.isAuditor||K||C||O?null:o.createElement(o.Fragment,null,"APPROVAL_PENDING"!=t.reviewStatus&&!h||te?null:o.createElement("div",{className:"".concat(d["pending-text"])},o.createElement("i",{className:"icon-alertNew"}),o.createElement("div",{className:d["pending-status"]},"Approval Pending")),"DELETION_PENDING"!=t.reviewStatus||h?null:o.createElement("div",{className:"".concat(d["pending-text"]," ").concat(d.delete," ")},o.createElement("i",{className:"icon-alertNew"}),o.createElement("div",{className:d["pending-status"]},"Deletion Pending")),e.session.user.loggedUser&&"OWNER"==e.session.user.loggedUser.userType?o.createElement(o.Fragment,null,"APPROVAL_PENDING"==t.reviewStatus?o.createElement("div",{onClick:e=>{e.stopPropagation()},onMouseDown:e=>e.stopPropagation()},o.createElement(g.Z,{className:d["single-approve-btn"],size:"sm",clickHandler:a=>{(a=>{a.stopPropagation();let o={tabKey:e.tabKey};"search"==e.pageType&&(o.isSearch=!0,o.searchText=e.searchText),e.updateProductStatus({token:e.session.token,variantId:t.variantId,cb:()=>{q(t.variantId,!0),e.getListingData(o),A(_.Z.showMessage({message:"Product Approved - "+t.productName,showReduxToast:!0,animationTime:5e3}))}})})(a)}},o.createElement("i",{className:"icon-checkmarkCircle"}),o.createElement("div",{className:d["single-btn-label"]},"Approve Product"))):o.createElement("div",{className:d["single-delete-btn-holder"],onClick:e=>{e.stopPropagation()},onMouseDown:e=>e.stopPropagation()},o.createElement(g.Z,{className:d["single-delete-btn"],clickHandler:e=>{Q(e,!0)},size:"sm"},o.createElement("i",{className:"icon-trash"}),o.createElement("div",{className:d["single-btn-label"]},"DELETE")),o.createElement(g.Z,{className:d["delete-btn-text"],variant:"text",size:"sm",clickHandler:e=>{Q(e,!1)}},"DON'T DELETE"))):null)),a||K||e.isAuditor&&!e.isSpecialContract?null:o.createElement("div",{className:"action-holder"},o.createElement("div",{className:d["more-menu-parent"],onClick:e=>{e.stopPropagation()},onMouseDown:e=>e.stopPropagation()},o.createElement(m.Z,{parentClass:d["more-menu-holder"],menuClass:d["more-menu"],list:H,onToggle:Z})))),e.isAuditor||F||e.onlyForSelection||C||O?null:o.createElement(D,T({},e,t,{expanded:e.productId===f,toggleExpanded:P,redirectToEdit:e.session.showCompanyDetails&&!K?()=>(0,N.vQ)({cb:L,history:n}):L,mediaUrlArr:$,conflicTab:x,noPrimaryImage:ee})),c&&o.createElement("div",{className:d["more-menu-overlay"],onClick:e=>{Z(!1),e.stopPropagation()},onMouseDown:e=>e.stopPropagation()}),o.createElement("div",{className:"fake-border"})))})));var A=a(52054),M=a(59670),Z=a(95067),U=a(86037),L=a(39963);function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e}).apply(this,arguments)}const j={changeImage:{text:"Change Image",icon:"icon-myImages",value:"changeImage"},viewImage:{text:"View Image",icon:"icon-show",value:"viewImage"},deleteImage:{text:"Delete Image",icon:"icon-trash",value:"deleteImage"}},F=(0,p.Z)((e=>o.createElement("div",R({className:"close-option ".concat(e.rippleClass),onClick:e.onClick},e.rippleHandler),o.createElement("i",{className:"icon-HDRcross"}),e.renderRipple()))),B=(0,p.Z)((e=>o.createElement("div",R({className:"edit-option ".concat(e.rippleClass),onClick:()=>e.onClick(e.value)},e.rippleHandler),o.createElement("i",{className:"".concat(e.icon," edit-option-icon")}),o.createElement("span",{className:"edit-option-text"},e.text),e.renderRipple()))),H=e=>{const t=(0,o.useRef)(null),a=(0,o.useRef)(null),i=o.useRef(null),[r,n]=(0,o.useState)(!1),s=(0,U.useSwipeable)({onSwiped:e=>{"Down"===e.dir&&(e.absY>85?l():a.current.style.transform="translate3d(0px, 0px, 0px)")},onSwiping:e=>{if("Down"===e.dir){const t=e.absY;t>80?l():a.current.style.transform="translate3d(0px, ".concat(t,"px, 0px)")}else if("Up"===e.dir){const t=Math.max(-e.absY,0);a.current.style.transform="translate3d(0px, ".concat(t,"px, 0px)")}},preventDefaultTouchmoveEvent:!0,trackTouch:!0});(0,o.useEffect)((()=>(a.current=t.current.sliderContentRef.current,t.current.toggle(!0),n(!0),()=>{t.current.toggle(!1)})),[]);const l=(0,o.useCallback)((a=>{a&&a.stopPropagation(),t.current&&t.current.toggle(!1),n(!1),setTimeout((()=>{e.toggleEditImageOptions(null)}),350)}),[]);return o.createElement("div",s,o.createElement(Z.Z,{ref:t,width:"100%",slideDirection:"bottom",showOverlay:!1,className:"edit-image-options-menu"},((e,t)=>{let a=e.listOptions||["changeImage","viewImage","deleteImage"];const i=[];return a.map((e=>{const a=j[e];i.push(o.createElement(B,R({},a,{onClick:t})))})),i})(e,(t=>{switch(t){case"changeImage":console.log(t),i.current.triggerClick();break;case"viewImage":e.toggleEditImageOptions(null),setTimeout((()=>{e.toggleViewImageSlider(!0,e.variantId,parseInt(e.imgIndex))}),100);break;case"deleteImage":const a=[...e.imageUrlArr];a.splice(e.imgIndex,1),l(),e.deleteProductImage({variantId:e.variantId,supplierId:e.supplierId,imageUrlArr:a})}})),o.createElement(F,R({},e,{onClick:l})),o.createElement(L.Z,{onChange:t=>{(0,C.Q_)(t,{...e,forChangeImage:!0},e.imgIndex),setTimeout((()=>{e.toggleEditImageOptions(null)}),0)},ref:i})),o.createElement("div",{className:"edit-options-overlay ".concat(r?"visible":""),onClick:l}))};var V=a(78091),W=a(39981),K=a(52448),G=a(49667),z=a(30045),Y=a(15667),J=a(78960),q=a(33585);function X(){return(X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e}).apply(this,arguments)}const Q=/^\d{0,10}(\.\d{0,2})?$/,$=o.forwardRef(((e,t)=>{const a=e.products,[i,n]=(0,o.useState)(!1),[s,l]=(0,o.useState)(""),[u,m]=(0,o.useState)(!1),[p,h]=(0,o.useState)(null),[v,b]=(0,o.useState)(null),[f,_]=(0,o.useState)(!1),[y,P]=(0,o.useState)(!1),[w,I]=(0,o.useState)(null),[S,C]=(0,o.useState)(null),[k,T]=(0,o.useState)(!1),[x,D]=(0,o.useState)(!1),[O,Z]=(0,o.useState)(!1),[U,L]=(0,o.useState)(""),R=(0,o.useRef)(null),j=(0,E.k6)(),F=(0,o.useRef)(null),B=(0,o.useRef)(null),z=(0,o.useRef)(null),[$,ee]=(0,o.useState)({price:""}),[ae,oe]=(0,o.useState)(""),[ie,re]=(0,o.useState)("");let[ne,se]=(0,o.useState)({});const le="brand"==e.tabKey;e.isAuditor&&a[0]&&"ADD_PRODUCT"==a[0].variantId&&a.splice(0,1);const ce=[{holderClass:d["product-row"],formElements:[{hide:!f,priceRange:!0,holderClass:d.marginLR15+" "+d.marginT20,inputObj:[{label:"Min. Price",key:"minPrice",holderClass:"min-price",input:{value:p||"",autoFocus:!0,type:e.isIphone?"number":"tel",onChange:e=>me(e,"minPrice"),onFocus:e=>ue(e,"minPrice")}},{label:"Max. Price",key:"maxPrice",holderClass:"max-price",input:{value:v||"",type:e.isIphone?"number":"tel",onChange:e=>me(e,"maxPrice"),onFocus:e=>ue(e,"maxPrice")}},{label:"Unit",disableMovingLabel:!0,key:"unitOfMeasurement",holderClass:"unit-measurement",showArrow:!le,input:{value:"object"==typeof ae?ae.displayVal:ae||"",readOnly:!0,className:d["range-unit-of-measurement"],disabled:le,onClick:()=>{z.current.openCloseUOMSlider(!0),m(!0)}},ignoreParentClass:!0,editableForTemplate:!0}],error:$},{hide:f,label:"Product Price",prepend:()=>o.createElement("span",{className:"icon-currency"}),hidePrependBar:!0,key:"price",holderClass:d["prod-price"],input:{value:s||"",autoFocus:y,type:e.isIphone?"number":"tel",onChange:e=>me(e,"price"),onKeyDown:e=>de(e)},ignoreParentClass:!0,inputGroupProps:{rightSection:()=>o.createElement("span",{className:"font-14",style:{color:"#718190"}},"Per")}},{hide:f,label:"Select Unit",disableMovingLabel:!0,key:"unitOfMeasurement",holderClass:le?d["prod-unit"]+" "+d["branded-prod"]:d["prod-unit"],errorClass:d["prod-unit-error"],showArrow:!le,input:{value:"object"==typeof ae?ae.displayVal:ae||"",readOnly:!0,className:d["range-unit-of-measurement"],disabled:le,onClick:()=>{z.current.openCloseUOMSlider(!0),m(!0)}},ignoreParentClass:!0,editableForTemplate:!0},{customJSX:o.createElement("div",{className:"".concat(d["more-detail-switch"]," ").concat($.minPrice||$.maxPrice?d["error-flag"]:"")},o.createElement(J.Z,{label:"Add Price Range",labelPosition:"before",labelTitleClass:d["price-range-label"],onClick:()=>_(!f),checked:f,showToggleStatus:!1}))}]}],de=t=>{if(!e.isIphone)return;const a=t.key;"Backspace"!=a&&(a.match(/\d|\./g)&&((s||"")+(a||"")).match(Q)||t.preventDefault())},ue=(e,t)=>{const a={...$};a[t]="",ee(a)},me=(e,t)=>{const a="undefined"!=typeof event?event.data:null,o=e.target.value;if(!G.otherThanEnglish.test(o)&&Q.test(o))switch(t){case"price":if(!Q.test((s||"")+(a||"")))return;l(e.target.value);break;case"minPrice":h(e.target.value);break;case"maxPrice":b(e.target.value)}};(0,o.useEffect)((()=>((0,A.$0)(be),()=>{(0,A.wf)(be)})),[]);const pe=e=>{e||(oe(""),re(""),ee({price:""})),n(e)},ge=e=>{pe(!0),F.current=e;{const e=F.current.priceObj||{};e.isSinglePrice?(l(e.singlePrice),h(""),b(""),_(!1)):(h(e.minPrice),b(e.maxPrice),l(""),_(!0)),oe(F.current.uom),re(F.current.uomType)}P(!0)},he=(e,t,a,o,i)=>{R.current=window.scrollY,C({selImageIndex:a,variantId:t})},ve=(e,t)=>{history.back(),F.current=null},be=()=>{setTimeout((()=>{R.current&&window.scrollTo(0,R.current),R.current=null}))};(0,o.useEffect)((()=>{e.animateDirection&&(L(e.animateDirection),setTimeout((()=>{L("")}),300))}),[e.animateDirection,e.slideAgain]);let fe=a.length>4?a.slice(0,4):a;return o.createElement(o.Fragment,null,o.createElement("div",{className:"prod-list ".concat(U),ref:t},a.map(((t,a)=>{let i=t.productId;return"ADD_PRODUCT"===i&&(i+=a),o.createElement(te,{fromSearch:e.fromSearch,fromPhotos:e.fromPhotos,expanded:t.variantId===w,toggleExpanded:I,key:i,openPriceModal:ge,onImageClick:e.isAuditor?null:he,variantId:t.variantId,imageSliderVisible:S,productUnderEdit:e.productUnderEdit.variantId,openEditSlider:t=>{return a=t,e.specInfo&&!Object.keys(e.specInfo).length&&e.fetchSpecInfo(),void e.fetchDataAndEdit({itemId:a.productId,cb:()=>{if("b2b"==e.session.source)j.push("/edit-item/".concat(a.productId));else{let t="?source=".concat(window.location.pathname);e.searchText&&(t+="&query=".concat(e.searchText)),e.setRedirectedFrom({redirectedFrom:"listing"}),j.push("/edit-item/".concat(a.productId).concat(t))}}});var a},toggleModal:Z,pageType:e.pageType,getModalObj:se,searchText:e.searchText,confirmDelete:e.confirmDelete,isAuditor:e.isAuditor,readOnlyProduct:e.readOnlyProduct,onProductClick:e.onProductClick,onlyForSelection:e.onlyForSelection,isSpecialContract:e.isSpecialContract,toggleRequestTakeLive:e.toggleRequestTakeLive,toggleActivateDeactivateModal:e.toggleActivateDeactivateModal,objectionableMode:e.objectionableMode,fromSelectProductSlider:e.fromSelectProductSlider,tabKey:e.tabKey,productId:t.productId,index:a})})),e.bottomLoader?o.createElement("div",{style:{height:"5.625rem",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"}},o.createElement("div",{style:{padding:"0.313rem",borderRadius:"100%",boxShadow:"rgba(0, 0, 0, 0.2) 0px 1px 15px 0px"}},o.createElement(q.Z,{style:{borderColor:"#3B74A9",borderTopColor:"white",height:"1.25rem",width:"1.25rem"}}))):null),U&&o.createElement("div",{className:"fake-prod-list ".concat(U," ").concat(e.noVendorImages?"":"handle-vendor-images"," ").concat(e.topPosClass)},fe.map((t=>o.createElement(te,{fromSearch:e.fromSearch,fromPhotos:e.fromPhotos,expanded:t.productId===w,toggleExpanded:I,key:t.productId,openPriceModal:ge,onImageClick:he,variantId:t.variantId,productUnderEdit:e.productUnderEdit.variantId,toggleNoEditModal:T,toggleModal:Z,getModalObj:se,searchText:e.searchText,confirmDelete:e.confirmDelete,fromSelectProductSlider:e.fromSelectProductSlider,isAuditor:e.isAuditor,isSpecialContract:e.isSpecialContract,toggleRequestTakeLive:e.toggleRequestTakeLive,toggleActivateDeactivateModal:e.toggleActivateDeactivateModal,productId:t.productId,tabKey:e.tabKey})))),S&&o.createElement(M.Z,X({ref:B,canUploadImage:!0,updateProductImage:e.updateProductMedia,deleteProductImage:e.deleteProductImage,deleteProductVideo:e.deleteProductVideo,restoreProductData:e.restoreProductData,toggleLibrarySlider:e.toggleLibrarySlider,showToastMessage:e.showToastMessage,showUndoToast:!0,checkLoggedIn:N.vQ,b2bGenio:e.session.showCompanyDetails,routerHistory:j,closeCB:()=>{e.sliderCloseCB&&e.sliderCloseCB(),e.getVendorProducts({})},session:e.session,showAddImageWithText:!0,hideSaveButton:!0,ignoreSave:!0,fromListing:!0,fromProductListing:!0,productListViewImageSlider:"b2b"===e.session.source,onHidden:()=>C(null)},S)),e.editImageOptions&&o.createElement(H,X({},e.editImageOptions,{toggleEditImageOptions:e.toggleEditImageOptions,toggleViewImageSlider:he,deleteProductImage:e.deleteProductImage,deleteProductVideo:e.deleteProductVideo,supplierId:e.session.supplierId,updateProductMedia:e.updateProductMedia})),i&&o.createElement(c,{onPriceUpdate:t=>{const a={...$};let o=!1;const i={...F.current.priceObj};if(i.isSinglePrice=!f,i.singlePrice=s,i.minPrice=p,i.maxPrice=v,!i.isSinglePrice){let e="",t="";""===i.minPrice&&""===i.maxPrice?(i.isSinglePrice=!0,a.minPrice=!1,a.maxPrice=!1,o=!1):i.minPrice&&i.maxPrice?i.minPrice&&0==i.minPrice||i.maxPrice&&0==i.maxPrice?(t=0==i.minPrice?"Min. Price Cannot be 0":"Max. Price Cannot be 0",o=!0,0==i.minPrice?(a.minPrice=t,a.maxPrice=!1):0==i.maxPrice&&(a.maxPrice=t,a.minPrice=!1)):""!==i.minPrice&&""!==i.maxPrice&&Number(i.minPrice)>Number(i.maxPrice)&&(t="Cannot be More than Max. Price",o=!0,a.minPrice=t,a.maxPrice=!1):(t=i.minPrice?"Enter Max. Price":"Enter Min. Price",e=i.minPrice?"maxPrice":"minPrice",o=!0,"minPrice"==e?(a[e]=t,a.maxPrice=!1):"maxPrice"==e&&(a[e]=t,a.minPrice=!1))}if(o)ee(a);else{if(le){let t={...F.current};t.priceObj=i,e.updateBrandedProduct({productData:t,cb:()=>{console.log("price updated")}})}else e.updateProductPrice({...F.current,token:e.session.token,editFlag:F.current.isSellingPrice?"edit":"add",priceObj:i,uom:ae.val?ae.val:ie.val,cb:()=>{let t={};e.tabKey&&(t.tabKey=e.tabKey),e.getListingData(t)}});ve(),e.showToastMessage({showToastMessage:!0,message:"Price Updated Successfully",duration:5e3})}},onModalClose:ve,inputObj:ce,openCloseAddEditPriceModal:pe,productUnderEdit:F.current,errors:$,isUomSliderOpen:u}),o.createElement(V.Z,null),o.createElement(W.Z,{source:e.session.source,tabKey:e.tabKey}),x&&o.createElement("div",{className:"del-btn-wrapper"},o.createElement(K.Z,null,o.createElement(g.Z,{variant:"default",className:"del-options no-del",clickHandler:()=>{deleteBtnClick(!1)}},"Don’t Delete"),o.createElement(g.Z,{className:"del-options del",clickHandler:()=>{deleteBtnClick(!0)}},"Delete Products"))),k?o.createElement(r.Z,{onHidden:()=>T(!1),settings:{variant:d["noedit-modal"]+" action"}},o.createElement(r.Z.CloseIcon,null),o.createElement(r.Z.Body,{className:d["noedit-modal-body"]},o.createElement("span",null,"Currently Editing Products with Variants is Not Supported on Mobile. Please Use Our Web Application for the Same")),o.createElement(r.Z.Footer,null,o.createElement(r.Z.Button,{clickHandler:()=>T(!1)},"Okay, Got It"))):"",O?o.createElement(r.Z,{onHidden:()=>Z(!1),settings:{variant:"action "+d["confirm-share-modal"]}},o.createElement(r.Z.CloseIcon,null),o.createElement(r.Z.Header,null,"Unhide Product to Share?"),o.createElement(r.Z.Body,null,o.createElement("span",null,"Product need to be Unhidden before it can be shared.")),o.createElement(r.Z.Footer,null,o.createElement(r.Z.Button,{variant:"secondary",clickHandler:()=>ne.onNoClick()},"No, Don't Unhide"),o.createElement(r.Z.Button,{clickHandler:()=>ne.onYesClick()},"Yes, Unhide & Share"))):"",o.createElement(Y.Z,{ref:z,uomType:"productUOM",onSelectUOM:(t,a)=>{let o=[{key:"unitOfMeasurement",value:a.val,uomType:a.uomType}];e.updateEditProductDetail(o),oe(a),z.current.openCloseUOMSlider(!1),m(!1)},showUOMType:"Packed",onUomSliderClose:()=>{m(!1)},isMobile:e.isMobile}))})),ee=(0,i.$j)(((e,t)=>{var a;return{...t,noVendorImages:!e.products.vendorImages||!e.products.vendorImages.length,listing:e.products.listing,session:e.session,editImageOptions:e.products.editImageOptions,productUnderEdit:e.products.productUnderEdit,isIphone:e.deviceData.isIphone,isMobile:e.deviceData.isMobile,tabKey:e.products.tabKey,specInfo:null===(a=e.items)||void 0===a?void 0:a.specInfo}}),{toggleEditImageOptions:b.rq,deleteProductImage:b.bL,updateProductMedia:b.s7,deleteProductVideo:b.iA,showToastMessage:_.Z.showMessage,updateProductPrice:b.vn,setCurrentEditPage:b.WT,toggleLibrarySlider:z.wk,updateEditProductDetail:b.vZ,restoreProductData:b.xn,updateBrandedProduct:b.dW,fetchDataAndEdit:f.KR,setRedirectedFrom:b.Vv,getVendorProducts:b.kv,fetchSpecInfo:f.Zk},null,{forwardRef:!0})($),te=o.memo((e=>o.createElement(O,{fromSearch:e.fromSearch,fromPhotos:e.fromPhotos,openPriceModal:e.openPriceModal,onImageClick:e.onImageClick,variantId:e.variantId,isProductUpdated:e.productUnderEdit===e.variantId,imageSliderVisible:e.imageSliderVisible,toggleNoEditModal:e.toggleNoEditModal,openEditSlider:e.openEditSlider,toggleModal:e.toggleModal,pageType:e.pageType,getModalObj:e.getModalObj,searchText:e.searchText,confirmDelete:e.confirmDelete,isAuditor:e.isAuditor,isSpecialContract:e.isSpecialContract,readOnlyProduct:e.readOnlyProduct,onlyForSelection:e.onlyForSelection,onProductClick:e.onProductClick,toggleRequestTakeLive:e.toggleRequestTakeLive,toggleActivateDeactivateModal:e.toggleActivateDeactivateModal,objectionableMode:e.objectionableMode,fromSelectProductSlider:e.fromSelectProductSlider,tabKey:e.tabKey,productId:e.productId,index:e.index})),((e,t)=>t.productUnderEdit!=t.variantId&&e.expanded===t.expanded&&t.searchText===e.searchText))},78960:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var o=a(67294),i=a(36812);function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e}).apply(this,arguments)}const n=e=>o.createElement(i.Z,r({},e,{className:"".concat("v7eV_b2b-switch"," ").concat(e.className||""),labelClass:"".concat("_1A3j_b2b-label"," ").concat(e.labelClass||"")}))},12603:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var o=a(67294),i=a(8365),r=a.n(i);function n(e){let t="_1Ks6_fade-in-up";return e.className&&(t=e.className),o.createElement(r(),{effect:t},e.children)}},78091:(e,t,a)=>{"use strict";a.d(t,{Q:()=>M,Z:()=>Z}),a(91181);var o=a(67294),i=a(16550),r=a(14494),n=a(50437),s=a(48230),l=a(39963),c=a(82680);var d=a(47799),u=a(49658),m=a(30045),p=a(88822),g=a(46834),h=a(97293),v=a(40684);const b=(0,v.ZP)((()=>Promise.all([a.e(75514),a.e(48919),a.e(62354)]).then(a.bind(a,80418)))),f=e=>e.isMobile?o.createElement(n.Z,e):o.createElement(b,e);var _=a(51748),y=a(33743);var E=a(18360);const P=(0,r.$j)(((e,t)=>({...t,isMobile:e.deviceData.isMobile,variantProducts:t.variantProductData?t.variantProductData:e.variants.variantProductData,variantCombinations:e.variants.variantCombinations})))((e=>{const[t,a]=(0,o.useState)([]),[i,r]=(0,o.useState)(!1),n=e=>{if(-1==t.indexOf(e))a([...t,e]);else{let o=[...t];o.splice(o.indexOf(e),1),a(o)}},s=e=>{let t=[];for(let a=0;a<Math.min(e.imageUrlArr.length,4);a++)t.push(o.createElement("div",{className:"KdO7_image-holder"},o.createElement("img",{src:e.imageUrlArr[a].actualPath}),e.imageUrlArr.length>4&&3==a?o.createElement("div",{className:"_3EKB_count-holder"},"+ ",e.imageUrlArr.length-4):o.createElement(o.Fragment,null)));return i||r(!0),t},l=e=>{let t=[];for(let a=0;a<e.length;a++)t.push(o.createElement("span",{className:"kP77_variant-type-info"},o.createElement("span",{className:"_1EUl_variant-type"},Object.keys(e[a])[0]),": ",o.createElement("span",{className:"_23ge_variant-option"},e[a][Object.keys(e[a])[0]]),a==e.length-1?"":o.createElement("span",{className:"ZgQh_vertical-divider"}," | ")));return t};return o.createElement(_.Z,{header:{heading:"Copy Image",rightIcons:e.isMobile?[]:[{className:"icon-HDRcross",onClick:e=>{const t=h.Z.getOpenSliders();h.Z.closeMultiSlider(t.length-1)}}]},animateChildren:!1,slider:{className:"_1BiX_copy-images"},onHidden:e.onHidden,footer:i?{btnProps:[{children:"Continue",clickHandler:()=>{var a;let o=[];t.map((t=>{o.push(...e.variantProducts[t].imageUrlArr)})),(null===(a=e.imageUrlArr)||void 0===a?void 0:a.length)+o.length>40?e.showToastMessage({message:"Max 40 Images can be Uploaded",type:"info"}):(e.onSave&&e.onSave(o),e.showToastMessage({message:"Images Copied Successfully",type:"info"})),h.Z.closeCurrent()}}]}:null},o.createElement("div",null,e.variantProducts.map(((a,i)=>{if(a.imageUrlArr.length&&i!=e.variantIndex){const r=-1!=t.indexOf(i);return o.createElement(y.Z,{selectable:!0,selected:r,toggleSelected:()=>n(i),onClick:()=>n(i),enableLongPress:!0,showCheckBox:!0,middleSection:o.createElement(o.Fragment,null,o.createElement("div",null,l(e.variantCombinations[i])),o.createElement("div",{className:"_27Et_images-holder"},s(a))),className:r?"_2EwM_bg-selected":""})}return o.createElement(o.Fragment,null)})),!i&&o.createElement("div",{className:"_1tDI_no-images-holder"},o.createElement("img",{src:E.Z.NO_SEARCH}),"No Images Found")))}));var w=a(59376);function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e}).apply(this,arguments)}const S=(0,v.ZP)((()=>Promise.all([a.e(75514),a.e(48919),a.e(51246),a.e(24306)]).then(a.bind(a,34255)))),C=(0,v.ZP)((()=>Promise.all([a.e(75514),a.e(48919),a.e(51246),a.e(24306)]).then(a.bind(a,24032)))),k=({uploadOptions:e})=>e,N=({session:e})=>e,T=({videoLibrary:e})=>e.showLibrarySlider,x=({library:e})=>e.deviceData,D={image:{camera:{icon:"icon-gallerySM",text:"Camera / Gallery",value:"camera"},url:{icon:"icon-Link icon-link",text:"Image Link",value:"url"},photoGallery:{icon:"icon-myImages",text:"Photo Library",value:"photoGallery"},jdGallery:{icon:"icon-myImages",text:"Justdial Gallery",value:"jdGallery"},copyImage:{icon:"icon-customPage",text:"Copy Images",value:"copyImages"}},video:{camera:{icon:"icon-gallerySM",text:"Camera / Gallery",value:"camera"},url:{icon:"icon-YoutubeOutline",text:"YouTube Link",value:"url"},library:{icon:"icon-videoLibrary",text:"Video Library",value:"library"}}},O={image:"UPLOAD IMAGE",video:"UPLOAD VIDEO"},A="uploadOptions-slider",M=e=>{var t,a;const n=(0,o.useRef)(null),{type:v,data:b={},style:_,containerInfo:y}=e,E=(0,r.v9)((e=>e.products.showAddEditProduct)),I=(0,r.v9)(N,r.wU),M=(0,r.v9)(T),Z=(0,r.v9)(x,r.wU),U=(0,r.v9)(k),L=Z.isMobile,R=(0,i.k6)(),j=(0,r.I0)(),F=(0,o.useCallback)((()=>{j((0,s.PH)({show:!1})),e.onHidden&&e.onHidden()}),[]),[B,H]=(0,o.useState)(!1),[V,W]=(0,o.useState)(!1),[K,G]=(0,o.useState)(!1),[z,Y]=(0,o.useState)(!1);(0,o.useEffect)((()=>(h.Z.getCurrentState()!==A&&h.Z.pushState(R,A),h.Z.addBackHandler(A,F),()=>()=>h.Z.removeBackHandler(A,F))),[]);const J="b2b"==I.source,q=b.options?b.options:((e,t,a,o)=>{if("image"==e||!t){let e=[];return e=a?["cameraApp","camera","url"]:["camera","url"],o?e.push("copyImage","photoGallery"):e.push("photoGallery"),e}return["camera","url","library"]})(v,I.videoExists,e.isAndroidApp||Z.isAndroidApp,e.isVariant);let X=D[v];J||"image"!=v?L||(X.camera={...X.camera},X.camera.icon="icon-gallerySM",X.camera.text="Gallery"):(delete X.jdGallery,(e.isAndroidApp||Z.isAndroidApp)&&(X.cameraApp={icon:"icon-CameraOutline",text:"Camera",value:"cameraApp"},X.camera.text="Gallery",X.camera.icon="icon-gallerySM"),e.isVariant&&(X.jdGallery={icon:"icon-myImages",text:"Photo Library",value:"jdGallery"}),L||(X.camera.text="Gallery",X.url.text="Image Link")),e.fromVideoListing&&delete q[q.indexOf("library")];const Q=q.map((e=>X[e])).filter((e=>e)),$=b.title||O[v],ee=t=>{if(t.data){let a=JSON.parse(t.data)[0];if("success"===a.status){let t=(0,d.al)(a.imgURL),o=+new Date+b.variantId+0,i={editProductId:b.variantId,forVideo:"video"==v,imgIndex:o,initialReq:!1,noOfFilesToUpload:1,source:I.source,updateDefaultIndex:b.updateDefaultIndex,imageUrl:{actualPath:t,imgIndex:o,imgURL:a.imgURL,noOfFilesToUpload:1,uploaded:!0,variantId:b.variantId},ignoreSave:a.ignoreSave};if(j((0,u.s7)({...i})),e.onFileUpload&&!e.fromVideoListing)return void e.onFileUpload(payload);e.appUploadCb&&e.appUploadCb(i.imageUrl),j((0,s.PH)({show:!1}))}}else console.log("waiting to upload")},te=()=>{(0,c.lc)({index:0,callback:e=>{ee(e)}})},ae=B||V||K||z;return o.createElement("div",{className:"".concat("_5VhI_upload-options"," upload-options ").concat(e.fromListing||e.fromProductListing?"T2xt_listing-upload-options":"")},o.createElement(f,{hideCross:!1,horizontalBar:!0,onHidden:()=>{h.Z.closeCurrent()},title:$,drawerOptions:Q,onClick:(t,a)=>{if(j((0,s.yn)({uploading:!0,variantId:U.data.variantId||""})),e.onUploadOptionClick&&e.onUploadOptionClick(a.value),e.vendorSubMenu&&"image"==e.type){if("url"==a.value)return void H(!0);if("library"==a.value)return void W(!0);var o;if("camera"==a.value)return e.isVariant?void n.current.triggerClick(!0):(h.Z.closeCurrent(),void(!Z.isAndroidApp||Z.isIphoneApp||null!==(o=window.jdInterface)&&void 0!==o&&o.openNativeFileChooser?e.onClickGallery():te()));if("copyImages"==a.value)return void G(!0)}switch(a.value){case"url":return h.Z.closeCurrent(),setTimeout((()=>j((0,s.Rc)({show:!0,type:v,data:b,onFileUpload:e.isVariant?e.onFileUpload:null,fromListing:e.fromListing||!1}))),300);case"camera":e.isAndroidApp&&"video"!=v?te():n.current.triggerClick(!0);break;case"cameraApp":(0,c.GN)({index:0,callback:e=>{ee(e)}});break;case"library":h.Z.closeCurrent(),setTimeout((()=>j((0,m.wk)({variantId:b.variantId,flag:!0,ignoreSave:b.ignoreSave,onFileUpload:e.isVariant?e.onFileUpload:null}))),300);break;case"jdGallery":h.Z.closeCurrent(),j((0,p.xI)({variantId:b.variantId,curImageUrl:(b.imageUrlArr||[]).map((e=>e.imgURL)).join(",")})),L?setTimeout((()=>{R.push("/products/jd-photos")}),300):setTimeout((()=>{j((0,p.qc)({isJdPhotoSlider:!0,selectPhotoSlider:!0}))}),300);break;case"photoGallery":if(e.fromListing||e.fromProductListing)return h.Z.closeCurrent(),j((0,p.xI)({productId:b.variantId,curImageUrl:(b.imageUrlArr||[]).map((e=>e.imgURL)).join(",")})),void(L?setTimeout((()=>{R.push("/products/photos"),j((0,p.qc)({selectPhotoSlider:!0,fromListing:!0}))}),300):setTimeout((()=>{j((0,p.qc)({selectPhotoSlider:!0,fromListing:!0}))}),300));if("itemCategory"==e.subType)return void W(!0);Y(!0);break;default:console.log(a)}},className:"image-select-options",itemClassName:"_2VOh_single-option",isMobile:L,style:_,containerInfo:y,isSliderOpen:ae}),o.createElement(l.Z,{onChange:t=>{E||"ADD_PRODUCT"!=b.variantId?e.fromVideoListing||h.Z.closeCurrent():(j((0,s.PH)({show:!1})),L?R.replace("/products/add"):j((0,u.b6)({})));let a={};switch(v){case"video":a={forVideo:!0};break;case"image":a={imageUrlArr:b.imageUrlArr||[]}}M&&R.goBack(),(0,d.Q_)(t,{...e,editProductId:U.data.variantId,variantId:U.data.variantId,...a,session:I,cb:()=>{j((0,s.yn)({uploading:!1,variantId:null}))},updateProductMedia:t=>{if(!e.onFileUpload||e.fromVideoListing)return j((0,u.s7)({...t,ignoreSave:b.ignoreSave}));e.onFileUpload(t)},showToastMessage:e=>j(g.Z.showMessage(e))})},ref:n,forVideo:"video"==v}),B?o.createElement(S,{type:e.subType,onHidden:()=>{H(!1),e.onHidden(),h.Z.closeCurrent()},updateProductImage:e.updateProductImage,customUpload:e.isVariant&&e.onFileUpload?e.onFileUpload:null}):null,V?o.createElement(C,{type:e.subType,uploadLibrary:!0,onHidden:()=>{W(!1),e.onHidden(),h.Z.closeCurrent()},updateProductImage:t=>{e.updateProductImage(t),setTimeout((()=>{h.Z.closeCurrent()}),200)}}):null,K?o.createElement(P,{onHidden:()=>{e.onHidden(),h.Z.closeCurrent()},onSave:t=>e.onFileUpload({createdfrom:"copyImages",imageUrlArr:t}),variantProductData:e.variantProductData,variantIndex:e.variantIndex,imageUrlArr:(null===(t=e.data)||void 0===t?void 0:t.imageUrlArr)||[],showToastMessage:e=>j(g.Z.showMessage(e))}):null,z?o.createElement(w.default,{forceSlider:!0,directAddToProduct:!0,onHidden:()=>{Y(!1),e.onHidden&&e.onHidden(),h.Z.closeCurrent()},imageUrlArr:(null===(a=e.data)||void 0===a?void 0:a.imageUrlArr)||[],onSave:t=>{h.Z.closeCurrent();const a=t.vendorImages.filter(((e,a)=>"-1"!=t.selectedImages.indexOf(a)));e.isVariant&&e.onFileUpload?e.onFileUpload({imageUrlArr:a,createdfrom:"photoGallery"}):(h.Z.closeCurrent(),a.map((t=>{e.updateProductImage(t)})))}}):null)},Z=e=>{const t=(0,r.v9)(k,r.wU);return"upload"==t.sliderType?o.createElement(M,I({},e,t)):null}},49053:(e,t,a)=>{"use strict";var o=a(67294),i=a(9669),r=a.n(i),n=a(14494),s=a(79109),l=a.n(s),c=a(32783),d=(a(91181),a(40842)),u=a(23622);const m=l().apiDomains[0];var p=a(56408);a(79916),(0,n.$j)(((e,t)=>({supplierId:e.session.supplierId,isMobile:e.library.deviceData.isMobile})),{setUomData:e=>({type:"SET_UOM_DATA",payload:e}),setAllPermissions:e=>async t=>{const{isMobile:a}=e;let o=r().get("".concat(m,"/marketplace/supplier/getAllPermission.service")),i=r().get("".concat(m,"/marketplace/gis/getDeliveryTimeBand.service")),n=r().get(location.origin+"/marketplace/gis/listAllDeliveryProfile.service"),s=r().get(location.origin+"/marketplace/outlet/getOutletByStaffMemberId.service?&isPermissionBased=false"),l=r().get(location.origin+"/marketplace/tax/ajax/service/getAllTax.service"),c=r().get(location.origin+"/marketplace/taxZone/ajax/service/getAllTaxZones.service"),p=r().get(location.origin+"/marketplace/products/groups/ajax/getAllGroupsBySupplier.service"),g=r().get(location.origin+"/marketplace/static/php/web/b2bWebsite.php?action=getAllTaxRates");Promise.all([o,i,n,s,l,c,p,g]).then((e=>{let o={...e[0].data};o.isVolumetricWeightEnabled=e[1].data.result.isVolumetricWeightEnabled,o.volumetricWeightType=e[1].data.result.volumetricWeightType,o.deliveryProfile=e[2].data.result,o.outletData=e[3].data.outlets,o.taxData=e[4].data,o.taxZones=e[5].data.taxZones,o.productGroups=e[6].data.data,o.salesTaxData=e[7].data,(0,u.uw)({packageId:o.packageId,isMobile:a}).then((e=>{o.packagePermissionData=e.data.data,t({type:d.qJ,payload:o})})),t({type:d.nL,payload:{countryCode:o.countryCode}})}))},setSession:p.KY})((e=>((0,o.useEffect)((()=>{(async()=>{var e,t,a,o;let i={};const n=await r().get(l().apiDomains[0]+"/marketplace/vendorProduct/getUomJson.ns?uomFor=productuom,netweight");if(n.data.isError)return{};i=n.data.data;let s={};null!==(e=i)&&void 0!==e&&null!==(t=e.productuom)&&void 0!==t&&t.other&&(i.productuom.other=i.productuom.other.filter((e=>e&&e.val&&"stds"!=e.val))),null!==(a=i)&&void 0!==a&&null!==(o=a.netweight)&&void 0!==o&&o.other&&(i.netweight.other=i.netweight.other.filter((e=>e&&e.val&&"stds"!=e.val)));let c=Object.assign({},i.netweight,i.productuom);return c.other.map((e=>{s[e.val]=e})),c.popular.map((e=>{s[e.val]=e})),{uomJsonMap:s,productUOM:[...i.productuom.popular,...i.productuom.other],netweightUOM:[...i.netweight.popular,...i.netweight.other]}})().then((t=>{e.setUomData(t)})),e.setAllPermissions({isMobile:e.isMobile}),e.setSession({supplierId:"undefined"!=typeof Manager?Manager.CurrentUser.getSupplierId():e.supplierId})}),[]),o.createElement(c.Z.component,{onFlowComplete:e.onHidden,editProdKey:e.editProdKey,fromWalkthrough:e.fromWalkthrough,searchKey:e.searchKey,fromVendorAddNewFlow:e.fromVendorAddNewFlow,fromPurchase:e.fromPurchase}))))},82680:(e,t,a)=>{"use strict";a.d(t,{zR:()=>i,GN:()=>n,lc:()=>s,W4:()=>l});var o=a(79916);const i=({callback:e})=>{window.jdInterface&&(window.jdInterface.scanBarcode(),window.jdInterface.returnBarcode=function(t){e(t)})},r=(e,t,a,i,r)=>{if(window.jdInterface){let n=((e,t,a,i)=>{let r=(0,o.KJ)().supplierId;r||"undefined"==typeof Manager||(r=Manager.CurrentUser.getSupplierId());const n=i&&i.length>10?i:"/marketplace/products/ajax/uploadProductImageForB2B.service?supplierId="+r;return{uploadSize:"10",ajaxUrl:location.protocol+"//"+location.host+n,fileType:"jpeg,jpg,png",fieldName:"uploadedImageFile",strType:e,index:t,type:a}})(e,t,a,i);window.jdInterface.uploadImage(JSON.stringify(n)),window.jdInterface.appImageSuccess=function(e){r(e)}}},n=({index:e,imgUploadUrl:t,callback:a})=>{r("open",e,"CAMERA",t,a)},s=({index:e,imgUploadUrl:t,callback:a})=>{r("changeImage",e,"GALLERY",t,a)},l=({outletDetails:e,supid:t,callback:a})=>{let o=(i=((e,t)=>{let a=Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5),o=btoa(t),i=btoa(e.results.storeid),r=btoa(a);return btoa(r+"#"+o+"#"+i+"#"+o+"#"+r)})(e,t),{uploadSize:"5",ajaxUrl:location.protocol+"//"+location.host+"/marketplace/common/php/file.service?_="+i,fileType:"jpg,jpeg,png,pdf,doc,docx,ppt,pptx,pps,ppsx,xls,xlsx,odt,xls,xlsx,zip,rar",fieldName:"file",strType:"file",mimeTypes:"",showProgressBar:!0});var i;o.mimeTypes=["application/pdf","application/msword","application/vnd.ms-powerpoint","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.oasis.opendocument.text","application/zip","application/x-rar-compressed","image/*","text/*"],window.jdInterface&&(window.jdInterface.openFileChooser(JSON.stringify(o)),window.jdInterface.appImageSuccess=function(e){a(e)})}},49667:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>Fe,otherThanEnglish:()=>je}),a(91181);var o=a(67294),i=a(75920),r=a(11376),n=a(52448),s=a(97293),l=a(38488),c=a(16550),d=a(14494),u=a(20507),m=a(49658),p=a(23668),g=a(46834),h=a(97954),v=a(57542),b=a(78960),f=a(15667),_=a(51748),y=a(67005),E=a(26351),P=a(51406),w=a(9669),I=a.n(w),S=a(79034),C=a(79109),k=a.n(C),N=a(12603);const T=o.forwardRef(((e,t)=>{const a=(0,o.useRef)(null),[i,r]=(0,o.useState)(!0),[n,s]=(0,o.useState)(""),[c,d]=(0,o.useState)([]),[u,m]=(0,o.useState)(!1),[p,g]=(0,o.useState)(!0);console.log(e.deviceData.isIphone),(0,o.useEffect)((()=>{C(e.productName,(()=>{m(!0),e.catSliderShown&&h()}))}),[]);const h=()=>{document.documentElement.classList.add("height100Per","overflow-hidden"),document.body.classList.add("height100Per","overflow-auto")},v=()=>{document.documentElement.classList.remove("height100Per","overflow-hidden"),document.body.classList.remove("height100Per","overflow-auto")},b=()=>{v(),window.history.back()},f=()=>{g(!1),document.getElementById("searchCategory").blur()},w=t=>{let o=t?t.currentTarget.value:"";s(o),C(o||e.productName),t||a.current.focus()},C=(t,a)=>{let o="".concat(k().apiDomains[0],"/marketplace/static/php/web/b2bWebsite.php?action=autosuggest&str=").concat(t||"","&token=")+e.token;I().get(o).then((e=>{e.data.isSuccess?d(e.data.data):d([]),a&&a()}))};(0,o.useEffect)((()=>{s(e.categoryName?e.categoryName:"")}),[e.catSliderShown]);const T=e.deviceData.isMobile;return o.createElement(_.Z,{onHidden:t=>{v(),e.closeSlider&&e.closeSlider()},header:T?null:{heading:"Product Category",variant:"secondary"},slider:{className:y.Z["search-uom-slider"]}},e.catSliderShown&&u?o.createElement("div",{className:y.Z["search-uom-holder"]+" "+E.Z["search-holder"]+" "+(T?"":y.Z.isWeb)},o.createElement("div",{className:E.Z["search-header"]},o.createElement("div",{className:E.Z["icon-holder"],onClick:()=>T&&b()},o.createElement("i",{className:"".concat(E.Z["back-icon"]," icon-").concat(T?"HDRback":"HDRsearch")})),o.createElement("input",{ref:a,id:"searchProduct",type:"text",className:E.Z["search-input"],placeholder:"Search Category",onChange:e=>w(e),value:n,autoFocus:!0,autoComplete:"off",id:"searchCategory",onFocus:()=>{g(!0)},onBlur:()=>{g(!1)}}),n&&i&&o.createElement(l.Z,{className:E.Z["icon-holder"],onClick:()=>w()},o.createElement("i",{className:"".concat(E.Z["clear-icon"]," icon-HDRcross")}))),o.createElement(N.Z,null,c.length?o.createElement("div",{className:y.Z["result-holder"],onTouchMove:f},o.createElement("div",{className:y.Z["result-list"]},(t=>{let a=[];for(let i=0;i<t.length;i++){const r=a=>{e.onSelectCategory(a,t[i]),b()};a.push(o.createElement(P.Z,{uom:t[i].name,onClick:r,searchText:n}))}return a})(c))):o.createElement("div",{className:S.Z["no-result-container"]+" "+y.Z["no-result-holder"],onTouchMove:f}," ",o.createElement("div",{className:"".concat(p&&e.deviceData.isIphone?y.Z["no-result-fixed"]:""," ").concat(y.Z["no-result-product"])},o.createElement("img",{src:"https://image1.jdomni.in/jdomni_email/NoProductFound_1911281253.png",className:S.Z["no-result-img"]}),o.createElement("h3",{className:S.Z["no-result-heading"]},"No Result Found"))))):null)})),x=(0,d.$j)(((e,t)=>({token:e.session.token,...t,deviceData:e.deviceData})),null,null,{forwardRef:!0})(T);var D=a(23622),O=a(52054);var A=a(45732);const M=e=>{let t=[];return t=t.concat(e.list.map(((e,t)=>({label:e.bizType,key:e.natCatId})))),o.createElement("div",{className:"yNMM_business-type"},o.createElement(A.Z,{placeholder:e.label,label:e.natCatId?e.label:" ",optionList:t,onChange:t=>{e.handleChange(t.key)},onFocus:e=>e.currentTarget.scrollIntoView({behavior:"smooth"}),value:e.natCatId,errorMessage:e.error,error:e.error,placeholderClass:"business-type-placeholder"}))},Z="_3RwX_prod-specs",U="_1sKl_spec-field-title",L="_1A3w_view-more-spec",R="_1Ek-_text-label",j="TDs7_radio-input",F="_1TSD_option-label",B="_2jBf_add-specification",H="_2zzJ_attr-label",V="_39h5_attr-error";var W=a(12111),K=a(53936);const G=e=>{const t=e.attr,a=e.error,i=(0,o.useRef)(null),r=(0,o.useRef)(null),[n,s]=(0,o.useState)(!1),[l,c]=(0,o.useState)(e.slideDown);return(0,o.useEffect)((()=>{setTimeout((()=>{c(!1)}),300)})),o.createElement("div",{className:"".concat("_3s_y_single-attr"," ").concat(e.isLast?"last-attr":""," ").concat(n?"slide-up":""," ").concat(l?"slide-down":""," ").concat(e.isMobile?"isMobile":"isWeb"),key:t.key},o.createElement(u.Z,{holderClass:"".concat("mkcs_attr-name-container"," ").concat(a.name?V:""),label:"",input:{value:t.name,autoComplete:"off",onChange:t=>e.handleNameChange(e.index,t.target.value),onFocus:t=>e.isMobile&&(0,D.zT)(t.currentTarget,"prod-specs-slider"),placeHolder:0==e.index?"Color":""},ref:i,errorMessage:a.name,disableMovingLabel:!0,containerRef:e.containerRef}),o.createElement(u.Z,{holderClass:"".concat("Y5Ea_attr-value-container"," ").concat(a.value?V:""),label:"",input:{value:t.value,autoComplete:"off",onChange:t=>e.handleValueChange(e.index,t.target.value),onFocus:t=>e.isMobile&&(0,D.zT)(t.currentTarget,"prod-specs-slider"),placeHolder:0==e.index?"Red":""},ref:r,errorMessage:a.value,disableMovingLabel:!0,containerRef:e.containerRef}),o.createElement(K.Z,{disabled:e.deleteDisabled,icon:"icon-trash",onClick:()=>{s(!0),setTimeout((()=>{e.handleDelete(e.index),s(!1)}),250)},className:"_3c1e_trash-btn"}))},z=e=>{const[t,a]=(0,o.useState)(!1),i=e.customAttrs,r=(t,a)=>{e.changeCustomAttrName({index:t,name:a});const o=[...e.errors];o[t]&&(o[t].name="",e.updateErrors(o))},n=(t,a)=>{e.changeCustomAttrValue({index:t,value:a});const o=[...e.errors];o[t]&&(o[t].value="",e.updateErrors(o))},s=t=>{e.deleteCustomAttr({index:t});const a=[...e.errors];a.splice(t,1),e.updateErrors(a)},c=i.map(((a,l)=>{const c=1==i.length&&!a.name&&!a.value,d=e.errors[l]||{};return o.createElement(G,{attr:a,index:l,isLast:l+1==i.length,error:d,isMobile:e.isMobile,deleteDisabled:c,handleNameChange:r,handleValueChange:n,handleDelete:s,containerRef:e.sliderRef,slideDown:t})})),d=()=>{a(!0),setTimeout((()=>{e.addCustomAttr()}),300)},u=o.createElement(o.Fragment,null,o.createElement("i",{className:"icon-plus"}),o.createElement("span",{className:""},"Add Specifications"));return o.createElement("form",{className:"".concat("_1Mhg_custom-attr-container"," ").concat(e.isMobile?"isMobile":"isWeb"),autoComplete:"none"},o.createElement("div",{className:"_3N7K_label-container"},o.createElement(W.Z,{className:H},"Specification Name"),o.createElement(W.Z,{className:H},"Specification Value")),c,e.isMobile?o.createElement("div",{className:B,onClick:d},u):o.createElement(l.Z,{className:B,onClick:d},u))};z.defaultProps={errors:[]};const Y=z;var J=a(27383),q=a(69148);function X(e){return e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))}const Q=e=>{const{errors:t}=e;let a=e.attributes.length;const r=e.isMobile,[n,s]=(0,o.useState)(!0),[c,d]=(0,o.useState)((()=>{if(a<=10)return 0;for(let t=10;t<e.attributes.length;t++)if(e.attributes[t].values&&e.attributes[t].values.length){const a=e.attributes[t].values;for(let e=0;e<a.length;e++)if(a[e])return 0}return 10}));(0,o.useEffect)((()=>{window.top!=window.self&&s(!1)}),[]);const m=o.createElement(o.Fragment,null,o.createElement("span",{className:"icon-plus"}),o.createElement("span",{className:R},"View More"));return o.createElement(o.Fragment,null,e.attributes.map(((a,s)=>{let l="";if(s==c-1&&0!==c&&(l=" last-field"),c&&s>=c)return null;let d=a.type;"RADIO"==d&&a.options.length>4&&(d="DROPDOWN");let m=X(a.name);if(a.otherFlag&&(m=m.replace(/other\s/i,""),m="Other "+m),"DROPDOWN"==d){const t=[...a.options]||[];t.splice(0,0,"Select Value");const c=t=>{const a=t.key;"Select Value"==a&&(a=""),e.setProductSpecification({values:[a],index:s})};let d=a.values?a.values[0]:"";d||(d="Select Value");let u=[];return u=u.concat(t.map(((e,t)=>({key:e,label:e})))),o.createElement("div",{className:"".concat(i.Z.marginT24," ").concat(l),key:m+""+s},o.createElement(A.Z,{label:m,optionList:u,onChange:c,onFocus:e=>r&&n&&e.currentTarget.scrollIntoView({behavior:"smooth"}),value:d}))}if("FREETEXT"==d){const c=t=>{e.setProductSpecification({values:[t.currentTarget.value],index:s}),e.removeError(a.name)};return o.createElement("div",{className:"".concat(i.Z.marginT24," ").concat(l),key:m+""+s,style:a.otherFlag?{marginTop:"0.5rem"}:{}},o.createElement(u.Z,{holderClass:t[a.name]?"attr-error":"",label:m,input:{value:a.values?a.values[0]:"",onChange:c,onFocus:e=>r&&n&&e.currentTarget.scrollIntoView({behavior:"smooth"})},errorMessage:t[a.name]?t[a.name].msg:""}))}if("CHECKBOX"==d){const t=(t,o)=>{const i=a.values||[],r=i.indexOf(o);-1==r?i.push(o):i.splice(r,1),e.setProductSpecification({values:i,index:s})};return o.createElement("div",{className:"".concat(i.Z.marginT24," ").concat(l),key:m+""+s},o.createElement("div",{className:U},m),a.options.map(((e,i)=>{const r=-1!=(a.values||[]).indexOf(e);return o.createElement(J.Z,{product:"justdial",label:X(e),className:j,onChange:a=>t(a,e),checked:r,labelClass:F})})))}if("RADIO"==d){const t=(t,a)=>{e.setProductSpecification({values:[a],index:s})};return o.createElement("div",{className:"".concat(i.Z.marginT24," ").concat(l),key:m+""+s},o.createElement("div",{className:U},m),a.options.map(((e,i)=>{const r=-1!=(a.values||[]).indexOf(e);return o.createElement(q.Z,{className:j,name:m,label:X(e),onChange:a=>t(a,e),labelClass:"label-row _1TSD_option-label",defaultChecked:r})})))}})),c&&a>c?r?o.createElement("div",{className:L,onClick:()=>d(0)},m):o.createElement(l.Z,{className:L,onClick:()=>d(0)},m):null)};var $=a(17513);const ee=e=>{const t=[{holderClass:i.Z["more-detail-grp"]+" "+i.Z.marginT20+" "+i.Z["unit-holder"],formElements:[{label:"Net Weight/Content",key:"contentPerPiece",input:{value:e.productData.contentPerPiece||"",type:e.isIPhone?"number":"tel",onChange:t=>{e.handleChange(t,"contentPerPiece")},onFocus:t=>e.handleFocus(t,"contentPerPiece"),onKeyDown:t=>e.handleKeyDown(t,"contentPerPiece")},hide:e.hideUOMSection,ignoreParentClass:!0},{label:"Select Unit",disableMovingLabel:!0,dontMoveLabel:!0,key:"unitPerPiece",showArrow:!0,input:{value:e.unitPerPiece.displayVal||"",onChange:t=>e.handleChange(t,"unitPerPiece"),readOnly:!0,onClick:()=>{e.openCloseUOMSlider(!0)}},checkError:t=>e.checkError(t,"unitPerPiece"),hide:e.hideUOMSection,ignoreParentClass:!0}]}];return o.createElement($.Z,{formElements:t,errors:e.errors,isTemplate:e.isTemplate})},te=/^\d{0,6}(\.\d{0,3})?$/,ae=/[^\x00-\x7F]/g,oe=o.forwardRef(((e,t)=>{const a=(0,o.useRef)(null),r=(0,c.k6)(),n=(0,o.useRef)(null),s=(0,d.I0)(),[l,u]=(0,o.useState)(e.attributes),[p,h]=(0,o.useState)(e.customAttrs),[v,b]=(0,o.useState)(e.productData);let y={};v.unitPerPiece&&(y=(0,D.yn)(e.uom.netweightUOM,v.unitPerPiece),y=y.displayVal?y:{displayVal:v.unitPerPiece});const[E,P]=(0,o.useState)("object"==typeof document&&document.scrollingElement.scrollTop>0),[w,S]=(0,o.useState)({customAttrs:[],attributes:{}});let C=e.deviceData.isMobile;return o.createElement(o.Fragment,null,o.createElement(_.Z,{updateScrollContRef:e=>n.current=e.current,onHidden:t=>{e.showHideSlider(t)},slider:{className:"".concat(Z," ").concat(i.Z["add-edit-product"])},header:{className:i.Z["add-edit-header"]+" "+(E?i.Z.scrolled:""),heading:"Specifications",variant:"secondary",headingClass:i.Z["header-title"],raised:E},footer:{btnProps:[{key:"saveBtn",className:e.isIphone?i.Z["is-iphone"]:"",children:"Save Specifications",onClick:()=>(()=>{const t={...w};let a=!1;const{hasError:o,errorList:i}=(e=>{let t="";const a=p.map((e=>{let a={name:"",value:""};return e.name||e.value?(e.name||(a.name="Please Enter Name",t||(t=a.name)),e.value||(a.value="Please Enter Value",t||(t=a.value)),a):a}));return t&&!e&&s(g.Z.showMessage({message:t,type:"error",showReduxToast:!0})),{errorList:a,hasError:!!t}})(a);if(t.customAttrs=i,o&&(a=!0),!v.unitPerPiece&&v.contentPerPiece?(t.unitPerPiece="Please Select Unit",a||s(g.Z.showMessage({message:t.unitPerPiece,type:"error",showReduxToast:!0,animationTime:5e3})),a=!0):t.unitPerPiece="",a)return void S(t);const n=[{key:"attributes",value:l},{key:"customAttrs",value:p}];for(let e in v)n.push({key:e,value:v[e]});const c=(0,m.w4)({attributes:l,customAttrs:p});I().post("/marketplace/static/php/web/prodAttrDescCheck.php",c).then((t=>{const{isBlackListedSpec:a,custAttrMatched:o}=t.data;if(a){const e={...w};e.attributes={};let t="";for(let a in o)l.forEach((i=>{"FREETEXT"===i.type&&i.values.indexOf(a)>-1&&(e.attributes[i.name]={msg:o[a]},t||(t=o[a]))}));const a=p.map((e=>{const a=(e.name||"").trim(),i=(e.value||"").trim();let r={name:o[a]||"",value:o[i]||""};return t||!o[a]&&!o[i]||(t=o[a]||o[i]),r}));return e.customAttrs=a,S(e),void s(g.Z.showMessage({message:t,type:"error",showReduxToast:!0,animationTime:5e3}))}e.updateEditProductDetail(n),r.goBack()})).catch((()=>{}))})()}]},onScroll:e=>{P(e.target.scrollTop>5)}},o.createElement("div",{className:"prod-specs-slider ".concat(C?"isMobile":"isWeb"," ").concat(i.Z.marginLR15),style:{marginBottom:"80px"}},o.createElement(Q,{key:e.categoryName,attributes:l,setProductSpecification:({index:e,values:t})=>{const a=[...l];a[e]={...a[e]},a[e].values=t,-1==["FREETEXT"].indexOf(a[e].type)&&-1!=t.indexOf("other")?a[e+1]&&a[e+1].otherFlag||a.splice(e+1,0,{name:a[e].name,options:[""],values:[""],type:"FREETEXT",otherFlag:!0}):a[e+1]&&a[e+1].otherFlag&&a.splice(e+1,1),u(a)},isMobile:C,errors:w.attributes,removeError:e=>{const t={...w};delete t.attributes[e],S(t)}}),o.createElement(Y,{changeCustomAttrName:e=>{const t=[...p];t[e.index]={...t[e.index]},t[e.index].name=e.name,h(t)},changeCustomAttrValue:e=>{const t=[...p];t[e.index]={...t[e.index]},t[e.index].value=e.value,h(t)},deleteCustomAttr:e=>{const t=[...p];1===t.length?(t[0]={...t[0]},t[0].name="",t[0].value=""):t.splice(e.index,1),h(t)},addCustomAttr:()=>{const e=[...p,{name:"",value:"",key:Date.now()}];h(e)},isMobile:C,errors:w.customAttrs,updateErrors:e=>{S((t=>({...t,customAttrs:e})))},customAttrs:p,sliderRef:n}),o.createElement(ee,{productData:v,isIPhone:e.isIphone,isTemplate:e.isTemplate,unitPerPiece:y,hideUOMSection:e.hideUOMSection,openCloseUOMSlider:e=>{a.current.openCloseUOMSlider(e)},handleFocus:(e,t)=>{(e=>{(0,D.zT)(e.currentTarget,"prod-specs-slider")})(e);const a={...w};a[t]="",S(a)},handleChange:(e,t)=>{const a=e.currentTarget.value;if(ae.test(a))return;let o={...v};switch(t){case"contentPerPiece":if(!te.test(a))return;o[t]=a,a||S({...w,unitPerPiece:""})}b(o)},handleKeyDown:(t,a)=>{if(!e.isIphone)return;const o=t.key;if("Backspace"!=o)switch(a){case"contentPerPiece":o.match(/\d|\./g)&&((v.contentPerPiece||"")+(o||"")).match(te)||t.preventDefault()}},errors:w}))),o.createElement(f.Z,{ref:a,uomType:"netweightUOM",isAddProduct:e.isAddProduct,onSelectUOM:(e,t)=>((e,t,a)=>{let o={...v};{o.unitPerPiece=a.val;const e={...w};e[t]="",S(e)}b(o)})(0,"unitPerPiece",t)}))})),ie=(0,d.$j)(((e,t)=>{const a={contentPerPiece:e.products.editProduct.contentPerPiece,isTemplate:e.products.editProduct.isTemplate,unitPerPiece:e.products.editProduct.unitPerPiece};return{...t,attributes:e.products.editProduct.attributes||[],deviceData:e.deviceData,customAttrs:e.products.editProduct.customAttrs||[],isIphone:e.deviceData.isIphone,productData:a,uom:e.uom}}),{setProductSpecification:m.f7,updateEditProductDetail:m.vZ},null,{forwardRef:!0})(oe);var re=a(66107);function ne(){return(ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e}).apply(this,arguments)}function se(e=[]){let t={};return e.forEach((e=>{const{name:a,value:o}=e;a&&(t[a]={values:[o]})})),t}function le(e=[]){let t={};return e.forEach((e=>{const a=e.otherFlag?1:0;let o=e.name,i=e.values||[];if(a){o=o.replace(/other\s/,"");const e=t[o]&&t[o].values||[],a=e.indexOf("other");e.splice&&e.splice(a,1),i=[...e,...i]}i=i.filter((e=>e&&e.trim())),i.length&&(t[o]={values:i})})),t}function ce(e,t){function a(e,t){if(e.length!=t.length)return!1;for(var a=0;a<e.length;a++){const o=e[a];if(-1==t.indexOf(o))return!1}return!0}const o={};for(var i in e)o[i]=e[i],t[i]?(a(e[i].values,t[i].values)||(o["Previous "+i]=t[i],o["Previous "+i].isModified=!0),delete t[i]):o[i].isNewlyAdded=!0;for(var i in t)o[i]=t[i],o[i].isDeleted=!0;return o}const de=(0,re.Z)((e=>{const{onClick:t}=e;return o.createElement("div",{style:{display:"flex",alignItems:"center"}},o.createElement(v.Z,ne({size:"xs",className:"DlTP_edit-btn "+e.rippleClass+(e.isMacOS?" mac-os":""),clickHandler:()=>{setTimeout((()=>{t()}),300)},variant:"default"},e.rippleHandler),o.createElement("i",{className:"icon-editItem"})," EDIT",e.renderRipple()),o.createElement("i",{className:"icon-Next"}))})),ue=(0,re.Z)((0,d.$j)(((e,t)=>{const a=e.products.editProduct;let o={};a.unitPerPiece&&(o=(0,D.yn)(e.uom.netweightUOM,a.unitPerPiece));const i={contentPerPiece:a.contentPerPiece,unitPerPiece:o.displayVal};let r={};const n=a.oldData||{};let s=t.isAuditUrl;if(Object.keys(n).length||(s=!1),t.isAuditUrl){let t={};n.unitPerPiece&&(t=(0,D.yn)(e.uom.netweightUOM,n.unitPerPiece)),r={contentPerPiece:n.contentPerPiece,unitPerPiece:t.displayVal}}return{...t,showAuditDiff:s,attributes:a.attributes||[],customAttrs:a.customAttrs||[],oldAttributes:n.attributes||[],oldCustomAttrs:n.custAttributes||[],productData:i,oldProductData:r,uom:e.uom,deviceData:e.deviceData,session:e.session,isMobile:e.library.deviceData.isMobile}}))((e=>{const[t,a]=(0,o.useState)(!1),[r,n]=(0,o.useState)(!1),[s,c]=(0,o.useState)({}),[d,u]=(0,o.useState)(0),m=(0,o.useRef)(null),p=[];(0,o.useEffect)((()=>{e.attributes.length&&r&&!e.showSpecSlider&&m.current&&(m.current.querySelectorAll(".single-spec")[0].scrollIntoView({behavior:"smooth"}),n(!1))}),[e.showSpecSlider,e.attributes]),(0,o.useLayoutEffect)((()=>{if(m.current&&(c({height:m.current.scrollHeight}),t)){const e=m.current.querySelectorAll(".single-spec");setTimeout((()=>{e[1].scrollIntoView({behavior:"smooth"})}),1e3)}}),[t]);const g=e.showAuditDiff;let h=le(e.attributes),v=se(e.customAttrs);const b=e.productData;let f={};if(b.unitPerPiece&&b.contentPerPiece&&(f={"Net Weight/Content":{values:[b.contentPerPiece+" "+b.unitPerPiece]}}),g){let t=le(e.oldAttributes),a=se(e.oldCustomAttrs);h=ce(h,t),v=ce(v,a);let o={};const i=e.oldProductData;i.unitPerPiece&&i.contentPerPiece&&(o={"Net Weight/Content":{values:[i.contentPerPiece+" "+i.unitPerPiece]}}),f=ce(f,o)}function _(e,t,a={}){const{isNewlyAdded:i,isModified:r,isDeleted:n}=a;let s={};return i?s={color:"#00B05A"}:r?s={color:"#FF9900"}:n&&(s={color:"#C64C5C"}),o.createElement("div",{className:"unfF_single-spec"},o.createElement("div",{className:"_2ED7_spec-name",style:s},e),o.createElement("div",{className:"_3xtg_spec-value",style:s},t))}let y=t?-1:5,E=!1;const P=()=>{const e=d>0?d:m.current.scrollHeight;u(m.current.scrollHeight),c({height:e}),t?setTimeout((()=>{a(!t)}),900):a(!t)};function w(e){for(let t in e)0!=y?(y--,p.push(o.createElement("div",null,_(t,e[t].values.join(", "),e[t])))):E=!0}w(h),w(v),w(f);const I=e.isTemplate,S=p.length;if(S){const a=S>5||E?"":"noMore",r=o.createElement(o.Fragment,null,o.createElement("span",{className:t?"_1BxW_minus-sign":"icon-plus"},t?"-":""),o.createElement("span",{className:R},"View ",t?"Less":"More"," "));return o.createElement("div",{className:i.Z["list-box"]+" "+i.Z.marginT16+" "+Z},o.createElement("div",{className:"_3jQM_spec-title-grp"},o.createElement("div",{className:"_25Gi_spec-title"},"Specifications"),I||e.session.isReadOnly?null:o.createElement(de,{isMacOS:e.deviceData.isMacOS,onClick:()=>{e.openCloseSpecSlider(!0),n(!0)}})),o.createElement("div",{ref:m,className:"".concat("gzIu_spec-details "+a),style:s},p),S>5||E?e.isMobile?o.createElement("div",{className:L,onClick:P},r):o.createElement(l.Z,{className:L,onClick:P},r):null)}return I?null:o.createElement(o.Fragment,null,e.session.isReadOnly?null:o.createElement("div",ne({className:i.Z["list-box"]+" "+"_3RwX_prod-specs _28Eg_add-spec "+e.rippleClass,onClick:()=>setTimeout((()=>{e.openCloseSpecSlider(!0),n(!0)}),300)},e.rippleHandler),e.renderRipple(),o.createElement("div",{className:"add-spec-text"},"Add Specifications"),o.createElement("i",{className:"icon-Next"})))}))),me=(0,d.$j)(((e,t)=>({...t,attributes:e.products.editProduct.attributes||[],customAttrs:e.products.editProduct.customAttrs||[]})))((e=>{const t=(0,o.useRef)(null),[a,i]=(0,o.useState)(!1);return o.createElement(o.Fragment,null,o.createElement(ue,{attributes:e.attributes,customAttrs:e.customAttrs,showSpecSlider:a,openCloseSpecSlider:i,isTemplate:e.isTemplate,isAuditUrl:e.isAuditUrl}),a?o.createElement(ie,{ref:t,isAddProduct:e.isAddProduct,hideUOMSection:e.hideUOMSection,showHideSlider:i}):null)}));var pe=a(50386),ge=a(78091),he=a(39981),ve=a(30045),be=a(94078);const fe=(e={})=>{let{props:t,event:a,value:o,checkBoxOptions:i}=e;a.target.checked&&t.setAuditObject({minCorrectTextArea:"",errWithDetTextArea:"",minCorrectErr:!1,errWithDetErr:!1,unSelectedErr:!1,checkboxErr:!1,checkBoxData:JSON.parse(JSON.stringify(i)),checkedValue:o})};let _e;const ye=(0,d.$j)((e=>({auditData:e.products.auditData,checkBoxOptions:e.products.editProduct.checkBoxOptions,variantId:e.products.editProduct.variantId,token:e.session.token,productData:e.products.editProduct})),{setAuditObject:m.qr})((e=>{let{minCorrectTextArea:t,checkedValue:a,minCorrectErr:i,unSelectedErr:r,checkBoxData:n,checkboxErr:s}=e.auditData;const[l,c]=(0,o.useState)(!1);(0,o.useEffect)((()=>{e.showAuditData&&("NO_ERROR"==e.showAuditData.auditDisposition?e.setAuditObject({checkedValue:"allGood"}):"MINOR_ERROR"==e.showAuditData.auditDisposition?(t=e.showAuditData.comment,e.setAuditObject({checkedValue:"minCorrect",minCorrectTextArea:t})):"MAJOR_ERROR"==e.showAuditData.auditDisposition?e.setAuditObject({checkedValue:"errWithDet"}):"PASSED_BY_SAMPLING"==e.showAuditData.auditDisposition&&(c(!0),e.setAuditObject({checkedValue:"passedBySample"})))}),[e.showAuditData]),(0,o.useEffect)((()=>{e.isAddProduct&&e.setAuditObject({checkedValue:"errWithDet"})}),{});const d=()=>{window.clearTimeout(_e),document.removeEventListener("mousemove",p),document.removeEventListener("mousedown",p),document.removeEventListener("keypress",p),document.removeEventListener("touchmove",p)};let u;const m=()=>{(0,D.$6)({token:e.token,variantId:e.variantId,timeStamp:e.productData.audtTimeStamp,cb:t=>{1!=(t=t.data).status?e.updateTimeoutModal(!0):t.isAlreadyAudited?(e.updateTimeoutModal(!0),e.updateAuditMsg("Product details has got updated while you were auditing. Click on continue to get the updated version of the product"),e.updateSaveProdConflict("alreadyAudited"),d()):t.isOwnerEdited?(e.updateTimeoutModal(!0),e.updateAuditMsg("Product details has been edited by the Owner while you were auditing. Click on continue to get the updated version of the product"),e.updateSaveProdConflict("ownerEdited"),d()):u()}})};u=()=>{_e=window.setTimeout(m,18e5)};const p=()=>{window.clearTimeout(_e),u()};return(0,o.useEffect)((()=>(document.addEventListener("mousemove",p,!1),document.addEventListener("mousedown",p,!1),document.addEventListener("keypress",p,!1),document.addEventListener("touchmove",p,!1),u(),()=>{d()})),[]),(0,o.useEffect)((()=>{!e.auditData.checkBoxData&&e.checkBoxOptions&&e.setAuditObject({checkBoxData:JSON.parse(JSON.stringify(e.checkBoxOptions))})}),[e.checkBoxOptions]),o.createElement("div",{className:"audit-section"},o.createElement("div",{className:"header"},"Audit Product"),o.createElement(be.Z,null,o.createElement(be.Z.Radio,{className:"input-row",name:"radiobtn",onChange:t=>{fe({props:e,event:t,value:"allGood",checkBoxOptions:e.checkBoxOptions})},label:"Product has No Errors",labelClass:"label-row",checked:"allGood"==a,disabled:e.isAddProduct}),o.createElement(be.Z.Radio,{className:"input-row",name:"radiobtn",onChange:t=>{fe({props:e,event:t,value:"minCorrect",checkBoxOptions:e.checkBoxOptions})},label:"Product has Minor Errors",labelClass:"label-row",checked:"minCorrect"==a,disabled:e.isAddProduct}),"minCorrect"==a?o.createElement(be.Z.Group,{className:"text-area"},o.createElement(be.Z.TextArea,{className:"min-error-text-area",variant:i?"invalid":"",value:t,onChange:t=>{e.setAuditObject({minCorrectErr:!1,minCorrectTextArea:t.target.value})},placeholder:"Enter Details"}),i?o.createElement(be.Z.FeedBack,{variant:"invalid"},"Enter Details"):null):null,o.createElement(be.Z.Radio,{className:"input-row",name:"radiobtn",onChange:t=>{fe({props:e,event:t,value:"errWithDet",checkBoxOptions:e.checkBoxOptions}),setTimeout((()=>{window.scrollTo(0,document.body.scrollHeight)}),100)},label:"Product has Major Errors",labelClass:"label-row",checked:"errWithDet"==a}),"errWithDet"==a?o.createElement(be.Z.Group,{className:"text-area"},((e={})=>{let{checkBoxData:t,props:a}=e,i=[];return t.forEach(((e,t)=>{i.push(o.createElement(o.Fragment,null,o.createElement(be.Z.Check,{className:"check-input-row",labelClass:"label-row",rippleColor:"rgba(33, 37, 41, .1)",onChange:e=>{let o=[...a.auditData.checkBoxData];o[t].value=e.target.checked,o[t].textBoxValue="",o[t].error=!1,a.setAuditObject({checkBoxData:o,checkboxErr:!1})},labelClass:"label-row",label:e.name,checked:e.value,disabled:e.disabled}),e.showCommentBox&&e.value?o.createElement(be.Z.TextArea,{className:"others-text-area",variant:e.error?"invalid":"",value:e.textBoxValue,onChange:e=>{let o=[...a.auditData.checkBoxData];o[t].textBoxValue=e.target.value,o[t].error=!1,a.setAuditObject({checkBoxData:o})},placeholder:"Enter Details"}):null,e.value&&e.error?o.createElement(be.Z.FeedBack,{className:"others-text-area",variant:"invalid"},"Enter Details"):null))})),i})({checkBoxData:n,props:e}),s?o.createElement(be.Z.FeedBack,{className:"others-text-area",variant:"invalid"},"Select a Product Error"):null):null,r?o.createElement(be.Z.FeedBack,{className:"no-selection-err",variant:"invalid"},"Select a Value"):null,l?o.createElement(be.Z.Radio,{className:"input-row",name:"radiobtn",onChange:t=>{fe({props:e,event:t,value:"passedBySample",checkBoxOptions:e.checkBoxOptions}),setTimeout((()=>{window.scrollTo(0,document.body.scrollHeight)}),100)},label:"No Errors - Passed by Sampling",labelClass:"label-row",checked:"passedBySample"==a}):null))}));var Ee=a(81363),Pe=a(50437),we=a(9175),Ie=a(56408);(0,d.$j)((e=>({auditData:e.products.auditData,deviceData:e.deviceData})),{setLoggedUser:Ie.qy})((e=>{const[t,a]=(0,o.useState)(!1),[i,r]=(0,o.useState)(!1);let n=(0,c.k6)();return o.createElement("div",{className:"_3Lj-_audit-saved"},o.createElement("div",{className:"_2Xw9_holder"},o.createElement("div",{className:"_3gA7_icon-holder"},o.createElement("i",{className:"_DVb_icon icon-Checkmark"})),o.createElement("div",{className:"U9ru_main-text"},"Audit Information Saved"),o.createElement(we.Z,{showLoader:t,size:"lg",block:!0,className:"continue-btn",clickHandler:()=>{a(!0),(0,D._Y)({cb:e=>{1==e.data.status?(window.top!=window.self&&(e.data.url+="&loadedInIframe=true"),window.location.href=e.data.url):alert("No Products Found."),a(!1)}})}},"Start Auditing Now"),o.createElement(we.Z,{showLoader:i,size:"lg",block:!0,variant:"default",clickHandler:()=>{r(!0),(0,D.ni)({cb:t=>{t.data.isSuccess&&(e.setLoggedUser(null),n.push("/login")),r(!1)}})}},"Log Out")))}));var Se=a(88827);function Ce(){return(Ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e}).apply(this,arguments)}const ke=(0,re.Z)((e=>o.createElement("div",Ce({className:i.Z["user-details-tab"]+" "+e.rippleClass,onClick:e.toggleJdRepresentativeDetails},e.rippleHandler),o.createElement("div",{className:i.Z["user-details-tab-text"]},"contractor"==e.type||"contractorv2"==e.type?"Contractor Details":"Justdial Representative Details"),o.createElement("span",{className:i.Z["icon-pagination-down-audit"]+" "+e.paginationIcon}),e.renderRipple()))),Ne=e=>{const[t,a]=(0,o.useState)(!1);let r=[],n=t?{maxHeight:"300px"}:null,s=t?"icon-pagination-up":"icon-pagination-down",l=[];l=-1!=["contractor","contractorv2"].indexOf(e.type)?[{text:e.contractorData.conName,iconclass:"icon-profile"},{text:e.contractorData.conMob,iconclass:"icon-HDRcall"}]:[{text:e.userData.employeeName,iconclass:"icon-profile"},{text:e.userData.employeeMobileList[0],iconclass:"icon-HDRcall"},{text:e.userData.employeeEmailList[0],iconclass:"icon-mailLg"},{text:e.userData.employeeCode,iconclass:"icon-EmploeeID"}];for(let e=0;e<l.length;e++)r.push(o.createElement("div",{className:i.Z["user-details-list"]},o.createElement("span",{className:i.Z["user-details-icon"]+" "+l[e].iconclass}),l[e].text));return o.createElement(o.Fragment,null,o.createElement("div",{className:i.Z["header-holder"]},o.createElement("div",{className:i.Z["data-holder"]},o.createElement(Se.Z,{session:e.session,updateAuditDocModal:e.updateAuditDocModal,auditBtnArray:e.auditBtnArray,showToastMessage:e.showToastMessage,isAddProduct:e.isAddProduct,showTotalCount:e.showTotalCount,totalCount:e.totalCount,AuditWebsiteBtn:e.AuditWebsiteBtn,belongsTo:e.belongsTo,type:e.type,dataSource:e.dataSource})),e.userData.employeeName&&!e.isAddProduct?o.createElement("div",{className:i.Z["user-details-holder"]},o.createElement(ke,{toggleJdRepresentativeDetails:()=>{a(!t)},type:e.type,paginationIcon:s}),o.createElement("div",{className:i.Z["user-details-data"],style:n},r,o.createElement("div",{className:i.Z["user-details-data-dummy"]}))):null))};var Te=a(59670);const xe={auditLastModal:"_1oV7_auditLastModal","modal-header":"_2aTw_modal-header","audit-body":"_10uZ_audit-body","audit-text-profile":"Z328_audit-text-profile","data-header":"OGGW_data-header","data-address":"_1ME4_data-address","data-docid-holder":"lN7t_data-docid-holder","display-data-docid":"_1vHT_display-data-docid","data-docid":"_1I2c_data-docid","product-id-copy-holder":"_21Cs_product-id-copy-holder","product-id-copy-icon":"_2OoT_product-id-copy-icon","audit-text":"_5FuD_audit-text","audit-view-all-holder":"_3sUq_audit-view-all-holder","skip-btn":"_1A-o_skip-btn"},De=e=>{let t=(0,c.k6)(),a="";e.session&&e.session.docId&&(a=e.session.docId);const[i,r]=(0,o.useState)(""),[n,s]=(0,o.useState)(!1),[l,d]=(0,o.useState)(!1);let u="Furlough";return"regular"==e.auditDocModal.queueType?u="Regular":"contractor"==e.auditDocModal.queueType?u="Contractor":"objectionFree"==e.auditDocModal.queueType?u="Objection Free":"objectionPaid"==e.auditDocModal.queueType&&(u="Objection Paid"),o.createElement(Ee.Z,{settings:{modalId:"auditLastModal",variant:"action",class:xe["auditlast-modal"]},backdropStatic:"skipContract"!=e.auditDocModal.from||""!=i,onHidden:()=>e.updateAuditLastModal(!1)},"skipContract"!=e.auditDocModal.from||i?null:o.createElement(Ee.Z.CloseIcon,null),i?o.createElement(o.Fragment,null,o.createElement(Ee.Z.Header,{className:xe["modal-header"]},"Contract Skipped For Audit"),o.createElement("div",{className:xe["audit-body"]},o.createElement(v.Z,{size:"lg",block:!0,className:xe["skip-btn"],showLoader:n,clickHandler:()=>{n||(s(!0),(0,D._Y)({cb:t=>{e.fetchResolve({data:t}),s(!1)}}))}},"Audit Another Contract"),o.createElement(v.Z,{size:"lg",block:!0,variant:"default",showLoader:l,clickHandler:()=>{l||(d(!0),t.push(e.auditHomePath))}},"Go to Home Page"))," "):o.createElement("div",{className:"".concat(xe["audit-body"])},e.auditDocModal.queueType&&"skipContract"!=e.auditDocModal.from?o.createElement("div",{className:xe["audit-text"]},"No Products are Pending for Audit in ",u," Audit Queue"):o.createElement(o.Fragment,null,o.createElement("div",{className:xe["audit-text"]},"skipContract"!=e.auditDocModal.from?"All products of this DocID have been audited.":"Are you sure you want to skip this contract for audit?"),o.createElement("div",{className:"".concat(xe["audit-text-profile"])},o.createElement(Se.Z,{session:e.session,showToastMessage:e.showToastMessage,dontShowButtons:e.dontShowButtons,from:e.auditDocModal.from,dontShowViewButton:!0})),"skipContract"!=e.auditDocModal.from&&o.createElement("div",{className:xe["audit-view-all-holder"]},o.createElement(v.Z,{variant:"default",className:xe["audit-view-all"],clickHandler:()=>{const e=(0,D.iP)({checkType:!0});if(e.searchAudit)window.history.go(-2);else{let o="/products?docId=".concat(a,"&searchBy=docId&showResultBy=contracts&useAuditApi=true&isAuditUrl=true&isSpecialContract=true&fromFetchFlow=true");e.loadedInIframe&&(o+="&loadedInIframe=true"),t.push(o)}}},"View All Products")),"skipContract"!=e.auditDocModal.from&&o.createElement("div",{className:xe["audit-text"]},"Please click on continue to audit products of the next Doc ID")),o.createElement(v.Z,{size:"lg",block:!0,className:xe["audit-continue"],showLoader:n,clickHandler:()=>{"skipContract"==e.auditDocModal.from?n||(s(!0),I().get("/marketplace/static/php/web/b2bWebsite.php?action=skipDocIdForAudit&docId=".concat(e.session.docId)).then((e=>{e.data&&e.data.status&&r("contractSkipped"),s(!1)}))):e.auditDocModal.cb&&e.auditDocModal.cb()}},"skipContract"==e.auditDocModal.from?"Skip Contract":"Continue")))};var Oe=a(11605),Ae=a(2850),Me=a(62500),Ze=a(29553);function Ue(){return(Ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e}).apply(this,arguments)}const Le=/^\d{0,10}(\.\d{0,2})?$/,Re=/^\d{0,10}$/,je=/[^\x00-\x7F]/g,Fe=(0,d.$j)((e=>{var t,a;const o=e.products.editProduct;let i="";const r=e.uom;let n={},s={},l={};if(o){i=o.variantId,o.unitOfMeasurement&&(n=(0,D.yn)(r.productUOM,o.unitOfMeasurement)),Object.keys(n).length||(n.displayVal=o.unitOfMeasurement),o.uomType=e.products.uomType||n.uomType||"",o.unitPerPiece&&(s=(0,D.yn)(r.netweightUOM,o.unitPerPiece),s=s.displayVal?s:{displayVal:o.unitPerPiece});const t=o.oldData;t&&(t.unitOfMeasurement&&(l=(0,D.yn)(r.productUOM,t.unitOfMeasurement)),Object.keys(l).length||(l.displayVal=t.unitOfMeasurement))}const c=(i?e.products.allProducts[i].imageUrlArr:[]).length;return o.videoUrlIds?o.videoUrlArr=o.videoUrlIds.map((t=>e.videoLibrary.videos[t])):o.videoUrlArr=[],{productData:o,deviceData:e.deviceData,unitOfMeasurement:n,oldUnitOfMeasurement:l,unitPerPiece:s,variantImagesLength:c,showLibrarySlider:e.videoLibrary.showLibrarySlider,session:e.session,auditData:e.products.auditData,showAuditData:o.showAuditData,deletionPendingList:e.products.deletionPendingList,approvalPendingList:e.products.approvalPendingList,tabKey:e.products.tabKey,userData:e.session.user.loginData,timestampAudit:o.timestampAudit,countPerDocId:o.countPerDocId,isJdPhotoSlider:e.photosGallery.isJdPhotoSlider,directAddToProduct:!(null===(t=e.photosGallery)||void 0===t||null===(a=t.jdPhotosData)||void 0===a||!a.variantId),isSearchSliderOpen:e.products.isSearchSliderOpen}}),{updateEditProductDetail:m.vZ,showToastMessage:g.Z.showMessage,saveAddEditProduct:m.Oz,resetProductData:m.Z7,hideProductEditSlider:m.G,getBizList:m.Ly,updateBizList:m.gh,updateProductMedia:m.s7,deleteProductImage:m.bL,deleteProductVideo:m.iA,toggleBiz:m.gq,toggleLibrarySlider:ve.wk,discardAddProductMedia:m.Gh,updateProductStatus:m.Lv,getListingData:m.cR,setAuditObject:m.qr,restoreProductData:m.xn,updateDeletionPending:m.zA,updateApprovalPending:m.Oj,setTabStatus:m.V_,updateBrandedProduct:m.dW})((e=>{const t=(0,d.I0)(),a=e.productData;let u=(0,c.k6)();if(a.error)return(0,o.useEffect)((()=>{((e={})=>{let{props:t,history:a}=e,o=!1;(0,D.iP)({checkType:!0}).fetchNextAudit&&(o=!0),t.session.user.loggedUser&&"AUDITOR"==t.session.user.loggedUser.userType&&o&&a.push("/login")})({props:e,history:u}),(0,D.kf)()}),[]),null;const m=a.priceObj||{},y=a.isTemplate,E=e.deviceData.isIphone,P="ADD_PRODUCT"==a.variantId,w=a.contentPerPiece&&a.unitPerPiece,[S,C]=(0,o.useState)({name:""}),k=(0,o.useRef)(e.unitOfMeasurement),[T,A]=(0,o.useState)(e.unitOfMeasurement.uomType),[Z,U]=(0,o.useState)(!1),[L,R]=(0,o.useState)((()=>{if(w)return!0;const e=a.attributes||[];for(let t=0;t<e.length;t++)if(e[t].values&&e[t].values.length)return!0;const t=a.customAttrs;return!!(t&&t.length&&t[0].name&&t[0].value)})),[j,F]=(0,o.useState)(!0),B=!(!e.session.user.loggedUser||"OWNER"!=e.session.user.loggedUser.userType);let H=!1,V=!1;const W=(0,D.iP)({checkType:!0});W.fetchNextAudit&&(H=!0),W.searchAudit&&(V=!0);const K=!(!a||!a.isBrandedProd);let G="/audit-home";"undefined"!=typeof window&&window.top!=window.self&&(G+="?loadedInIframe=true");let z=a.queueType,Y=!1;a.isObjectionable&&(Y=!0);let J=e.session.user.loggedUser&&"JDEMPLOYEE"==e.session.user.loggedUser.userType;const q=!(!e.session.user.loggedUser||"AUDITOR"!=e.session.user.loggedUser.userType||!H),[X,Q]=(0,o.useState)(!1),[ee,te]=(0,o.useState)(!1),[ae,oe]=(0,o.useState)(!1),[ie,re]=(0,o.useState)(!1),[ne,se]=(0,o.useState)(""),[le,ce]=(0,o.useState)(!1),[de,ue]=(0,o.useState)(!1),[ve,be]=(0,o.useState)(""),[fe,_e]=(0,o.useState)(""),[we,Ie]=(0,o.useState)(null),[Se,Ce]=(0,o.useState)(!1),[ke,xe]=(0,o.useState)(null),[Fe,Be]=(0,o.useState)(!1),[He,Ve]=(0,o.useState)(!m.isSinglePrice&&(m.minPrice||m.maxPrice)),[We,Ke]=(0,o.useState)(!1),[Ge,ze]=(0,o.useState)(!a.description),[Ye,Je]=(0,o.useState)({show:!1}),[qe,Xe]=(0,o.useState)(null),Qe=(0,o.useRef)(!1),$e=(0,o.useRef)([]);let et=(0,o.useRef)(null),tt=(0,o.useRef)(null),at=(0,o.useRef)(null),ot=(0,o.useRef)(null),it=(0,o.useRef)(null);(0,Ae.Z)({callback:(e,t)=>{t.currScroll.scrollTop?Be(!0):Be(!1)},element:e.deviceData.isMobile||!ke?null:ke,deps:[ke]});const rt=[...e.productData.imageUrlArr?e.productData.imageUrlArr:[],...e.productData.videoUrlArr?e.productData.videoUrlArr:[]];(0,o.useEffect)((()=>{e.productData.isAlreadyAudited&&!e.showAuditData&&te(!0)}),[e.productData.isAlreadyAudited]),(0,o.useEffect)((()=>{S.image&&e.variantImagesLength&&_t(null,"image")}),[e.variantImagesLength]),(0,o.useEffect)((()=>{if(e.session.showCompanyDetails&&e.session.user.loginData&&!e.session.isReadOnly){if(H&&(!e.session.user.loggedUser||"AUDITOR"!=e.session.user.loggedUser.userType))return e.setAuditObject({redirectUrl:window.location.href}),void u.push("/login");e.session.user.loggedUser||u.push("/products/auth")}}),[e.session.user.loginData]),(0,o.useEffect)((()=>{k.current=e.unitOfMeasurement}),[e.session.isAppInitialized,e.unitOfMeasurement]);const nt=(0,o.useRef)();(0,o.useEffect)((()=>{nt.current?L&&window.scrollBy({top:at.current.offsetHeight+20,behavior:"smooth"}):nt.current=!0}),[L]);const st=()=>{ft(!1)};(0,o.useEffect)((()=>((0,O.$0)(st),()=>{(0,O.wf)(st),"saved"!=ot.current?e.resetProductData({dontResetEditProduct:Qe.current}):e.isJdPhotoSlider&&!e.directAddToProduct&&(e.deviceData.isMobile?setTimeout((()=>{u.goBack()}),300):s.Z.closeAll())})),[]);let lt,ct,dt,ut=[{className:"icon-hdrBackNew",onClick:()=>{e.discardAddProductMedia(),u.goBack()}}],mt=[],pt=[],gt=[],ht=e.deviceData.isMobile?[]:[{className:"icon-HDRcross",onClick:()=>{e.discardAddProductMedia(),u.goBack()}}];if(J&&!P&&e.deviceData.isMobile&&!a.isObjectionable&&(ht=[{isMoreMenu:!0,menuClass:"representative-header-options",options:[{label:"View Product ID",onClick:()=>{ue(!0)}}]}]),q){const{queueType:e=""}=(0,D.iP)({query:!0});z=z||e,ut=[],V&&(ut=[{className:"icon-hdrBackNew",onClick:()=>{window.history.back()}}]),P||ht.push({isMoreMenu:!0,menuClass:"representative-header-options",options:[{label:"Delete",onClick:()=>{ue("delete")}}]});let t={};t={key:"1",label:"Company Website",jdWebsiteUrl:a.jdWebsiteUrl,className:(a.jdWebsiteUrl?"":"disabled")+" "+i.Z["hover-tooltip"],onClick:()=>{a.jdWebsiteUrl&&window.open(a.jdWebsiteUrl,"_blank")}};let o={key:"2",label:"Best Practices Website",jdBestPracticeWebsiteUrl:a.jdBestPracticeWebsiteUrl,className:(a.jdBestPracticeWebsiteUrl?"":"disabled")+" "+i.Z["hover-tooltip"],onClick:()=>{a.jdBestPracticeWebsiteUrl&&window.open(a.jdBestPracticeWebsiteUrl,"_blank")}};pt.push([t,o]),a.jdCatList&&a.jdCatList.length&&(mt.push({name:"Categories",onClick:()=>{Q(!0)}}),gt=a.jdCatList),a.jdLink&&mt.push({name:"Justdial",onClick:()=>{window.open(a.jdLink,"_blank")}}),"stopAuditing"==ne?(dt="STOP AUDITING",lt={skipFetch:{text:"Approve & Stop Auditing",value:"approveStop"},skipStop:{text:"Reject / Delete & Stop Auditing",value:"deleteStop"}}):(dt="SKIP PRODUCT",lt={skipFetch:{text:"Skip & Fetch Another Product",value:"skipFetch"},skipStop:{text:"Skip & Stop Auditing",value:"skipStop"}})}const vt=(e={})=>{let{data:t,redirectToHome:a,fromDelete:o}=e;if(1!=t.data.status||a){const e=()=>{o?u.replace(G):u.push(G)},{queueType:t=""}=(0,D.iP)({query:!0});Ce({cb:e,queueType:t})}else{window.top!=window.self&&(t.data.url+="&loadedInIframe=true");const e=()=>{o?window.location.replace(t.data.url):window.location.href=t.data.url};t.data.previousDocId?Ce({cb:e}):e()}},bt=(e={})=>{const{queueType:t="",token:a,id:o,isStop:i}=e;(0,D.Y8)({queueType:t,token:a,id:o,cb:e=>{Xe(null),V?window.history.back():i?vt({data:e,redirectToHome:!0,fromDelete:!0}):(0,D._Y)({cb:e=>{vt({data:e,fromDelete:!0})}})}})};ct=(t,o)=>{if(q){const{queueType:t=""}=(0,D.iP)({query:!0});"approveStop"==o.value||"deleteStop"==o.value?"approveStop"==o.value?It():"deleteStop"==o.value&&Xe({id:"deleteStopAudit",headerText:"Reject / Delete & Stop Auditing",buttonText:"Reject / Delete & Stop Auditing",cb:()=>{bt({queueType:t,token:e.session.token,id:a.id,isStop:!0})}}):(0,D.mi)({token:e.session.token,variantId:a.isObjectionable?void 0:a.variantId,id:a.isObjectionable?a.id:void 0,queueType:t,cb:e=>{1==e.data.status&&("skipFetch"==o.value?(0,D._Y)({cb:e=>{vt({data:e})}}):"skipStop"==o.value&&u.push(G))}}),se("")}};const ft=e=>{U(e)},_t=(e,t)=>{e&&e.currentTarget&&(0,D.zT)(e.currentTarget,"edit-product-form");const a={...S};a[t]="",C(a)},yt=(e,t,o={})=>{let i={...a.priceObj};const r="undefined"!=typeof event?event.data:null;let n=o.value||("description"==t?e.target.innerHTML:e.currentTarget.value);if(!je.test(n)){switch(t){case"sellingPrice":if(!Le.test(n))return;if(!Le.test((i.singlePrice||"")+(r||"")))return;i.singlePrice=n,i.isSinglePrice=!0,t="priceObj",n=i;break;case"minOrderQuantity":if("PACKED"==a.uomType?!Re.test(n):!/^\d{0,10}(\.\d*)?$/.test(n))return;break;case"minPrice":if(!Le.test(n))return;i.isSinglePrice=!1,i.minPrice=n,t="priceObj",n=i;break;case"maxPrice":if(!Le.test(n))return;i.isSinglePrice=!1,i.maxPrice=n,t="priceObj",n=i}Et(t,n,a.uomType)}},Et=(t,a,o)=>{e.updateEditProductDetail({key:t,value:a,uomType:o})},Pt=(e,t,o,i)=>{switch(t){case"productName":if(!(e=e.trim()))return"Please Enter Product Name";if(e.length<3)return"Product Name Should Have 3 or More Characters";break;case"categoryName":if(!y&&!e)return"Please Select Product Category";break;case"unitPerPiece":if(!e&&a.contentPerPiece)return R(!0),"Please Select Unit";break;case"priceRange":return wt(o,i)}return!1},wt=(a,o)=>{let i="",r="";if(""!==m.minPrice&&void 0!==m.minPrice&&0!==m.minPrice||""!==m.maxPrice&&void 0!==m.maxPrice&&0!==m.maxPrice)m.minPrice&&m.maxPrice?m.minPrice&&0==m.minPrice||m.maxPrice&&0==m.maxPrice?(r=0==m.minPrice?"Min. Price Cannot be 0":"Max. Price Cannot be 0",o||t(g.Z.showMessage({message:r,type:"error",showReduxToast:!0,duration:5e3})),o=!0,0==m.minPrice?(a.minPrice=r,a.maxPrice=!1):0==m.maxPrice&&(a.maxPrice=r,a.minPrice=!1)):""!==m.minPrice&&""!==m.maxPrice&&Number(m.minPrice)>Number(m.maxPrice)&&(r="Cannot be More than Max. Price",o||t(g.Z.showMessage({message:r,type:"error",showReduxToast:!0,duration:5e3})),o=!0,a.minPrice=r,a.maxPrice=!1):(r=m.minPrice?"Enter Max. Price":"Enter Min. Price",i=m.minPrice?"maxPrice":"minPrice",o||t(g.Z.showMessage({message:"Please "+r,type:"error",showReduxToast:!0,duration:5e3})),o=!0,"minPrice"==i?(a[i]=r,a.maxPrice=!1):"maxPrice"==i&&(a[i]=r,a.minPrice=!1));else{let t={...m};t.isSinglePrice=!0,a.minPrice=!1,a.maxPrice=!1,e.updateEditProductDetail({key:"priceObj",value:t,uomType:e.productData.uomType})}return o},It=(o={})=>{if(t(g.Z.hideMessage()),K)return void(()=>{if(ot.current)return;ot.current="disabled";let a={...e.productData};e.updateBrandedProduct({productData:a,isEditSave:!0,cb:()=>{t(g.Z.showMessage({message:"Product ".concat(P?"Added":"Updated"," Successfully"),showReduxToast:!0,duration:5e3})),e.deviceData.isMobile&&(0,D.Er)({message:"Product ".concat(P?"Added":"Updated"," Successfully")}),ot.current="saved",u.goBack()}})})();if(q){let a="",{checkedValue:o,minCorrectTextArea:i}=e.auditData;if(o||(e.setAuditObject({unSelectedErr:!0}),a="Please Select a Value"),"minCorrect"!=o||i||(e.setAuditObject({minCorrectErr:!0}),a="Please Enter Details"),"errWithDet"==o){let t=!1;e.auditData.checkBoxData.forEach(((o,i)=>{if(o.value&&(t=!0,o.showCommentBox&&!o.textBoxValue)){let t=[...e.auditData.checkBoxData];t[i].error=!0,e.setAuditObject({checkBoxData:t}),a="Please Enter Details"}})),t||(e.setAuditObject({checkboxErr:!0}),a="Please Select a Product Error")}if("passedBySample"==o&&(a="Please select another Audit Disposition"),a)return window.scrollTo(0,document.body.scrollHeight),void t(g.Z.showMessage({message:a,type:"error",showReduxToast:!0}))}const i={...S};let r=!1,n=!1;e.productData.bizSuggestion&&e.productData.bizSuggestion.data&&(e.productData.bizSuggestion.natCatId&&(n=!0),!n&&e.productData.toggleBiz&&(i.businessError="Please Select Business Type",t(g.Z.showMessage({message:"Please Select Business Type",type:"error",showReduxToast:!0,animationTime:5e3})),r=!0)),e.variantImagesLength||q||(e.showToastMessage({showToastMessage:!0,message:"Please Upload Product Image",type:"error",duration:5e3}),setTimeout((()=>{window.scrollTo({top:0,behavior:"smooth"})})),r=!0,i.image="Please Upload Product Image"),He||(m.isSinglePrice=!0,Et("priceObj",m,e.productData.uomType));let s=(e,t)=>{const a=$e.current[t];"open"==e&&a&&a.scrollIntoView({behavior:"smooth",block:"center"})};if([...Zt,...Lt].forEach((e=>{e.checkError&&(e.priceRange?r=e.checkError("",i,r):i[e.key]=e.checkError(e.input.value),i[e.key]&&(r||t(g.Z.showMessage({message:i[e.key],type:"error",showReduxToast:!0,duration:5e3,cb:t=>s(t,e.key)})),r=!0))})),r)return void C(i);if(ot.current)return;ot.current="disabled",void 0!==o&&o.fetchNextUrl?oe(!0):re(!0);let l=e.productData.productName;l=l.trim(),l=l.replace(/\s\s+/g," "),e.updateEditProductDetail({key:"productName",value:l}),e.saveAddEditProduct(null,(i=>{if(re(!1),i.data&&(1==i.data.status||2==i.data.status)&&i.data.msg&&"Product Updated Successfully"!=i.data.msg){let e={},a=i.data.msg,o="";const{errorType:r,objectionableContent:n=[]}=i.data;return"productName"==r&&2==i.data.status?(e={productName:a},o="productName",t(g.Z.showMessage({message:a,type:"error",showReduxToast:!0,duration:5e3,cb:e=>s(e,o)})),C(e)):1==i.data.status&&"objectionable content found"==i.data.msg?Je({show:!0,errors:n}):2===i.data.status&&(t(g.Z.showMessage({message:a,type:"error",showReduxToast:!0,duration:5e3,cb:e=>s(e,"description")})),"productDesc"===r&&C({description:a})),void(ot.current=null)}if(i.isSuccess)if(jt(a.variantId,!0),q){if(i.isAlreadyAudited)return be("Product details has got updated while you were auditing. Click on continue to get the updated version of the product"),_e("alreadyAudited"),te(!0),void oe(!1);if(i.isOwnerEdited)return be("Product details has been edited by the Owner while you were auditing. Click on continue to get the updated version of the product"),_e("ownerEdited"),te(!0),void oe(!1);if(V){let e="Audit Details Saved Successfully";return P&&(e="Product Added Successfully"),t(g.Z.showMessage({message:e,showReduxToast:!0,duration:5e3})),void u.goBack()}o.fetchNextUrl?(0,D._Y)({cb:e=>{vt({data:e}),e.data.status||(ot.current="saved"),oe(!1)}}):(ot.current="saved",u.push(G))}else{if(i.duplicateProduct){let e={productName:i.msg};return t(g.Z.showMessage({message:"Product with this Name Already Exists in Your Catalogue",type:"error",showReduxToast:!0,duration:5e3,cb:e=>s(e,"productName")})),ot.current=null,void C(e)}t(g.Z.showMessage({message:"Product ".concat(P?"Added":"Updated"," Successfully"),showReduxToast:!0,duration:5e3})),e.deviceData.isMobile&&(0,D.Er)({message:"Product ".concat(P?"Added":"Updated"," Successfully")}),e.setTabStatus({tabKey:void 0}),ot.current="saved",a.isDuplicate?(u.replace("/products"),e.deviceData.isMobile||(u.goBack(),e.isSearchSliderOpen&&u.goBack())):i.redirectToListing?u.go(-2):u.goBack()}else"ALL_IMAGE_NOT_UPLOADED"==i.error&&(t(g.Z.showMessage({message:"Please wait Image Upload is in Progress",showReduxToast:!0,duration:5e3})),ot.current=null)}))},St=(e,t)=>{if("description"==t&&"description"==t){C({...S,description:""});let t=e.target;setTimeout((()=>{const e=t.innerText;e&&e.trim()?ze(!1):(t.innerHTML="",ze(!0))}),100)}if(!E)return;const o=e.key;if("Backspace"!=o)switch(t){case"sellingPrice":o.match(/\d|\./g)&&((m.singlePrice||"")+(o||"")).match(Le)||e.preventDefault();break;case"minOrderQuantity":("PACKED"==a.uomType?o.match(/\d/g)&&((a.minOrderQuantity||"")+(o||"")).match(Re):!o.match(/\d/g)||/^\d{0,10}(\.\d*)?$/.test(a.minOrderQuantity||"")+(o||""))||e.preventDefault()}},Ct=a.oldData||{},kt=H&&Object.keys(Ct).length>0,Nt=(0,o.useRef)(kt?JSON.parse(JSON.stringify(a)):null).current,Tt=Nt&&Nt.priceObj||{},xt=Ct.priceObj||{};let Dt=e.deviceData.isMobile;const Ot=!xt.isSinglePrice&&(xt.minPrice||xt.maxPrice),At=a.productName&&a.productName.indexOf("GPB2BMARKETPLACE")>-1;function Mt(e,t={}){let a=t.initialEmpty?[]:[...e];return e.forEach((e=>{if(e.previousAuditObj){let o=e.previousAuditObj,r={...e};r.key="previous"+r.key,r.checkError=null,r.input={...r.input};let n=e.holderClass||"";o.holderClass?n+=o.holderClass:-1==n.indexOf(i.Z.marginT24)&&(n+=" "+i.Z.marginT24),r.holderClass=n+" read-only-mode modified "+(o.labelOnTop?"move-up":""),r.label=o.label,r.input.value=o.value,r.input.readOnly=!0,e.formElements&&(r.formElements=Mt(e.formElements,{...t,initialEmpty:!0})),o.hasOwnProperty("hide")&&(r.hide=o.hide),e.inputObj&&(r.inputObj=Mt(e.inputObj,{...t,initialEmpty:!0})),a.push(r)}})),a}const Zt=[...Mt([{label:"Product Name",key:"productName",holderClass:"".concat(i.Z["product-name-field"]," ").concat(e.session.isReadOnly?"read-only-mode":""),input:{maxLength:150,value:!At&&a.productName||"",onChange:e=>yt(e,"productName"),onFocus:e=>_t(e,"productName"),onKeyDown:e=>(e=>{je.test(e.key)&&e.preventDefault()})(e),readOnly:!!e.session.isReadOnly},hide:K,inputRef:$e,checkError:e=>Pt(e,"productName"),errorClass:i.Z["error-text"],previousAuditObj:kt?{label:"Previous Product Name",value:Ct.productName,hide:Ct.productName==Nt.productName}:null}]),{customJSX:o.createElement("div",{className:!0},a.unitPerPiece?a.contentPerPiece:"",a.unitPerPiece),hide:!y},...Mt([{label:"Product Category",key:"categoryName",holderClass:"".concat(i.Z.marginT24," ").concat(i.Z["product-category"]," ").concat(e.session.isReadOnly?"read-only-mode":""),input:{value:a.categoryName||(e.session.isReadOnly?" ":""),onChange:e=>yt(e,"categoryName"),readOnly:!0,onClick:()=>{!e.session.isReadOnly&&ft(!0)}},inputRef:$e,showArrow:!(P&&Dt||e.session.isReadOnly),hide:y||K,checkError:e=>Pt(e,"categoryName"),previousAuditObj:kt?{label:"Previous Product Category",value:Ct.categoryName,hide:Ct.categoryName==Nt.categoryName}:null}]),{key:"businessType",hide:!a.toggleBiz||e.session.isReadOnly,customJSX:a.bizSuggestion&&a.bizSuggestion.data?o.createElement("div",{className:i.Z.marginLR15},o.createElement(M,{list:a.bizSuggestion.data,natCatId:a.bizSuggestion.natCatId,handleChange:t=>{if(e.updateBizList({natCatId:t}),S.businessError){let e={...S};e.businessError="",C(e)}},label:"Business Type",error:S.businessError})):null},...Mt([{hide:He,holderClass:i.Z["more-detail-grp"]+" "+i.Z.marginLR15+" "+i.Z.marginT24+" "+i.Z["unit-holder"]+" "+i.Z["prod-price"],previousAuditObj:kt?{hide:Ot||xt.singlePrice==Tt.singlePrice&&Ct.unitOfMeasurement==Nt.unitOfMeasurement}:null,formElements:[{hide:He,label:"Product Price",inputRef:$e,prepend:()=>o.createElement("span",{className:"icon-currency"}),hidePrependBar:!0,key:"sellingPrice",holderClass:e.session.isReadOnly?"read-only-mode":"",input:{value:m.singlePrice||(e.session.isReadOnly?" ":""),type:E?"number":"tel",onChange:e=>yt(e,"sellingPrice"),onFocus:e=>_t(e,"sellingPrice"),onKeyDown:e=>St(e,"sellingPrice"),readOnly:!!e.session.isReadOnly},ignoreParentClass:!0,editableForTemplate:!0,inputGroupProps:{rightSection:()=>o.createElement("span",{className:"font-14",style:{color:"#718190"}},"Per")},checkError:e=>Pt(e,"sellingPrice"),previousAuditObj:kt?{label:"Previous Product Price",value:xt.singlePrice||"",hide:Ot,holderClass:" "+(0==xt.singlePrice?"move-up":"")}:null},{hide:He,label:"Select Unit",disableMovingLabel:!0,key:"unitOfMeasurement",inputRef:$e,showArrow:!e.session.isReadOnly&&!K,holderClass:e.session.isReadOnly?"read-only-mode":K?"branded-product-mode":"",input:{value:!At&&e.unitOfMeasurement.displayVal||"",onChange:e=>yt(e,"unitOfMeasurement"),readOnly:!0,disabled:y||K,onClick:()=>{!e.session.isReadOnly&&et.current.openCloseUOMSlider(!0)}},previousAuditObj:kt?{label:"Select Unit",value:e.oldUnitOfMeasurement.displayVal||"",hide:Ot,holderClass:" "}:null,ignoreParentClass:!0,editableForTemplate:!0}]},{hide:!He,priceRange:!0,checkError:(e,t,a)=>Pt(e,"priceRange",t,a),previousAuditObj:kt?{hide:!Ot||xt.minPrice==Tt.minPrice&&xt.maxPrice==Tt.maxPrice&&Ct.unitOfMeasurement==Nt.unitOfMeasurement}:null,holderClass:i.Z.marginLR15+" "+i.Z.marginT24+(e.session.isReadOnly?" read-only-mode":""),inputObj:[{label:"Min. Price",key:"minPrice",inputRef:$e,holderClass:"min-price"+(e.session.isReadOnly?" read-only-mode":""),input:{value:m.minPrice||(e.session.isReadOnly?" ":""),type:e.isIphone?"number":"tel",onChange:e=>yt(e,"minPrice"),onFocus:e=>_t(e,"minPrice"),readOnly:!!e.session.isReadOnly},previousAuditObj:kt?{label:"Min. Price",value:xt.minPrice||"",holderClass:" "+(0==xt.minPrice?"move-up":"")}:null},{label:"Max. Price",key:"maxPrice",inputRef:$e,holderClass:"max-price"+(e.session.isReadOnly?" read-only-mode":""),input:{value:m.maxPrice||(e.session.isReadOnly?" ":""),type:e.isIphone?"number":"tel",onChange:e=>yt(e,"maxPrice"),onFocus:e=>_t(e,"maxPrice"),readOnly:!!e.session.isReadOnly},previousAuditObj:kt?{label:"Max. Price",value:xt.maxPrice||"",holderClass:" "+(0==xt.maxPrice?"move-up":"")}:null},{label:"Unit",key:"unitOfMeasurement",holderClass:"unit-measurement"+(e.session.isReadOnly?" read-only-mode":""),showArrow:!e.session.isReadOnly,input:{value:e.unitOfMeasurement.displayVal||"",onChange:e=>yt(e,"unitOfMeasurement"),readOnly:!0,disabled:y||K,className:i.Z["range-unit-of-measurement"],onClick:()=>{!e.session.isReadOnly&&et.current.openCloseUOMSlider(!0)}},previousAuditObj:kt?{label:"Unit",value:e.oldUnitOfMeasurement.displayVal||"",holderClass:" "}:null,ignoreParentClass:!0,editableForTemplate:!0}],error:S},{customJSX:o.createElement("div",{className:"".concat(i.Z["more-detail-switch"]," ").concat(S.minPrice||S.maxPrice?i.Z["error-flag"]:""," ").concat(e.session.isReadOnly?"read-only-switch":"")},o.createElement(b.Z,{label:"Add Price Range",labelPosition:"before",labelTitleClass:i.Z["price-range-label"],onClick:()=>Ve(!He),checked:He,showToggleStatus:!1}))}]),...Mt([{holderClass:i.Z["more-detail-grp"]+" "+i.Z.marginLR15+" "+(Dt?i.Z.marginT24:"min-qty-web-margin")+" "+i.Z["unit-holder"]+" "+i.Z["min-order-qty"],previousAuditObj:kt?{hide:Ct.minOrderQuantity==Nt.minOrderQuantity&&Ct.unitOfMeasurement==Nt.unitOfMeasurement}:null,formElements:[{label:"Min. Order Quantity",key:"minOrderQuantity",holderClass:e.session.isReadOnly?"read-only-mode":"",input:{value:!At&&a.minOrderQuantity?"PACKED"==a.uomType?Math.floor(a.minOrderQuantity):a.minOrderQuantity:e.session.isReadOnly?" ":"",type:E?"number":"tel",onChange:e=>yt(e,"minOrderQuantity"),onFocus:e=>_t(e,"minOrderQuantity"),onKeyDown:e=>St(e,"minOrderQuantity"),readOnly:!!e.session.isReadOnly},ignoreParentClass:!0,editableForTemplate:!0,previousAuditObj:kt?{label:"Previous Min. Order Quantity",labelOnTop:!0,value:Ct.minOrderQuantity||""}:null},{label:"Select Unit",disableMovingLabel:!0,key:"unitOfMeasurement",showArrow:!e.session.isReadOnly&&!K,holderClass:e.session.isReadOnly?"read-only-mode":K?"branded-product-mode":"",input:{value:!At&&e.unitOfMeasurement.displayVal||"",onChange:e=>yt(e,"unitOfMeasurement"),readOnly:!0,disabled:y||K,onClick:()=>{!e.session.isReadOnly&&et.current.openCloseUOMSlider(!0)}},ignoreParentClass:!0,editableForTemplate:!0,previousAuditObj:kt?{label:"",value:e.oldUnitOfMeasurement.displayVal||""}:null}]}]),...Mt([{label:"Product Description",key:"description",holderClass:(Dt?i.Z.marginT24:"desc-web-margin")+" "+i.Z["wyswig-div"]+(e.session.isReadOnly?" read-only-mode description":""),input:{value:a.description||(e.session.isReadOnly?" ":""),onChange:(e,t)=>yt(e,"description",t),onKeyDown:e=>St(e,"description"),readOnly:!!e.session.isReadOnly,onPaste:e=>{e.persist(),setTimeout((()=>{const t=(0,D.Yv)(document.querySelector(".wyswig-div [contenteditable]").innerHTML);t.length&&ze(!1),yt(e,"description",{value:t})}),0)}},inputRef:$e,hide:K,as:"editableContent",showRightSectionAlways:!0,rightSection:()=>Ge?o.createElement("div",{className:i.Z["paste-option"],onClick:()=>(()=>{let e="";(0,Me.L)((t=>{if(t){e=t.trim(),ze(!1);let a=(0,D.Yv)(e);Et("description",a)}}))})()},"Paste"):null,previousAuditObj:kt?{label:"Previous Product Description",value:Ct.description,hide:Ct.description==Nt.description}:null}])],Ut=P||"LOOSE"!=k.current.uomType?a.uomType:k.current.uomType,Lt=[];let Rt=o.createElement($.Z,{formElements:Zt,isTemplate:y,errors:S});const jt=(t,a)=>{let o="approvalPending"==e.tabKey?[...e.approvalPendingList]:[...e.deletionPendingList];-1!=o.indexOf(t)&&(o.splice(o.indexOf(t),1),"approvalPending"==e.tabKey?e.updateApprovalPending({approvalPendingList:o}):"deletionPending"==e.tabKey&&e.updateDeletionPending({deletionPendingList:o}))};let Ft=(0,c.TH)();const Bt=()=>{if(q){let t="";Ft.search.indexOf("isSpecialContract=true")&&(t="&isSpecialContract=true"),I().get("/marketplace/static/php/web/b2bWebsite.php?action=deleteProduct&token=".concat(e.session.token,"&variantId=").concat(a.variantId).concat(t)).then((t=>{(t=t.data).status&&(V?(e.showToastMessage({showToastMessage:!0,message:"Product Deleted",duration:5e3}),window.history.go(-2)):(0,D._Y)({cb:e=>{vt({data:e}),ce(!1)}}))}))}else jt(a.variantId,!0),e.updateProductStatus({action:"delete",isDelete:!0,token:e.session.token,variantId:a.variantId,cb:()=>{e.getListingData({tabKey:e.tabKey}),e.showToastMessage({showToastMessage:!0,message:"Product Deleted - "+a.productName,duration:5e3}),u.goBack()}})};let Ht="Edit Product";P&&(Ht="Add a Product"),q&&(Ht="Audit Product",P&&(Ht="Add a Product"));const Vt=()=>{it.current.select(),document.execCommand("copy"),e.showToastMessage({showToastMessage:!0,message:"Product ID Copied",type:"info",duration:5e3})};let Wt="",Kt="";if(z){const e=(0,D.b1)({type:z});Wt=e.productTag,Kt=e.tagColor}const Gt=({copyLabel:e="",isMobile:t})=>o.createElement("div",{className:i.Z["user-details-productid"]},e&&o.createElement("span",{className:"copy-label"},e," : "),o.createElement("textarea",{ref:it,readonly:"readonly",className:i.Z["copy-text"]},a&&a.productId),t?o.createElement("div",{className:i.Z["product-id-copy-holder"],onClick:Vt},o.createElement("span",{className:i.Z["product-id-copy-icon"]+" icon-Copy"}),"COPY"):o.createElement(l.Z,{className:i.Z["product-id-copy-holder"],onClick:Vt},o.createElement("span",{className:i.Z["product-id-copy-icon"]+" icon-Copy"}),"COPY")),zt={updateProductImage:e.updateProductMedia,deleteProductImage:e.deleteProductImage,deleteProductVideo:e.deleteProductVideo,showToastMessage:e.showToastMessage,showUndoToast:!0,restoreProductData:e.restoreProductData,toggleLibrarySlider:e.toggleLibrarySlider,ignoreSave:P,isTemplate:y,canUploadImage:!e.session.isReadOnly&&!K,isReadOnly:e.session.isReadOnly||K,uploadSingleImage:!!K,variantId:a.variantId,showDots:!!K,onViewImageClick:e.session.isReadOnly||!e.deviceData.isMobile?e=>{Ie({selImageIndex:e})}:null,hideSaveButton:!0,errorMessage:S.image?"Please Upload Product Image":"",isMobile:e.deviceData.isMobile},Yt={imageUrlArr:rt,hideSaveButton:!0,isReadOnly:!0,isReadOnlyImageSlider:!0,canUploadImage:!0};let Jt="Save Product";"APPROVAL_PENDING"==a.reviewStatus&&B?Jt="Save Product":B&&!a.ownerEdit&&a.isObjectionable&&(Jt="Save & Request to Take Live");const qt=o.createElement(o.Fragment,null,o.createElement(o.Fragment,null,o.createElement("div",{className:i.Z["add-edit-product"]+(E?" "+i.Z["jd-iphone"]:"")+" "+(z?"product-type":"")+(Dt?"":" "+i.Z.isWeb)},o.createElement("div",{className:i.Z["edit-product-header"]+(Fe?" scrolled":"")+(e.session.isReadOnly?" "+i.Z["readonly-header"]:"")},o.createElement(r.Z,{className:i.Z["add-edit-header"],heading:Ht,leftIcons:Dt?ut:[],rightIcons:ht,variant:"secondary",headingClass:i.Z["header-title"]})),o.createElement(N.Z,null,o.createElement("div",{className:i.Z["edit-product-form"]+" "+(q?i.Z["auditor-edit-form"]:"")+" "+(e.session.isReadOnly?i.Z["readonly-edit-form"]:"")},q?o.createElement(Ne,{session:e.session,contractorData:{conName:a.contractorName,conMob:a.contractorMobile},updateAuditDocModal:Ce,userData:e.userData,auditBtnArray:mt,showToastMessage:e.showToastMessage,isAddProduct:P,showTotalCount:!0,totalCount:e.countPerDocId,AuditWebsiteBtn:pt,belongsTo:"editPage",type:z,dataSource:a.dataSource}):null,a.isObjectionable&&!q?o.createElement(Ze.Z,{showLink:!0,showModal:()=>{Je({show:!0,errors:a.objectionableContent||[],infoModal:!0})}}):null,o.createElement("div",{className:i.Z.marginLR15},q&&!P?o.createElement("div",{className:i.Z["user-details-holder"]},a.isObjectionable?null:o.createElement(Gt,{isMobile:Dt}),a.bucketId&&o.createElement("div",{className:i.Z["product-last-time"]},"Bucket ID: ",a.bucketId),a.createdOnAudit&&o.createElement("div",{className:i.Z["product-last-time"]},"Created On: ",a.createdOnAudit),e.timestampAudit&&o.createElement("div",{className:i.Z["product-last-time"]},"Last Modified: ",e.timestampAudit),z&&Wt&&o.createElement("div",{className:i.Z["tag-holder"]},o.createElement("div",{className:i.Z["tag-text"]+" "+Kt},Wt)),a.objectionableContent?o.createElement(Ze.Z,{showLink:!0,isAuditor:a.objectionableContent}):null):null,o.createElement(h.Z,Ue({key:"image-slider"},zt))),!P&&!Dt&&J&&!a.isObjectionable&&!K&&o.createElement("div",{className:i.Z["copy-div-jd-rep"]},o.createElement(Gt,{copyLabel:"Product Id",isMobile:Dt})),K&&o.createElement("div",{className:"".concat(i.Z.marginLR15," ").concat(i.Z["branded-prop-name"])},a.productName),Rt,o.createElement(o.Fragment,null,null,o.createElement("div",{ref:at},K?null:o.createElement(o.Fragment,null,o.createElement(me,{categoryName:a.categoryName,isAddProduct:P,isTemplate:y,hideUOMSection:y||"LOOSE"==Ut,isAuditUrl:H}),y||a.isObjectionable?null:o.createElement(o.Fragment,null,o.createElement(p.Z,{variantId:a.variantId,isReadOnly:e.session.isReadOnly}))))),de?o.createElement(Ee.Z,{settings:{modalId:"productIdCopy",variant:"action",class:i.Z["product-id-copy-modal"]},onHidden:()=>ue(!1)},o.createElement(Ee.Z.CloseIcon,{iconClass:i.Z["jd-cat-icon"]+" icon-HDRcross"}),o.createElement("div",{className:i.Z["product-id-copy-header"]},"delete"!=de?"Product ID":"Delete Product"),o.createElement("div",{className:i.Z["product-id-copy-body"]},"delete"==de?o.createElement("div",{className:i.Z["delete-text"]},"Are you sure you want to delete",o.createElement("span",{className:i.Z["delete-bold-text"]},a.productName?a.productName:""),"?"):o.createElement("div",{className:i.Z["user-details-productid"]},o.createElement("textarea",{ref:it,className:i.Z["copy-text"],readonly:"readonly"},a&&a.productId),o.createElement("div",{className:i.Z["product-id-copy-holder"],onClick:()=>{Vt(),window.history.back()}},o.createElement("span",{className:i.Z["product-id-copy-icon"]+" icon-Copy"}),"COPY"))),o.createElement("div",{className:i.Z["copy-close-btn-holder"]},o.createElement(v.Z,{size:"lg",block:!0,variant:"delete"==de?"danger":void 0,showLoader:le,clickHandler:()=>{"delete"==de?(ce(!0),Bt()):window.history.back()}},"delete"==de?"Delete Product":"Close"))):null,q?o.createElement(o.Fragment,null,o.createElement(ye,{updateTimeoutModal:te,updateAuditMsg:be,updateSaveProdConflict:_e,showAuditData:e.showAuditData,isAddProduct:P}),X?o.createElement(Oe.Z,{showJDCatModal:Q,jdCatList:gt}):null,ee?o.createElement(Ee.Z,{settings:{modalId:"timeoutModal",variant:"action",class:i.Z["timeout-modal"]},backdropStatic:!0,onHidden:()=>te(!1)},V||"ownerEdited"==fe?null:o.createElement(Ee.Z.Header,null,"This Product is Already Audited"),o.createElement("div",{className:i.Z["timeout-body"]},o.createElement("div",{className:i.Z["timeout-text"]},V||"ownerEdited"==fe?ve:a.productName),o.createElement(v.Z,{showLoader:le,size:"lg",block:!0,className:i.Z["timeout-btn"],clickHandler:()=>{V||"ownerEdited"==fe?(s.Z.closeCurrent(),setTimeout((()=>{window.location.reload()}),500)):(ce(!0),(0,D._Y)({cb:e=>{vt({data:e}),ce(!1)}}))}},V||"ownerEdited"==fe?"Continue":"Fetch Another Product"),V||"ownerEdited"==fe?null:o.createElement(v.Z,{size:"lg",block:!0,variant:"default",clickHandler:()=>{u.push(G)}},"Stop Auditing"))):null,Se?o.createElement(De,{session:e.session,showToastMessage:e.showToastMessage,updateAuditLastModal:Ce,auditDocModal:Se,dontShowButtons:!0,auditHomePath:G,fetchResolve:vt}):null):null,q&&Y?o.createElement("div",{className:i.Z.marginLR15+" "+i.Z["objectional-save-btn-holder"]},o.createElement("div",{className:i.Z["partial-btns"]+" "+i.Z.firstRow},o.createElement(v.Z,{size:"lg",className:i.Z["first-btn"],clickHandler:()=>{It({fetchNextUrl:!0})}},"Approve"),o.createElement(v.Z,{size:"lg",className:i.Z["second-btn"],clickHandler:()=>{Xe({id:"reject",headerText:"Reject / Delete Product",buttonText:"Reject / Delete Product",cb:()=>{const{queueType:t=""}=(0,D.iP)({query:!0});bt({queueType:t,token:e.session.token,id:a.id})}})}},"Reject / Delete")),V?null:o.createElement("div",{className:i.Z["partial-btns"]},o.createElement(v.Z,{size:"lg",variant:"default",className:i.Z["first-btn"],clickHandler:()=>{se("skipProduct")}},"Skip Product",o.createElement("span",{className:"icon-pagination-down "+i.Z["btns-icons"]})),o.createElement(v.Z,{size:"lg",variant:"default",className:i.Z["second-btn"],clickHandler:()=>{se("stopAuditing")}},"Stop Auditing",o.createElement("span",{className:"icon-pagination-down "+i.Z["btns-icons"]})))):null,!q||V||Y?null:o.createElement(o.Fragment,null,o.createElement("div",{className:i.Z.marginLR15+" "+i.Z["audi-save-btn-holder"]},o.createElement(v.Z,{size:"lg",block:!0,clickHandler:()=>{It({fetchNextUrl:!0})},showLoader:ae,className:"auditor-btn"},"Save and Fetch Another Product"),o.createElement("div",{className:i.Z["partial-btns"]},o.createElement(v.Z,{size:"lg",variant:"default",className:i.Z["first-btn"],clickHandler:()=>{se("skipProduct")}},"Skip Product"),o.createElement(v.Z,{size:"lg",variant:"default",className:i.Z["second-btn"],clickHandler:It,showLoader:ie},"Save & Stop Auditing")))),ne&&o.createElement(Pe.Z,{onHidden:e=>{se(!1)},title:dt,drawerOptions:lt,onClick:ct,className:"fetch-swipe-drawer"}),V&&H&&!Y?o.createElement("div",{className:i.Z.marginLR15+" "+i.Z["audi-save-btn-holder"]},o.createElement(v.Z,{size:"lg",showLoader:ie,block:!0,clickHandler:It,className:"auditor-save-btn"},P?"Save Product":"Save & Continue")," "):null)),j&&!e.session.isReadOnly?o.createElement("div",{className:i.Z["save-product-btn"]},B&&"DELETION_PENDING"==a.reviewStatus?o.createElement(n.Z,{raised:!0,className:i.Z["delete-btn-holder"]},o.createElement(v.Z,{raised:!0,variant:"default",className:i.Z["delete-btn"],clickHandler:It},"Don't Delete & Save Changes"),o.createElement(v.Z,{raised:!0,variant:"default",className:i.Z["delete-btn-reverse"],clickHandler:Bt},"Delete Product")):q?null:o.createElement(v.Z,{size:"lg",block:!0,clickHandler:It,showLoader:ie},Jt)):null,Dt?o.createElement(o.Fragment,null,o.createElement(ge.Z,{onUploadOptionClick:e=>{"jdGallery"===e&&(Qe.current=!0)}}),o.createElement(he.Z,null)):null,o.createElement(f.Z,{ref:et,uomType:"productUOM",isAddProduct:P,onSelectUOM:(t,a)=>{const o="unitOfMeasurement";let i=[{key:o,value:a.val,uomType:a.uomType}];"LOOSE"==a.uomType&&i.push({key:"contentPerPiece",value:""},{key:"unitPerPiece",value:""}),e.updateEditProductDetail(i);const r={...S};r[o]="",C(r),et.current.openCloseUOMSlider(!1)},showUOMType:"PACKED"==T?"Packed":""}),Z?o.createElement(x,{ref:tt,onSelectCategory:(t,a)=>{const o="categoryName";e.updateEditProductDetail([{key:o,value:a.name},{key:"leafId",value:a.id}]);const i={...S};i[o]="",C(i),e.getBizList(a.id),st()},productName:a.categoryName?a.categoryName:a.productName,catSliderShown:Z,closeSlider:()=>ft(!1),categoryName:a.categoryName}):null,Ye.show?o.createElement(Ee.Z,{settings:{modalId:"ObjectionalProduct",variant:"action",class:i.Z["objectional-product-modal"]},backdropStatic:!0,onHidden:()=>Je({show:!1})},o.createElement("div",{className:i.Z["objectional-product-body"]},o.createElement("div",{className:i.Z.heading},o.createElement("span",{className:i.Z.highlight},"Objectionable Content Found:")),o.createElement("div",{className:i.Z["objectional-product-text"]},Ye.errors.map((e=>o.createElement("div",{className:i.Z["objectional-error"]},o.createElement("span",{className:i.Z.highlight},e.name,":")," ",e.details)))),o.createElement("div",{className:i.Z["objectional-product-subtext"]},o.createElement("span",{className:i.Z.highlight},"Note:")," This product will be visible under the ",o.createElement("span",{className:i.Z.highlight},"Objectionable Products")," tab till it gets moderated.")),o.createElement("div",{className:i.Z["objectional-product-btn-holder"]},o.createElement(v.Z,{size:"lg",block:!0,variant:Ye.infoModal?"primary":"default",clickHandler:()=>{Ye.infoModal?window.history.back():e.saveAddEditProduct(null,(a=>{ot.current="saved",t(g.Z.showMessage({message:"Product ".concat(P?"Added":"Updated"," Successfully"),showReduxToast:!0,duration:5e3})),(0,D.Er)({message:"Product ".concat(P?"Added":"Updated"," Successfully")}),u.replace("/products"),e.deviceData.isMobile||(window.history.back(),setTimeout((()=>{e.isSearchSliderOpen?s.Z.closeAll():window.history.back()}),300))}),{isSaveForceFully:!0})}},Ye.infoModal?"Okay, Got it":"Save and Continue")),Ye.infoModal?null:o.createElement("div",{className:i.Z["objectional-goBack-btn-holder"]},o.createElement(v.Z,{size:"lg",block:!0,clickHandler:()=>{window.history.back()}},"Go Back and Edit"))):null,qe?o.createElement(Ee.Z,{settings:{modalId:"ObjectionalDeleteProduct",variant:"action",class:i.Z["objectional-delete-product-modal"]},onHidden:()=>Xe(!1)},o.createElement(Ee.Z.Header,null,qe.headerText),o.createElement(Ee.Z.CloseIcon,{iconClass:i.Z["jd-cat-icon"]+" icon-HDRcross"}),o.createElement("div",{className:i.Z["objectional-delete-body"]},o.createElement("div",{className:i.Z["objectional-delete-text"]},"By rejecting/deleting, this product will be permanently removed from the system.Are you sure you want to reject/delete ",o.createElement("span",{className:i.Z["objectional-highlight-text"]},a.productName),"deleteStopAudit"==qe.id?" & Stop Auditing?":"?")),o.createElement("div",{className:i.Z["objectional-delete-btn-holder"]},o.createElement(v.Z,{size:"lg",block:!0,variant:"danger",clickHandler:()=>{window.history.back(),qe.cb&&qe.cb()}},qe.buttonText))):null),e.showLibrarySlider&&e.deviceData.isMobile&&o.createElement(pe.Z,null),(e.session.isReadOnly||!e.deviceData.isMobile)&&we&&o.createElement(Te.Z,Ue({className:"read-only-image-slider",key:"read-only-image-slider",session:e.session,isBrandedProduct:K,onHidden:()=>Ie(null)},we,e.session.isReadOnly||K?Yt:zt))));return e.deviceData.isMobile?qt:o.createElement(_.Z,{slider:{slideDirection:"right"},onHidden:()=>{e.hideProductEditSlider(),e.discardAddProductMedia()},updateScrollContRef:e=>xe(e)},qt)}))},17513:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var o=a(67294),i=a(75920),r=a(20507);const n="_26Ks_range-text",s=e=>{let t=e.inputObj.map(((t,a)=>o.createElement(r.Z,{label:t.label,holderClass:t.holderClass,errClass:t.holderClass+"-error",input:t.input,key:a,as:t.as,errorMessage:e.errors&&e.errors[t.key],showArrow:t.showArrow,disableMovingLabel:t.disableMovingLabel})));return o.createElement("div",{className:"".concat(e.holderClass," ").concat("MgP8_price-range"),style:{display:"flex",alignItems:"center"}},t[0],o.createElement("span",{className:"".concat(n," ").concat("_2Vcd_dash")},"-"),t[1],o.createElement("span",{className:n},"/"),t[2])},l=e=>{const t=a=>a.map(((a,n)=>{if(a.hide)return null;if(a.customJSX)return a.customJSX;if(a.priceRange)return o.createElement(s,{inputObj:a.inputObj,holderClass:a.holderClass,errors:a.error});if(a.formElements)return o.createElement("div",{className:a.holderClass},t(a.formElements));if(e.isTemplate&&!a.editableForTemplate)return o.createElement("div",{dangerouslySetInnerHTML:{__html:a.input.value},className:i.Z["template-field"]+" "+i.Z.marginLR15});{let t=o.createElement(r.Z,{ref:e=>a.inputRef?a.inputRef.current[a.key]=e:null,rightSection:a.rightSection,inputGroupProps:a.inputGroupProps,label:a.label,holderClass:a.holderClass,input:a.input,key:n,as:a.as,errorMessage:e.errors[a.key],errClass:a.errorClass,showArrow:a.showArrow,className:"sellingPrice"==a.key&&" "!=a.input.value?"rupee-holder":"",disableMovingLabel:a.disableMovingLabel,dontMoveLabel:a.dontMoveLabel,holderClass:(a.holderClass||"")+" input-with-moving-label",prepend:a.prepend,hidePrependBar:a.hidePrependBar,showRightSectionAlways:a.showRightSectionAlways});return a.ignoreParentClass||(t=o.createElement("div",{className:i.Z.marginLR15},t)),t}}));return t(e.formElements)}},11605:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n}),a(91181);var o=a(67294),i=a(81363),r=a(75920);const n=e=>{const[t,a]=(0,o.useState)(!1);let n=(0,o.useRef)(null);(0,o.useEffect)((()=>{setTimeout((()=>{if(n&&n.current)return n.current.addEventListener("scroll",s),()=>{n.current.removeEventListener("scroll",s)}}),500)}));const s=()=>{a(n.current&&n.current.scrollTop>0)};return o.createElement(i.Z,{settings:{modalId:"jdCatModal",variant:"action",class:r.Z["jd-cat-list-modal"]},onHidden:()=>e.showJDCatModal(!1)},o.createElement(i.Z.CloseIcon,{iconClass:r.Z["jd-cat-icon"]+" icon-HDRcross"}),o.createElement("div",{className:r.Z["jd-cat-list-header"]+" "+(t?r.Z["scrolled-header"]:"")},"Justdial Categories"),o.createElement("div",{className:r.Z["jd-cat-list-body"],ref:n},e.jdCatList.map((e=>o.createElement("div",{className:r.Z["jd-cat-list-item"]},e)))))}},29553:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var o=a(67294);const i={"objectional-notify-section":"_2rPe_objectional-notify-section",auditor:"_35qk_auditor",highlight:"_1_GC_highlight","objectional-auditor-text":"_3LdQ_objectional-auditor-text","objectional-notify-icon":"aXGs_objectional-notify-icon","objectional-notify-text":"_3gQq_objectional-notify-text","objectional-notify-subtext":"_8GUy_objectional-notify-subtext","objectional-notify-subtext-highlight":"_1BBT_objectional-notify-subtext-highlight","objectional-notify-section-bulk":"_1llZ_objectional-notify-section-bulk","listing-page":"_2QcD_listing-page"},r=e=>{const{showLink:t=!1,showModal:a}=e;let r=e.isBulkUpload?"We have identified barcode conflict in some of the products’ details.":"We enhance products details from the product library based on the barcode uploaded. We have identified multiple products having the same barcode uploaded by you. You can choose to select the matching product or ignore the suggestion.",n="productConflict"==e.type?r:"We have identified objectionable content in ".concat(e.isBulkUpload?"some of the":"the following"," products’ details. They will go live only post moderation by the audit team."),s="productConflict"==e.type?o.createElement(o.Fragment,null,"These products will be visible under the ",o.createElement("b",null,"Product Confilct")," tab till they get moderated."):o.createElement(o.Fragment,null,"These products will be visible under the ",o.createElement("b",null,"Objectionable Products")," tab till they get moderated.");return o.createElement(o.Fragment,null,e.isAuditor?o.createElement("div",{className:i["objectional-notify-section"]+" "+i.auditor+" "+(e.isBulkUpload?i["objectional-notify-section-bulk"]:"")},o.createElement("div",{className:"icon-Info "+i["objectional-notify-icon"]}),o.createElement("div",{className:i["objectional-notify-text"]},o.createElement("div",null,"Following objectionable content has been found in this product:"),o.createElement("div",{className:i["objectional-auditor-text"]},e.isAuditor.map((e=>o.createElement("div",{className:i["objectional-error"]},o.createElement("span",{className:i.highlight},e.name,":")," ",e.details)))))):o.createElement("div",{className:i["objectional-notify-section"]+" "+(e.isBulkUpload?i["objectional-notify-section-bulk"]:"")},o.createElement("div",{className:"icon-Info "+i["objectional-notify-icon"]}),o.createElement("div",{className:i["objectional-notify-text"]},e.isBulkUpload?"Note:":""," ",n,".",e.isBulkUpload?o.createElement("div",{className:i["objectional-notify-subtext"]},s):null,t&&o.createElement("div",{style:{color:"#0086FF",marginTop:"5px","text-decoration":"underline",cursor:"pointer"},onClick:a},"See Objectionable Error(s)"))))}},23668:(e,t,a)=>{"use strict";a.d(t,{Z:()=>x}),a(91181);var o=a(67294);const i={"prod-file-attachment":"_2JXZ_prod-file-attachment","sub-text":"_3IRH_sub-text","attach-files-container":"_2qpc_attach-files-container","jd-vendor":"_3PYZ_jd-vendor","list-box":"_3LUd_list-box","file-attached":"mwjj_file-attached"};var r=a(14494),n=a(39963),s=a(61878),l=a(49658);const c={"view-uploaded-files-slider":"mx0w_view-uploaded-files-slider","view-upload-files-header":"wufA_view-upload-files-header",isWeb:"_2eLM_isWeb","attach-btn":"_1-9S_attach-btn","no-files-uploaded":"_2QmC_no-files-uploaded","image-wrapper":"_3WNK_image-wrapper"};var d=a(51748);const u="zijU_info-msg";var m=a(57542);const p=function(e){return o.createElement("div",{className:"_2hqN_no-files-uploaded"},o.createElement("div",{className:"_2hF__image-wrapper"},o.createElement("img",{src:"https://image1.jdomni.in/jdomni_email/Attachment_graphic_2004031122.png"})),o.createElement("div",{className:"jd1l_title"},"Select File to Upload"),o.createElement("div",{className:u},"Upload upto 5 files of 25 MB each."),o.createElement("div",{className:u},"Supported formats are Images, PDF and Microsoft Office Documents."),e.hideButton?null:o.createElement("div",{className:"_2mKj_upload-file-btn-wrapper"},o.createElement(m.Z,{size:"lg",className:"_13VV_upload-file-btn",clickHandler:e.onClick},"Upload Files")))};var g=a(38488);const h="_2UEs_upload-title",v=(0,r.$j)(((e,t)=>({...t,fileAttachmentArr:e.products.allProducts[t.variantId].fileAttachmentArr||[],isMobile:e.deviceData.isMobile,...e.products.fileAttachmentData})),{toggleViewFileDetailsSlider:l.Rc,toggleFileProgressBar:l.qz,cancelPendingFiles:l.Rg})((e=>{const{uploadedCount:t=0,uploadPercentage:a=0,errorCount:i=0,allUploaded:r=!1,previouslyUploadedCount:n=0}=e.progressProps;let s=r?"Upload Complete":"Uploading";const l=e.fileAttachmentArr.length-n;return e.showProgressBar&&o.createElement(o.Fragment,null,o.createElement("div",{className:"_3qo7_file-upload-progress-main"},o.createElement("div",{className:"_1Qcs_progress-container"},o.createElement("div",{className:"_1nf3_progress-sub-container"},o.createElement("div",{className:"_25sw_sub-container"},i==e.fileAttachmentArr.length?o.createElement("span",{className:h},"Upload Failed"):o.createElement("span",{className:h},s),o.createElement("span",{className:"_2qQA_upload-count"},"(",t,"/",l," ",l>1?"Files":"File",")"),i&&r?o.createElement("span",{className:"_3ydX_error-count"}," - ",i," ",i>1?"Errors":"Error"):null,r?o.createElement(o.Fragment,null,o.createElement(g.Z,{onClick:()=>{e.toggleViewFileDetailsSlider({show:!0})},className:"".concat("_2MEv_view-details-main"," ").concat(i?"view-details-with-error":"")},o.createElement("span",{className:"kTI2_view-details"},"View Details")),o.createElement(g.Z,{className:"".concat("_1yrc_cancel-progress-bar"," ").concat(e.isMobile?"cancel-mobile":""),onClick:()=>{e.toggleFileProgressBar({show:!1}),e.cancelPendingFiles({variantId:e.variantId})}},o.createElement("span",{className:"icon-HDRcross"}))):null)),o.createElement("div",{className:"_1Ub7_progress-bar-container"},o.createElement("div",{className:"".concat("f9in_file-upload-progress-bar"," ").concat(a>0?"show-background":"hide-background"),style:{width:"".concat(a,"%")}})))))}));var b=a(97241);const f={"uploaded-files-main":"_2FD9_uploaded-files-main","uploaded-files-main-readonly":"_33X8_uploaded-files-main-readonly",isWeb:"_27r8_isWeb","file-name-main":"_2bqU_file-name-main","more-menu-parent":"_1180_more-menu-parent","delete-btn":"U8pq_delete-btn","file-name-extn":"_1S0f_file-name-extn","name-parent":"_2-bq_name-parent","edit-name-main":"_3SxP_edit-name-main","icon-editItem":"_1bRu_icon-editItem","edit-name":"_14xP_edit-name","file-name":"sD9F_file-name","upload-info":"_304p_upload-info","icon-Info":"_2QmQ_icon-Info","info-text":"_1Y-F_info-text","file-ext-main":"_2-Lw_file-ext-main",jpeg:"_2LMv_jpeg",jpg:"_3bSB_jpg",png:"_2KBQ_png",ppt:"_3Tkk_ppt",pptx:"_2LFS_pptx",ppsx:"_1cRM_ppsx",webp:"OYgm_webp",pdf:"_3-gb_pdf",doc:"_15d1_doc",docx:"_1gC3_docx",xls:"CUX5_xls",xlsx:"_2jEo_xlsx","ext-name":"_1baG_ext-name","custom-style":"Kngt_custom-style","icon-trash":"_2iwZ_icon-trash","icon-download":"_3RqM_icon-download"};var _=a(46834);const y=(0,r.$j)(((e,t)=>({...t,fileAttachmentArr:e.products.allProducts[t.variantId].fileAttachmentArr||[],isMobile:e.deviceData.isMobile,token:e.session.token,...e.products.fileAttachmentData})),{deleteAttachmentFile:l.$5,toggleEditDisplayNameModal:l.LQ,showToastMessage:_.Z.showMessage})((e=>{const{uploadedCount:t=0,previouslyUploadedCount:a=0}=e.progressProps,i=(e,t)=>o.createElement(o.Fragment,null,o.createElement("span",{className:"".concat(t)}," "),o.createElement("span",{className:"".concat(f["file-label"])},e));return o.createElement("div",{className:f["uploaded-files-main"]+" "+(e.isMobile?"isMobile":"isWeb")+" "+(e.isReadOnly?f["uploaded-files-main-readonly"]:"")},!t&&!a||e.isReadOnly?null:o.createElement("div",{className:f["upload-info"]},o.createElement("span",{className:"icon-Info"}),o.createElement("div",{className:"".concat(f["info-text"])},"Upload upto 5 files of 25 MB each. Supported formats are images, PDF and Microsoft Office Documents.")),(()=>{let t=[];return e.fileAttachmentArr.forEach((a=>{const r=[{label:i("Delete","icon-trash"),onClick:()=>{(t=>{if(e.deleteAttachmentFile({variantId:e.variantId,fileKey:t.fileKey}),!e.isMobile){let a=t.fileName+" Deleted";e.showToastMessage({showToastMessage:!0,message:a,type:"info",duration:5e3})}})(a)}}];e.isReadOnly||r.unshift({label:i("Download","icon-download"),onClick:()=>{(t=>{if(e.isJdVendor)window.open("".concat(window.location.origin,"/marketplace/static/php/web/b2bWebsite.php?&action=downloadAttachment&fileId=").concat(t.id),"_blank");else{let a=(0,l.d6)({token:e.token});window.open("".concat(window.location.origin,"/marketplace/static/php/web/b2bWebsite.php?action=downloadAttachment&token=").concat(a,"&fileId=").concat(t.id),"_blank")}})(a)}}),a.uploaded&&!a.isDeleted&&t.push(o.createElement("div",{className:f["file-name-main"],key:a.id||a.fileKey},o.createElement("div",{className:f["file-name-extn"]},o.createElement("div",{className:"".concat(f["file-ext-main"]," ").concat(f[a.ext])},o.createElement("div",{className:f["ext-name"]},a.ext)),o.createElement("div",{className:f["name-parent"]},o.createElement("div",{className:f["file-name"]},a.fileName),e.isReadOnly?null:o.createElement("div",{className:"".concat(f["edit-name-main"]," ").concat(e.isMobile?"":"hover-class"),onClick:()=>(t=>{let a={fileName:t.fileName.split(".")[0]};e.toggleEditDisplayNameModal({show:!0,modalData:a,currentFile:t})})(a)},o.createElement("div",{className:"icon-editItem"}),o.createElement("div",{className:f["edit-name"]},"EDIT DISPLAY NAME")))),e.isReadOnly?null:o.createElement("div",{className:"more-menu-parent"},o.createElement(b.Z,{list:r,menuClass:f["delete-btn"],customClass:e.isMobile?"":f["custom-style"]}))))})),t})())}));var E=a(90651),P=a(66055),w=(a(9669),a(97293));function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e}).apply(this,arguments)}const S=(0,r.$j)(((e,t)=>({...t,fileAttachmentArr:e.products.allProducts[t.variantId].fileAttachmentArr||[],uploadedFileModalData:e.products.uploadedFileModalData,deviceData:e.deviceData,isReadOnly:e.session.isReadOnly,...e.products.fileAttachmentData,permissionData:e.products.fileAttachmentData.permissionData,ownerName:e.permissions.ownerName,packageId:e.permissions.packageId,storeName:e.permissions.storeName,ownerMobileNumber:e.permissions.ownerMobileNumber,ownerEmail:e.permissions.ownerEmail})),{toggleEditDisplayNameModal:l.LQ,renameAttachmentFile:l.bc,resetFileAttachmentData:l.jQ})((e=>{const[t,a]=(0,o.useState)(!0);(0,o.useEffect)((()=>{setTimeout((()=>{a(e.hideAddButton)}),100)}),[e.hideAddButton]),(0,o.useEffect)((()=>{e.progressProps.allDeleted&&a(e.hideAddButton)}),[e.progressProps.allDeleted]);const i={header:{heading:"Files",className:"".concat(c["view-upload-files-header"]),leftIcons:[{className:"icon-HDRback",onClick:e=>{w.Z.closeCurrent()}}]},slider:{className:"".concat(c["view-uploaded-files-slider"]," ").concat(e.deviceData.isMobile?"":"isWeb")},onHidden:()=>{e.closeSlider()}};return o.createElement(o.Fragment,null,o.createElement(d.Z,i,o.createElement("div",{className:c["view-files-slider-main"]},!e.fileAttachmentArr.length||e.progressProps.allDeleted||!e.progressProps.uploadedCount&&!e.progressProps.previouslyUploadedCount?o.createElement(o.Fragment,null,e.uploadedCount?null:o.createElement(v,{variantId:e.variantId,progressProps:e.progressProps}),o.createElement(p,{onClick:e.uploadFiles,hideButton:!e.progressProps.allUploaded&&e.fileAttachmentArr.length>0})):o.createElement(o.Fragment,null,o.createElement(v,{variantId:e.variantId,progressProps:e.progressProps}),e.progressProps.uploadedCount||e.progressProps.previouslyUploadedCount?o.createElement(y,{variantId:e.variantId,progressProps:e.progressProps,isReadOnly:e.isReadOnly,isJdVendor:e.isJdVendor}):o.createElement(p,{onClick:e.uploadFiles,hideButton:!e.progressProps.allUploaded&&e.fileAttachmentArr.length>0}))),e.uploadedFileModalData.show?o.createElement(P.Z,I({inputObj:e.uploadedFileModalData.inputObj.inputFields},e.uploadedFileModalData.inputObj.modalData,{customValidation:!0,validateModalData:(e,t)=>{let a=e[0];a.input.value?t({isError:!1,errorMsg:""}):t({isError:!0,errorMsg:"Please Enter Display Name",inputField:a})},onAddEditModalBtnClick:t=>{let a=t[0].input.value;e.renameAttachmentFile({fileName:a,variantId:e.variantId,fileKey:e.currentFile.fileKey})},onModalClose:()=>{e.toggleEditDisplayNameModal({show:!1})}})):null,t||e.isReadOnly?null:o.createElement(E.Z,{btnText:"Attach Files",iconClass:"icon-plus",className:"attach-btn",onClick:e.uploadFiles,btnWidth:"9.125rem"})))})),C=(0,r.$j)(((e,t)=>({...t,fileAttachmentArr:e.products.allProducts[t.variantId].fileAttachmentArr||[]})))((e=>{const t={header:{heading:"Upload History",className:"".concat("_2_MB_view-details-files-header")},slider:{className:"".concat("_36If_view-details-files-slider")},onHidden:()=>{e.closeSlider()}};return o.createElement(d.Z,t,o.createElement("div",{className:"_3Rq3_details-files-slider-main"},(()=>{let t=[];return e.fileAttachmentArr.forEach((e=>{let a="",i=e.fileName+"."+e.ext;e.isFileLimitError?a="Max 5 Files Allowed":e.isFileSizeError?a="File Size Cannot Exceed 25MB":void 0===e.uploaded&&(a="."+e.ext+" File Format Isn't Supported"),e.isPreviouslyUploaded||e.isDeleted||t.push(o.createElement("div",{className:"_37ap_file-name-main"},e.uploaded?o.createElement("div",{className:"icon-Checkmark"}):o.createElement("div",{className:"icon-alert_outline2 icon-error"}),o.createElement("div",{className:"-owb_file-name-status"},o.createElement("div",{className:"_1IUV_file-name"},i),e.uploaded?o.createElement("div",{className:"QAZT_file-status"},"Uploaded "):o.createElement("div",{className:"dz8o_error-msg"},e.erroMsg?e.erroMsg:a))))})),t})()))}));var k=a(66107),N=a(82680);function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e}).apply(this,arguments)}const x=(0,r.$j)(((e,t)=>({...t,fileAttachmentArr:e.products.allProducts[t.variantId]&&e.products.allProducts[t.variantId].fileAttachmentArr||[],supplierId:e.session.supplierId,showViewDetailsSlider:e.products.fileAttachmentData.showViewDetailsSlider,allUploaded:e.products.fileAttachmentData.allUploaded,permissionData:e.products.fileAttachmentData.permissionData,storeId:e.permissions.storeId})),{setFileAttachmentData:l.ZX,toggleViewFileDetailsSlider:l.Rc,toggleFileProgressBar:l.qz,cancelPendingFiles:l.Rg,markPreviouslyUploadedFiles:l.TD})((e=>{const t=(0,o.useRef)(null),[a,r]=(0,o.useState)(!1),l=(0,o.useRef)(null),c=e.fileAttachmentArr,d=(0,o.useRef)(null),u=c.filter((e=>(e.uploading||e.uploaded)&&!e.isDeleted)),m=u.length;let p="";m&&(p=1==m?u[0].fileName:u.length+" Files");const g=e=>e.split(".").pop(),h=e=>{if(console.log(e),"uploadStarted"==e.event){console.log(e.event),_();let t={fileName:e.filename,uploading:!0,uploaded:!1,ext:g(e.filename),fileKey:+new Date};d.current=t.fileKey,console.log(t),y(t)}else"uploadProgress"==e.event&&console.log(e.event);if(e.success){let t=JSON.parse(e.data),a={fileName:e.filename,uploading:!1,uploaded:!0,isFileLimitError:5==u.length,ext:g(e.filename),fileKey:d.current,id:atob(t[0].id)};console.log(a),y(a)}},v=e=>{e?(l.current=window.scrollY,r(e)):(r(e),setTimeout((()=>{l.current&&window.scrollTo(0,l.current),l.current=null})))},b=["application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/msword","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.oasis.opendocument.text","application/pdf","image/png","image/jpeg","image/jpg","image/webp"],f=[".docx",".doc",".xls",".xlsx",".ppt",".pptx",".pps",".ppsx",".odt",".pdf",".png",".jpg",".webp"],_=()=>{e.fileAttachmentArr.length>0&&(e.cancelPendingFiles({variantId:e.variantId}),e.markPreviouslyUploadedFiles({variantId:e.variantId}))},y=t=>{const a=t.ext,o={uploaded:t.uploaded,uploading:t.uploading,fileName:t.fileName.replace(new RegExp("."+a+"$"),""),ext:a,id:t.id,isFileLimitError:t.isFileLimitError,isFileSizeError:t.isFileSizeError,fileKey:t.fileKey};e.setFileAttachmentData({variantId:e.variantId,data:o}),v(!0),e.toggleFileProgressBar({show:!0})},E=(0,k.Z)((e=>o.createElement("div",T({className:"list-box ".concat(p?"file-attached":"","  ").concat(e.isJdVendor?"jd-vendor":""," ").concat(i["prod-file-attachment"]," ").concat(e.rippleClass," ").concat(e.isReadOnly?"readonly-attach":""),onClick:e.onClick},e.rippleHandler),o.createElement("div",{className:i["attach-files-container"]},o.createElement("div",{className:i.title},o.createElement("div",null,"Attach Files"),p?o.createElement("div",{className:i["sub-text"]},p):null)),o.createElement("i",{className:"icon-Next"}),e.renderRipple()))),P={uploadedCount:0,uploadPercentage:0,errorCount:0,allUploaded:!1,previouslyUploadedCount:0,deletedCount:0,allDeleted:!1};c.forEach((e=>{e.isDeleted&&(P.deletedCount+=1),e.isPreviouslyUploaded?P.previouslyUploadedCount+=1:e.uploaded?(P.uploadedCount+=1,P.uploadPercentage+=20):(e.isFileLimitError||void 0===e.uploaded)&&(P.errorCount+=1,P.uploadPercentage+=20)})),P.uploadedCount+P.errorCount==c.length-P.previouslyUploadedCount&&(P.allUploaded=!0,P.uploadPercentage=100),P.deletedCount+P.errorCount==c.length&&(P.allDeleted=!0);const w=[...b,...f];return o.createElement(o.Fragment,null,!m&&e.isReadOnly?null:o.createElement(E,T({},e,{onClick:a=>{if(m)v(!0),e.toggleFileProgressBar({show:!1});else if(window.jdInterface&&!window.jdInterface.openNativeFileChooser){const t={results:{storeid:e.storeId}};(0,N.W4)({outletDetails:t,supid:e.supplierId,callback:h})}else t.current.triggerClick(!0)}})),e.isReadOnly?null:o.createElement(n.Z,{accept:w.join(),onChange:t=>{_();const a=u.length;(0,s.b)({isJdVendor:e.isJdVendor,fileLimit:5-a,maxFileSize:26214400,data:t.target.files,validMimeType:b,validExtensions:f,supplierId:e.supplierId,cb:function(e){y(e)}})},ref:t}),a&&o.createElement(S,{closeSlider:()=>{v(!1),e.cancelPendingFiles({variantId:e.variantId})},variantId:e.variantId,uploadFiles:a=>{if(window.jdInterface&&!window.jdInterface.openNativeFileChooser){const t={results:{storeid:e.storeId}};(0,N.W4)({outletDetails:t,supid:e.supplierId,callback:h})}else t.current.triggerClick(!0)},hideAddButton:!P.allUploaded||5==u.length||!m,progressProps:P,isJdVendor:e.isJdVendor}),e.showViewDetailsSlider&&o.createElement(C,{variantId:e.variantId,closeSlider:()=>{e.toggleViewFileDetailsSlider({show:!1})},progressProps:P}))}))},78839:(e,t,a)=>{"use strict";a.d(t,{Z:()=>b}),a(91181);var o=a(67294),i=a(51748),r=a(38488),n=a(67005),s=a(26351),l=a(51406),c=a(14494),d=a(79034),u=a(12603),m=a(18360),p=a(2850),g=a(97293);const h=e=>{let t=e.uomArr||[],a=[],i=[],r=[];const s=()=>{document.getElementById("searchUom").blur()},c=t.length;return"add"!=e.pageType||0!=c||e.disableCustom||(t=[{val:e.searchText,displayVal:e.searchText}]),0==t.length||e.isEdit&&1==t.length&&!t[0].singular?o.createElement("div",{className:"".concat(d.Z["no-result-container"]," ").concat(n.Z["no-result-holder"]),onTouchMove:s},o.createElement("div",{className:"".concat(e.inputFocus&&e.deviceData.isIphone?n.Z["no-result-fixed"]:""," ").concat(n.Z["no-result-product"])},o.createElement("img",{src:m.Z.NO_SEARCH,className:d.Z["no-result-img"]}),o.createElement("h3",{className:d.Z["no-result-heading"]},"No Results Found"))):(t.forEach((t=>{let r=o.createElement(l.Z,{uom:t.displayVal,onClick:a=>{e.onSelectUOM(a,t),e.closeSlider()},searchText:e.searchText,isPopular:t.isPopular});t.isPopular?a.push(r):i.push(r)})),""==e.searchText&&(a.length&&(a=o.createElement(o.Fragment,null,o.createElement("div",{className:n.Z["prod-head"]},"POPULAR UNITS"),a.map(((e,t)=>o.cloneElement(e,{isLastChild:a.length-1==t}))))),i.length&&(i=o.createElement(o.Fragment,null,c?o.createElement("div",{className:n.Z["prod-head"]},"OTHER UNITS"):null,i))),r.push(a),r.push(i),o.createElement("div",{className:"".concat(n.Z["result-holder"]),onTouchMove:s,"body-scroll-lock-ignore":"true"},o.createElement("div",{className:n.Z["result-list"],onScroll:t=>{(t=>{e.setScroll(t.target.scrollTop>5)})(t)}},r)))},v=o.forwardRef(((e,t)=>{const[a,l]=(0,o.useState)(""),c=o.createRef(),[d,m]=(0,o.useState)(!1),[v,b]=(0,o.useState)(null),[f,_]=(0,o.useState)(!0),y=()=>{window.history.back(),l("")},E=e=>{let t=e?e.currentTarget.value:"";l(t),e||c.current.focus()},P=(e=>a?e.filter((e=>{var t="|$$|"+e.synonym.toLowerCase()+"|$$|";let o=!0;return a&&-1==t.indexOf(a.toLowerCase())&&(o=!1),o})):e)(e.uomList||[]);(0,o.useEffect)((()=>{null!=c.current&&c.current.focus()}),[]),(0,o.useEffect)((()=>{l("")}),[e.uomType]);const w=e.deviceData.isMobile,I=w||e.fromVendorWeb;return(0,p.Z)({callback:(e,t)=>{t.currScroll.scrollTop?m(!0):m(!1)},element:v||null,deps:[v]}),o.createElement(i.Z,{onHidden:t=>{e.showHideSlider&&e.showHideSlider(t),e.onHidden&&e.onHidden()},header:I?null:{heading:"Select Unit",variant:"secondary",hideLeftIcon:!e.showAddEditProduct,headingClass:n.Z["uom-slider-header-title"],className:n.Z["uom-slider-header"],rightIcons:[{className:"icon-HDRcross",onClick:t=>{e.showAddEditProduct?g.Z.closeAll():g.Z.closeCurrent()}}]},slider:{className:n.Z["search-uom-slider"]},updateScrollContRef:e=>{b(e)}},e.uomType?o.createElement("div",{className:s.Z["search-holder"]+" "+n.Z["search-uom-holder"]+" "+(w?"":n.Z.isWeb)+" "+(e.fromVendorWeb?n.Z.isVendorWeb:"")},o.createElement("div",{className:"".concat(s.Z["search-header"]," ").concat(d?" scrolled":"")},o.createElement("div",{className:s.Z["icon-holder"],onClick:()=>I&&y()},o.createElement("i",{className:"".concat(s.Z["back-icon"],"  icon-").concat(I?"HDRback":"HDRsearch")})),o.createElement("input",{ref:c,type:"text",className:s.Z["search-input"],placeholder:"Search Unit",onChange:e=>E(e),value:a,autoFocus:!0,autocomplete:"off",id:"searchUom",onFocus:()=>{_(!0)},onBlur:()=>{_(!1)}}),a&&o.createElement(r.Z,{className:s.Z["icon-holder"],onClick:()=>E()},o.createElement("i",{className:"".concat(s.Z["clear-icon"]," icon-HDRcross")}))),o.createElement(u.Z,null,o.createElement(h,{uomArr:P,onSelectUOM:e.onSelectUOM,closeSlider:y,searchText:a,deviceData:e.deviceData,inputFocus:f,isEdit:e.itemInfo.isEdit,setScroll:m,pageType:e.pageType,disableCustom:e.disableCustom}))):null)})),b=(0,c.$j)(((e,t)=>{const a=t.uomType;let o=a?e.uom[a]:[];return o=o.length?o.filter((e=>!["Session","Visit"].includes(e.singular))):[],{uomList:o,itemInfo:e.items.itemInfo,deviceData:e.deviceData,showAddEditProduct:e.products.showAddEditProduct}}),null,null,{forwardRef:!0})(v)},15667:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r}),a(91181);var o=a(67294),i=a(78839);const r=o.forwardRef(((e,t)=>{let a=(0,o.useRef)({});const[r,n]=(0,o.useState)(!1),s=e=>{n(e)},l=()=>{s(!1)};return(0,o.useImperativeHandle)(t,(()=>({openCloseUOMSlider:s,closeUOMSliderOnBack:l}))),r?o.createElement(i.Z,{ref:a,uomType:e.uomType,pageType:e.isAddProduct?"add":"edit",onSelectUOM:e.onSelectUOM,showUOMType:e.showUOMType,showHideSlider:n}):(e.isMobile||e.onUomSliderClose&&e.onUomSliderClose(),!0)}))},51406:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var o=a(67294),i=a(66107),r=a(67005),n=a(15304);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e}).apply(this,arguments)}const l=(0,i.Z)((e=>o.createElement("div",s({className:r.Z["prod-main-uom"]+" "+e.rippleClass+" ".concat(e.isLastChild?r.Z.isLastChild:"")},e.rippleHandler,{onClick:e.onClick}),o.createElement("div",{className:r.Z["prod-uom"]},e.searchText?o.createElement(n.Z,{search:e.searchText,text:e.uom}):o.createElement("p",null,e.uom)),e.renderRipple())))},88827:(e,t,a)=>{"use strict";a.d(t,{Z:()=>m});var o=a(67294),i=a(75920),r=(a(91181),a(9175)),n=a(75758),s=a(71017);let l=["53px","53px","106px","159px","34vh"];const c=e=>{const[t,a]=o.useState(""),[c,d]=o.useState([]),[u,m]=o.useState(null),[p,g]=o.useState(null),[h,v]=o.useState(!0);let b=[],f=100/(Object.keys(e.btnArr).length+1)-2+"%",_={width:f},y={position:"relative",width:f},E={"min-height":l[c.length]||"34vh"},P=e.AuditWebsiteBtn[0]||[];(0,o.useEffect)((()=>{let e=[],t=P[1].jdBestPracticeWebsiteUrl&&P[1].jdBestPracticeWebsiteUrl.split(",")||[],a=P[0].jdWebsiteUrl&&P[0].jdWebsiteUrl.split(",")||[];t.length&&t.forEach(((t,a)=>{e.push({type:"BP"+(a+1),value:t})})),a.length&&a.forEach(((t,a)=>{e.push({type:"OW"+(a+1),value:t})})),d(e)}),e.AuditWebsiteBtn);const w=()=>{let e=[];return c.map((t=>{e.push(o.createElement("div",{className:i.Z["data-list-holder"]},o.createElement("div",{className:i.Z["data-list-title"]},o.createElement("span",{className:i.Z["data-list-type"]},t.type)),t.value&&o.createElement("div",{className:i.Z["data-list-url"],onClick:e=>{var a,o;a=e,o=t.value,a.stopPropagation(),o&&window.open(o,"_blank")}},t.value)))})),e};return P[0]&&P[0].jdWebsiteUrl||P[1]&&P[1].jdBestPracticeWebsiteUrl?b.push(o.createElement("div",{style:y,className:"website-option"},o.createElement(n.Z,{content:e.fromListingPage?o.createElement(o.Fragment,null,c.length>4&&p?o.createElement("div",{className:"websites-top-fake-list"}):null,o.createElement(s.Z,{style:E,onScroll:()=>{if(u&&u.current){let e=u.current.scrollHeight-u.current.clientHeight;u.current.scrollTop>25?g(!0):g(!1),e-u.current.scrollTop>25?v(!0):v(!1)}},updateScrollContRef:e=>{m(e)}},o.createElement("div",{className:"websites-container"},w())),c.length>4&&h?o.createElement("div",{className:"websites-bottom-fake-list"}):null):o.createElement("div",{className:"websites-container"},w()),containerEle:t,className:"websites-popover",contentClass:"websites-content-popover",eventType:"click",fixToBottom:!0},o.createElement(r.Z,{className:i.Z["audit-btn"],variant:"default",style:{width:"100%"}},"Website")))):b.push(o.createElement(r.Z,{style:{..._,opacity:"0.5",color:"#0086FF",borderColor:"#0086FF"},disabled:!0,variant:"default",className:i.Z["audit-btn"]},"Website")),e.btnArr.map((e=>{b.push(o.createElement(r.Z,{variant:"default",style:_,clickHandler:e.onClick,className:i.Z["audit-btn"]},e.name))})),o.createElement("div",{className:i.Z["button-holder"],ref:e=>a(e)},b)};var d=a(16550),u=a(23622);const m=e=>{let t=(0,o.useRef)(null),a=(0,d.k6)(),s=o.useRef(null);const l=(0,u.iP)({checkType:!0});let m="";return e.session&&e.session.docId&&(m=e.session.docId),o.createElement(o.Fragment,null,o.createElement("div",{className:i.Z["data-header"]},e.session&&e.session.companyName),o.createElement("div",{className:i.Z["data-address"]},e.session&&e.session.city+"-"+e.session.state),o.createElement("div",{className:i.Z["data-docid-holder"]},o.createElement("div",{className:i.Z["display-data-docid"]},m),o.createElement("textarea",{className:i.Z["data-docid"],ref:t,readonly:"readonly",value:m}),o.createElement("div",{className:i.Z["product-id-copy-holder"],onClick:()=>{t.current.select(),document.execCommand("copy"),e.showToastMessage({showToastMessage:!0,message:"Doc ID Copied",duration:5e3})}},o.createElement("span",{className:i.Z["product-id-copy-icon"]+" icon-Copy"}),"COPY")),e.showTotalCount&&e.totalCount&&!e.isAddProduct&&o.createElement("div",{className:i.Z["data-total-count"]},"Total Products for Audit: "+e.totalCount),!e.dontShowViewButton&&!e.isAddProduct&&o.createElement("div",{className:i.Z["view-all-btn"]},o.createElement(r.Z,{variant:"default",block:!0,clickHandler:()=>{const e=(0,u.iP)({checkType:!0});if(e.searchAudit)window.history.back();else{let t="/products?docId=".concat(m,"&searchBy=docId&showResultBy=contracts&useAuditApi=true&isAuditUrl=true&isSpecialContract=true&fromFetchFlow=true");e.loadedInIframe&&(t+="&loadedInIframe=true"),a.push(t)}}},"View All Products")),!e.dontShowButtons&&o.createElement(c,{btnArr:e.auditBtnArray,AuditWebsiteBtn:e.AuditWebsiteBtn,fromListingPage:e.fromListingPage}),e.dataSource&&e.dataSource.length&&!e.isAddProduct&&"contractorv2"!=e.type?o.createElement("div",{className:i.Z["contract-source-btn"],ref:s,style:{position:"relative",display:"inline-block"}},o.createElement(n.Z,{content:o.createElement("div",{className:"data-source-container"},(()=>{let t=[];return e.dataSource&&e.dataSource.map((e=>{t.push(o.createElement("div",{className:i.Z["data-list-holder"]},o.createElement("div",{className:i.Z["data-list-title"]},o.createElement("span",null,e.name)," - ",o.createElement("span",{className:i.Z["data-list-type"]},e.type)),e.value&&o.createElement("div",{className:i.Z["data-list-url"],onClick:t=>{var a,o;a=t,o=e.value,a.stopPropagation(),window.open(o,"_blank")}},e.value)))})),t})()),containerEle:s,className:"data-source-popover",eventType:"click"},o.createElement(r.Z,{variant:"default",block:!0},"Contractor Source Details"))):null,l.fetchNextAudit&&!l.searchAudit&&"skipContract"!=e.from&&"editPage"==e.belongsTo&&"furlough"==e.type&&o.createElement("div",{className:i.Z["view-all-btn"]},o.createElement(r.Z,{variant:"default",block:!0,clickHandler:()=>{e.updateAuditDocModal({from:"skipContract"})}},"Skip Contract For Audit")))}},53973:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s}),a(91181);var o=a(67294),i=a(81363);const r={"confirm-delete-modal":"_3c3S_confirm-delete-modal","bold-text":"wJoq_bold-text",title:"_2W0v_title",subtitle:"_3frH_subtitle","button-wrapper":"_3ZMN_button-wrapper","modal-body":"TpdY_modal-body","delete-btn":"bVVs_delete-btn","delete-modal-container":"_3GUt_delete-modal-container"};var n=a(57542);const s=(0,a(33688).Z)((e=>{const[t,a]=(0,o.useState)(e.productData.productName);return(0,o.useEffect)((()=>{if(t&&t.length>100){let t=e.productData.productName.substr(0,100)+"...";a(t)}}),[]),o.createElement("div",{className:r["add-edit-block-modal"]},o.createElement(i.Z,{settings:{modalId:"confirm-delete-modal",variant:"action",class:r["delete-modal-container"]},onHidden:()=>e.onModalClose()},o.createElement(i.Z.CloseIcon,null),o.createElement(i.Z.Header,null,o.createElement("span",{className:r.title},e.isMultiSelect&&e.productsLength>1?"Delete Products":"Delete Product")),o.createElement(i.Z.Body,{className:r["modal-body"]},o.createElement("div",{className:r.subtitle},"Are you sure you want to delete ",e.isMultiSelect&&e.productsLength>1?e.productsLength+" products":e.isGalleryProd?"this product":o.createElement("span",{className:r["bold-text"]},t),"?")),o.createElement(i.Z.Footer,null,o.createElement("div",{className:r["button-wrapper"]},o.createElement(n.Z,{size:"lg",clickHandler:e.onDelete,className:"".concat(r["delete-btn"])},e.isMultiSelect&&e.productsLength>1?"Delete Products":"Delete Product")))))}),null,"confirm-delete-modal")},50386:(e,t,a)=>{"use strict";a.d(t,{Z:()=>C}),a(91181);var o=a(67294),i=a(16550),r=a(14494),n=a(51748),s=a(97241),l=a(11548),c=a(9175),d=a(50231),u=a(66107),m=a(97293),p=a(30045),g=a(47799),h=a(49658),v=a(39963);const b={"video-listing-container":"_1vvd_video-listing-container","video-holder":"_3Kl__video-holder","icon-holder":"n1WR_icon-holder","menu-list":"_3p7A_menu-list","video-player-wrapper":"ddCW_video-player-wrapper","react-player__preview":"_1R5b_react-player__preview","bottom-border":"_1bf5_bottom-border","overlay-div":"_3plw_overlay-div","player-holder":"_2LGA_player-holder","thumbnail-holder":"_1nJj_thumbnail-holder","play-icon":"jwXw_play-icon","video-info-holder":"_6dCK_video-info-holder",name:"_1kzb_name","video-tag":"_2TEx_video-tag",error:"_3ehS_error","helper-text":"_29Bl_helper-text","no-video-holder":"_8Kpp_no-video-holder","no-video-img":"_1Zqf_no-video-img",heading:"_25dm_heading",subtext:"_2wEl_subtext","upload-btn":"_2yR6_upload-btn","holder-hovered":"_3cPo_holder-hovered","animate-btn-text":"_3SfS_animate-btn-text","large-plus-icon":"_3aH8_large-plus-icon","status-dot":"_3uh5_status-dot",warning:"kZlC_warning",success:"_18A-_success","video-player-holder":"_1xhK_video-player-holder","react-player-holder":"_3zZl_react-player-holder","header-icon-holder":"ZcEA_header-icon-holder","close-icon-holder":"_1Y_a_close-icon-holder","back-icon-holder":"_2QaQ_back-icon-holder","footer-btn-holder":"_2QsK_footer-btn-holder","footer-btn":"_1_V6_footer-btn",scrolled:"_3BIU_scrolled","video-library-popover":"_3zIv_video-library-popover",arrow:"_4jyo_arrow"};var f=a(39705),_=a(38488);function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e}).apply(this,arguments)}const E=e=>{const t=(0,o.useCallback)((()=>{e.onClick&&e.onClick()}),[e.onClick]);return o.createElement(n.Z,{slider:{className:b["video-player-holder"]},onHidden:e.onHidden},!e.isMobile&&o.createElement(_.Z,{className:b["back-icon-holder"]+" "+b["header-icon-holder"],onClick:m.Z.closeCurrent},o.createElement("i",{className:"icon-HDRback"})),o.createElement(_.Z,{className:b["close-icon-holder"]+" "+b["header-icon-holder"],onClick:m.Z.closeCurrent},o.createElement("i",{className:"icon-HDRcross"})),o.createElement("div",{className:b["react-player-holder"]},o.createElement(f.Z,y({},e,{onClick:t}))),o.createElement("div",{className:b["footer-btn-holder"]},o.createElement(c.Z,{className:b["footer-btn"],clickHandler:()=>e.onVideoSelect(),size:"lg"},"Select Video")))};var P=a(48230),w=a(2850);function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e}).apply(this,arguments)}const S=(0,u.Z)((e=>{const[t,a]=(0,o.useState)(!1);let i=e.videoData;const r=(0,o.useCallback)((()=>!e.isMobile&&a(!0)),[]),n=(0,o.useCallback)((()=>!e.isMobile&&a(!1)),[]),c=(0,o.useCallback)((t=>{t.stopPropagation(),!e.isMobile&&a(!1)}),[]),d=(0,o.useCallback)((e=>e.stopPropagation()),[]);return o.createElement("div",I({},e.rippleHandler,{className:"".concat(b["video-holder"]," ").concat(t?b["holder-hovered"]:""),onClick:function(t){[2,3].includes(t.detail)||1!=t.detail||e.onVideoSelect()},onMouseOver:r,onMouseLeave:n}),o.createElement("div",{className:b["player-holder"],style:i.uploaded?null:{background:"none"}},o.createElement(f.Z,{showThumbnail:!0,thumbnailClass:b["thumbnail-holder"],iconClass:b["play-icon"],imgURL:i.imgUrl,thumbnailURL:i.thumbnailURL,imgIndex:e.id,uploaded:i.uploaded,sqSize:44,source:i.source,onClick:t=>{t.stopPropagation(),e.openPlayerSlider(e.id)}}),e.status&&"LIVE"!=e.status?o.createElement("div",{className:"".concat(b["status-dot"]," ").concat(e.tagVariant)}):null),o.createElement("div",{className:b["video-info-holder"]},o.createElement("div",{className:b["video-info"]},o.createElement("div",{className:b.name},i.videoName),e.status?o.createElement(l.Z,{variant:e.tagVariant},o.createElement("span",{className:b["video-tag"]},e.status)):null,"error"==e.status?o.createElement(o.Fragment,null,o.createElement("div",{className:b.error},"The video could not be processed"),o.createElement("div",{className:b["helper-text"]},"Please delete it and upload it again")):null,!e.uploaded&&e.videoUpload.videos[e.id]?o.createElement("div",{className:b["progress-text"]},e.videoUpload.videos[e.id].progress>50?"Processing":"Uploading"," Video ",e.videoUpload.videos[e.id].progress,"%"):null),o.createElement("div",{className:b["more-menu-holder"],onMouseOver:c,onMouseLeave:d},o.createElement(s.Z,{onToggle:()=>e.setActiveEl(e.id),list:e.list,menuClass:b["menu-list"],parentClass:b["icon-holder"]}))),o.createElement("div",{className:b["bottom-border"]}),e.renderRipple&&e.renderRipple())})),C=(0,r.$j)(((e,t)=>({videoLibrary:e.videoLibrary,session:e.session,videoUpload:e.videoupload,isMobile:e.library.deviceData.isMobile})),{getVideoLibraryData:p.DY,toggleLibrarySlider:p.wk,selectVideo:p.Uw,deleteVideo:p.FM,getVendorProducts:h.kv,updateProductMedia:h.s7,toggleUploadOptions:P.PH})((e=>{const[t,a]=(0,o.useState)(null),[r,s]=(0,o.useState)(!1),[l,u]=(0,o.useState)({}),[p,h]=(0,o.useState)(null),[f,_]=(0,o.useState)(!1),y=((0,i.k6)(),o.useRef(null));(0,w.Z)({callback:(e,t)=>{t.currScroll.scrollTop?_(!0):_(!1)},element:p||null,deps:[p]});const P=[{label:"Select",onClick:()=>{C()}},{label:"Delete",onClick:()=>{let a={videoId:t};e.deleteVideo(a),e.getVendorProducts({})}}],C=a=>{let o={videoId:a||t,variantId:e.videoLibrary.variantUnderEdit,ignoreSave:e.videoLibrary.ignoreSave||e.ignoreSave,fromListing:e.fromListing||!1};o.videoId=Number(o.videoId),e.videoLibrary.onFileUpload&&e.videoLibrary.onFileUpload({forVideo:!0,imageUrl:{...e.videoLibrary.videos[o.videoId],videoId:o.videoId}}),e.selectVideo(o),window.history.back()},k=(t,a="top")=>{e.toggleUploadOptions({show:!0,type:"video",fromVideoListing:!0,data:{variantId:e.videoLibrary.variantUnderEdit,ignoreSave:e.videoLibrary.ignoreSave,options:["camera","url"]},style:{position:"absolute",left:t.clientX,top:t.clientY-document.body.getBoundingClientRect().top},containerInfo:{element:t.currentTarget,pos:a,customClass:"top"==a?b["video-library-popover"]:""}})},N=Object.keys(e.videoLibrary.videos).map(Number).sort(((e,t)=>e<t?1:-1)).filter((e=>!isNaN(e))),T=(0,o.useMemo)((()=>m.Z.getOpenSliders().length),[]);return o.createElement(o.Fragment,null,o.createElement(n.Z,{header:{heading:"Select Video",variant:"secondary",hasBorder:!0,...e.isMobile||T>=1?{}:{leftIcons:[]},className:f?"".concat(b.scrolled):""},onHidden:()=>{e.toggleLibrarySlider({flag:!1})},updateScrollContRef:e=>{h(e)}},o.createElement("div",{className:b["video-listing-container"]},N.length?N.map(((t,i)=>{let r,n=e.videoLibrary.videos[t],l="";return n.uploaded&&(r="REVIEWED"==n.status?"LIVE":"UNDER_REVIEW"==n.status?"VIDEO IN REVIEW":"error",l="LIVE"==r?"success":"warning"),o.createElement(S,I({},e,{videoData:n,status:r,tagVariant:l,openPlayerSlider:t=>(t=>{a(t),u(e.videoLibrary.videos[t]),s(!0)})(t),list:P,key:i,imgIndex:t,onVideoSelect:()=>C(t),setActiveEl:e=>a(e),id:t}))})):o.createElement("div",{className:b["no-video-holder"]},o.createElement("img",{src:"https://image1.jdomni.in/jdomni_email/graphic.svg",className:b["no-video-img"]}),o.createElement("div",{className:b.heading},"Select Video to Upload"),o.createElement("div",{className:b.subtext},"Upload a video file with .MP4 or .MOV format and file size under 100 MB (Recommended video quality of 360p or higher)"),o.createElement(c.Z,{className:b["upload-btn"],size:"lg",clickHandler:e=>k(e,"bottom")},"Upload Video")),Object.keys(e.videoLibrary.videos).length?o.createElement(d.Z,{style:{boxShadow:"0 2px 5px 0.05px rgba(0,0,0,.02), 0 6px 10px 0 rgba(0,0,0,.05), 0 1px 18px 0 rgba(0,0,0,.1)"},btnText:"Upload Video",iconClass:b["large-plus-icon"]+" icon-plus",onClick:k,btnWidth:"9.125rem",btnTextClass:"animate-btn-text",element:p}):null)),o.createElement(v.Z,I({},e,{onChange:t=>{let a={...e};a.variantId=e.videoLibrary.variantUnderEdit,a.forVideo=!0,(0,g.Q_)(t,a),window.history.back()},ref:y,forVideo:!0})),r?o.createElement(E,I({},l,{isMobile:e.isMobile,playing:!0,onHidden:()=>{s(!1)},onVideoSelect:()=>{C(),setTimeout((()=>{window.history.back()}),300)}})):null)}))},1723:(e,t,a)=>{"use strict";a.d(t,{Z:()=>S}),a(91181);var o=a(97293),i=a(67294),r=a(14494),n=a(88822),s=a(49658),l=a(46834),c=a(81363),d=a(9175),u=a(2450),m=a(47799),p=a(25429),g=a(16550);a(41817);const h=({onHidden:e,selectedImages:t,deletePhotos:a,isMobile:o})=>{const r=t.length>1?"Photos":"Photo";return i.createElement(c.Z,{settings:{modalId:"basic-modal",class:"photo-modal "+(o?"":"web-modal"),variant:"action"},onHidden:e},i.createElement(c.Z.CloseIcon,null),i.createElement(c.Z.Header,{className:"delete-modal-header"},"Delete ",r),i.createElement(c.Z.Body,null,i.createElement("div",{className:"delete-modal-body"},i.createElement("div",{className:"modal-text"},"Are you sure you want to delete ".concat(t.length>1?t.length+" photos?":"this photo?")),i.createElement(d.Z,{block:!0,onClick:a,size:"lg",variant:"danger"},"Delete ",r))))},v=({onHidden:e,imageArr:t,addToExisting:a,createNew:n,mode:l,redirectedFrom:h,productData:v,deletePhotos:b,payload:f,isMobile:_,showToast:y,isJdPhotoSlider:E,fromListing:P})=>{const w=t.length>1?"Photos":"Photo",I=(0,r.I0)(),S=(0,g.k6)(),C=(0,i.useRef)(),k=(e,t)=>{if(![2,3].includes(e.detail)&&1==e.detail){if("createNew"==t)return n();if("addToExisting"==t)return a()}};return i.createElement(c.Z,{settings:{modalId:"basic-modal",class:"photo-modal "+(_?"":"web-modal"),modalInsideSlider:_},onHidden:e},i.createElement(c.Z.CloseIcon,null),i.createElement(c.Z.Header,{className:"add-modal-header"},"Add ",w," to Product"),i.createElement(c.Z.Body,null,i.createElement("div",{className:"add-modal-body"},i.createElement("div",{className:"modal-text"},"confirmation"==l?"Are you sure you want to add following "+w.toLowerCase()+" to "+v.productName+"?":"Choose what you want to do with the following "+w.toLowerCase()),i.createElement("div",{className:"image-preview-wrapper"},!_&&i.createElement(p.Z,{scrollContainerRef:C,mediaLength:t.length}),i.createElement("div",{ref:C,className:"image-preview ".concat(t.length>3?"":"justify-center"),"body-scroll-lock-ignore":"true"},t.map((e=>i.createElement(u.Z,{imageUrlArr:[e],customCB:()=>{}}))),t.length>3?i.createElement("div",{className:"right-spacing"}):null)),i.createElement("div",{className:"modal-buttons"},"confirmation"==l?i.createElement(d.Z,{block:!0,onClick:()=>{let e=t.filter((e=>e.uploaded));e=e.map((e=>e.imageUrl));let a="";if(a=v.imageUrl?v.imageUrl+","+e.join(","):e.join(","),a.split(",").length>40)return y({showToastMessage:!0,message:"Max 40 Images are Allowed in One Product. Please Unselect Few Photos before Combining them into a Single Product",duration:5e3,className:"large-toast",type:"info"}),void o.Z.closeCurrent();const i=b();(0,m.G6)({variantId:v.productId||v.variantId,imageUrl:a,token:f.token,source:f.source}).then((()=>{y({showToastMessage:!0,message:"".concat(t.length>1?"Photos":"Photo"," Added to Product Successfully"),duration:5e3,type:"info"});const e=a.split(",").map((e=>({imgURL:e,actualPath:(0,m.al)(e),uploaded:!0})));I((0,s.OM)({variantId:v.productId||v.variantId,imageUrlArr:e})),"webstore"==f.source?setTimeout((()=>{I((0,s.kv)({}))}),1e3):setTimeout((()=>{I((0,s.cR)({}))}),1e3)})),_?(o.Z.closeAll(),void 0===i||i?(E||P)&&S.goBack():S.goBack()):(o.Z.closeCurrent(),"searchProd"==h&&o.Z.closeCurrent(),o.Z.closeCurrent(),void 0===i||i||o.Z.closeAll(),E&&o.Z.closeCurrent(),P&&o.Z.closeCurrent())},size:"lg"},"Yes, Add ",w):i.createElement(i.Fragment,null,i.createElement(d.Z,{block:!0,onClick:e=>{k(e,"createNew")},size:"lg",className:"create-button"},"Create New Product"),i.createElement(d.Z,{block:!0,onClick:e=>{k(e,"addToExisting")},size:"lg"},"Add ",w," to Existing Product"))))))};var b=a(55400),f=a(51748);const _=e=>{const t=(0,r.I0)();return i.createElement(f.Z,{avoidPortal:!0,onHidden:()=>{e.onHidden&&e.onHidden(),t((0,s.Fr)({}))}},i.createElement(b.default,{onProductClick:t=>{e.onSelectProduct(t)},fromPhotos:e.fromPhotos,readOnlyProduct:!0,onlyForSelection:!0,showLeftIcons:!0,showOnlySearch:!0,placeholder:"Enter Product Name"}))};var y=a(11376),E=a(96154),P=a(87552);function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e}).apply(this,arguments)}const I=(0,r.$j)(((e,t)=>({...t,productList:e.products.productList,session:e.session,tabKey:e.products.tabKey,isMobile:e.library.deviceData.isMobile,showLibrarySlider:e.videoLibrary.showLibrarySlider,approvalPendingList:e.products.approvalPendingList,deletionPendingList:e.products.deletionPendingList,allProducts:e.products.allProducts,confirmDeleteModal:e.products.confirmDeleteModal,isToggleTab:e.products.isToggleTab,showInfoBox:e.products.showInfoBox,isSearchSliderOpen:e.products.isSearchSliderOpen,redirectedFrom:e.products.redirectedFrom})),{getVendorProducts:s.kv,getListingData:s.cR})((e=>{let t=e.productList.results;const a=(0,g.k6)(),[o,r]=(0,i.useState)(null);console.log(o),(0,i.useEffect)((()=>{"webstore"==e.session.source?e.getVendorProducts({pageNo:1,orderBy:"image",isSelectProdSlider:!0}).then((()=>{s(!1)})):e.getListingData({pageNo:1,orderBy:"image",isSelectProdSlider:!0}).then((e=>{s(!1)}))}),[]);const[n,s]=(0,P.Z)({loadMoreCB:()=>{if(e.productList.allResultsFetched)return void s(!1);const t=e.productList.currentPage+1;"webstore"==e.session.source?e.getVendorProducts({pageNo:t,orderBy:"image",isSelectProdSlider:!0}).then((()=>{s(!1)})):e.getListingData({pageNo:t,orderBy:"image",isSelectProdSlider:!0}).then((e=>{s(!1)}))},scrollContainer:o,threshold:300,deps:[o]}),l="Select Product to Add Photos";return i.createElement(f.Z,{avoidPortal:!0,onHidden:()=>e.onHidden(),slider:{className:e.isMobile?"":"web-page"},updateScrollContRef:r},i.createElement(y.Z,{heading:e.isMobile?l:i.createElement("span",{className:"font-16"},l),leftIcons:[{className:"webstore"==e.session.source?"icon-HDRback":"icon-hdrBackNew",onClick:()=>{a.goBack()}}],rightIcons:[{className:"icon-HDRsearch",onClick:()=>{e.onSearchIconClick()}}],hasBorder:!0}),i.createElement(E.Z,w({},e,{onProductClick:t=>{e.onSelectProduct(t)},onlyForSelection:!0,readOnlyProduct:!0,fromSelectProductSlider:!0,products:t})))})),S=(0,r.$j)(((e,t)=>{const a={...t,vendorImages:e.products.vendorImages,supplierId:e.session.supplierId,session:e.session,selectedImages:e.photosGallery.selectedImages,fromListing:e.photosGallery.fromListing,addModal:e.photosGallery.addModal,deleteModal:e.photosGallery.deleteModal,allProducts:e.products.allProducts,isMobile:e.deviceData.isMobile};return(t.isJdPhotoSlider||e.photosGallery.isJdPhotoSlider)&&(a.isJdPhotoSlider=!0,a.vendorImages=e.products.jdGalleryImages),a}),{setSelectedGalleryImages:n.bn,updateDeletionPending:s.zA,toggleGalleryModal:n.Ex,showToastMessage:l.Z.showMessage})((e=>{const{selectedImages:t,deleteModal:a,addModal:r}=e,[n,s]=(0,i.useState)({}),[l,c]=(0,i.useState)({});return i.createElement(i.Fragment,null,a.show&&i.createElement(h,{onHidden:()=>e.toggleGalleryModal({deleteModal:{show:!1}}),isMobile:e.isMobile,selectedImages:t,deletePhotos:()=>e.deletePhotos(!0)}),r.show&&i.createElement(v,{onHidden:()=>e.toggleGalleryModal({addModal:{show:!1}}),isMobile:e.isMobile,addToExisting:()=>{o.Z.closeCurrent(),setTimeout((()=>{s({show:!0})}),250)},deletePhotos:e.deletePhotos,productData:r.prodData,mode:r.mode,redirectedFrom:r.redirectedFrom,createNew:()=>e.combinePhotos(),imageArr:e.vendorImages.filter(((e,a)=>t.includes(a))),payload:e.session,showToast:e.showToastMessage,isJdPhotoSlider:e.isJdPhotoSlider,fromListing:e.fromListing}),n.show&&i.createElement(I,{fromPhotos:!0,onHidden:()=>s({}),onSearchIconClick:()=>{e.updateDeletionPending({deletionPendingList:[]}),c({show:!0,fromPhotos:!0})},onSelectProduct:t=>{if("webstore"==e.session.source){if(t.isTemplate)return void e.showToastMessage({message:"Photos cannot be added to products added from Omni Product Library",showToastMessage:!0,animationTime:5e3});if(e.allProducts[t.variantId]&&e.allProducts[t.variantId].variantStatus)return void e.showToastMessage({message:"Photos cannot be added to Multivariant products",showToastMessage:!0,animationTime:5e3})}e.toggleGalleryModal({addModal:{mode:"confirmation",prodData:t,show:!0}})}}),l.show&&i.createElement(_,{fromPhotos:l.fromPhotos,onHidden:()=>c({}),onSelectProduct:t=>{if(console.log(t),"webstore"==e.session.source){if(t.isTemplate)return void e.showToastMessage({message:"Photos cannot be added to products added from Omni Product Library",showToastMessage:!0,animationTime:5e3});if(t.variantStatus)return void e.showToastMessage({message:"Photos cannot be added to Multivariant products",showToastMessage:!0,animationTime:5e3})}e.toggleGalleryModal({addModal:{mode:"confirmation",prodData:t,show:!0,redirectedFrom:"searchProd"}})}}))}))},59376:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>C}),a(91181);var o=a(67294),i=a(11376),r=a(14494),n=a(9175),s=a(97293),l=a(87552),c=a(51748),d=a(16550),u=a(49658),m=a(59256),p=a(9669),g=a.n(p),h=a(2450),v=a(39963),b=a(61878),f=a(47799),_=a(46834),y=a(23622),E=a(1723),P=a(88822),w=a(12603),I=a(56408),S=a(38171);const C=(0,r.$j)(((e,t)=>{var a,o,i,r,n,s;const l={...t,isMobile:e.library.deviceData.isMobile,selectedImages:e.photosGallery.selectedImages,vendorImages:e.products.vendorImages,supplierId:e.session.supplierId,fromListing:e.photosGallery.fromListing,variantId:null===(a=e.photosGallery)||void 0===a||null===(o=a.jdPhotosData)||void 0===o?void 0:o.variantId,productId:null===(i=e.photosGallery)||void 0===i||null===(r=i.jdPhotosData)||void 0===r?void 0:r.productId,curVariantImageUrl:(null===(n=e.photosGallery)||void 0===n||null===(s=n.jdPhotosData)||void 0===s?void 0:s.curImageUrl)||"",session:e.session};return(t.isJdPhotoSlider||e.photosGallery.isJdPhotoSlider)&&(l.isJdPhotoSlider=!0,l.vendorImages=e.products.jdGalleryImages),l}),{setRedirectedFrom:u.Vv,updateItemImage:m.l4,setVendorImages:u.Ul,getVendorImages:u.$P,deleteVendorImages:u.YA,updateProductMedia:u.s7,showToastMessage:_.Z.showMessage,toggleGalleryModal:P.Ex,setSelectedGalleryImages:P.bn,uploadMultipleImages:u.OM,setJdPhotosData:P.xI,getListingData:u.cR,getVendorProducts:u.kv,resetItemInfo:m.ON,showHideLoader:I.$e,togglePhotoSlider:P.qc,getProductData:u.b6,toggleAddEdit:u.sk})((e=>{const t=e.variantId,a=e.productId,r=!!a||e.directAddToProduct;let m=(0,d.k6)();const p=e.selectedImages,_=e.isJdPhotoSlider,P=(0,o.useRef)(0),[I,C]=(0,o.useState)(null),k=(0,o.useRef)(null),N=(0,o.useRef)(!1);(0,o.useEffect)((()=>{e.supplierId||m.replace("/products"),e.getVendorImages({supplierId:e.supplierId,isJdPhotoSlider:_,token:e.session.token}),"photos"==e.redirectedFrom&&e.redirectedFrom({});let t=(0,y.Z3)();return t&&e.showToastMessage({message:t.message,showToastMessage:!0,animationTime:5e3,type:"info"}),_&&e.togglePhotoSlider({isJdPhotoSlider:!0,selectPhotoSlider:!0}),()=>{e.togglePhotoSlider({isJdPhotoSlider:!1}),e.setJdPhotosData({})}}),[]);const[T,x]=(0,l.Z)({loadMoreCB:()=>{let t="/marketplace/products/ajax/getAllImagesForSupplier.service?supplierId=".concat(e.supplierId,"&pageNo=").concat(P.current+1);_&&(t="/marketplace/static/php/web/b2bWebsite.php?action=getJdGalleryImages&token=".concat(e.session.token)),g().get(t).then((t=>{if(t.data.data.length){let a=t.data.data.map(u.wt);e.setVendorImages([...e.vendorImages,...a],_),P.current=P.current+1,x(!1)}}))},deps:[I],scrollContainer:I,useWindow:!1,threshold:20}),D=()=>{e.fromListing?s.Z.closeAll():s.Z.closeCurrent(),setTimeout((()=>{if("webstore"==e.session.source){e.resetItemInfo();for(let t=p.length-1;t>=0;t--)e.updateItemImage(e.vendorImages[p[t]]);e.isMobile?(m.push("/add-item"),e.setRedirectedFrom({redirectedFrom:"photos"})):e.toggleAddEdit({editProdKey:"",redirectedFrom:"photos"}),e.setSelectedGalleryImages([])}else{e.isMobile?m.push("/products/add"):e.getProductData({variantId:""});let t=e.vendorImages.filter(((e,t)=>p.includes(t)));for(let a=0;a<t.length;a++)t[a].base64Url||(t[a].finalImageSrc=t[a].finalImageSrc?t[a].finalImageSrc:(0,b.a)(t[a].imageUrl),t[a].imgURL=t[a].imgURL?t[a].imgURL:t[a].imageUrl),e.updateProductMedia({imageUrl:t[a],editProductId:"ADD_PRODUCT",source:"b2b",imgIndex:a});e.setSelectedGalleryImages([])}}),100)},O=t=>{let a=[];e.isJdPhotoSlider||e.vendorImages.filter(((e,t)=>{const o=p.includes(t);return o&&a.push(e.galleryId),!o})),e.fromListing&&!t&&(a=[]),t&&(s.Z.closeCurrent(),e.showToastMessage({message:"".concat(p.length>1?p.length+" Photos":"Photo"," Deleted Successfully"),showToastMessage:!0,type:"info",animationTime:5e3})),setTimeout((()=>{e.setSelectedGalleryImages([])}),300),e.deleteVendorImages({imagesToDelete:a,supplierId:e.supplierId});const o=e.vendorImages.length-a.length;return o||e.isJdPhotoSlider||t?N.current=!1:N.current=!0,o},A=(t,a,o)=>{let i=[...p];t?i.splice(i.indexOf(a),1):(i.push(a),i.sort((function(e,t){return t-e}))),e.setSelectedGalleryImages(i),r||!o||t||1!=i.length||e.toggleGalleryModal({addModal:{show:!0}})},M=t=>{let a=[...e.vendorImages],o=!1;(0,f.b8)({imageUrlArr:[],data:t.target.files,variantId:"",imgUploadUrl:"/marketplace/products/ajax/uploadProductImageForLibrary.service",updateImage:t=>{if(t.uploaded&&t.imgURL){for(let e=a.length-1;e>=0;e--)a[e].imgIndex==t.imgIndex&&(a[e]={actualPath:t.actualPath,imageUrl:t.imgURL,uploaded:t.uploaded,finalImageSrc:(0,b.a)(t.imgURL),galleryId:t.galleryId});e.setVendorImages([...a],_),1!==t.noOfFilesToUpload||r||e.toggleGalleryModal({selectedImages:[0],addModal:{show:!0}})}else t.base64Url&&(a.push(t),e.setVendorImages([...a],_));o||(e.showToastMessage({showToastMessage:!0,message:"".concat(t.noOfFilesToUpload>1?t.noOfFilesToUpload+" Photos":"Photo"," Added Successfully"),duration:5e3,type:"info"}),o=!0)}})},Z=[{className:"icon-trash",onClick:()=>{e.toggleGalleryModal({deleteModal:{show:!0}})}}],U=()=>o.createElement(o.Fragment,null,o.createElement("div",{className:"photos-page "+(e.isMobile?"":"web-page")},o.createElement(i.Z,{heading:_?"Justdial Gallery":"Photo Library",leftIcons:[{className:"webstore"==e.session.source?"icon-HDRback":"icon-hdrBackNew",onClick:()=>{e.setSelectedGalleryImages([]),m.goBack()}}],className:"photos-slider-header",rightIcons:p.length&&!_?[...Z]:void 0,hasBorder:!0}),e.vendorImages.length||N.current?o.createElement(w.Z,null,o.createElement("div",{className:"photos-body"},e.vendorImages.map(((e,t)=>{const a=p.includes(t);return o.createElement("div",{className:"photo-holder"},o.createElement(h.Z,{imageUrlArr:[e],showCheckBox:!0,checkCB:()=>{A(a,t)},tickStatus:a,customCB:()=>{A(a,t,!0)},className:a?"selected":"",onLongPress:()=>{A(a,t)}}))})))):o.createElement("div",{className:"no-photos"},o.createElement("img",{src:"https://image1.jdomni.in/jdomni_email/No_Orders_2010271823.png"}),o.createElement("div",{className:"title"},"No Photos Found"),_?null:o.createElement(n.Z,{children:"Add Photos",size:"lg",onClick:()=>{window.jdInterface?(0,S.H)(e):k.current.triggerClick(!0)},className:"button-class"}),o.createElement(v.Z,{ref:k,onChange:M})),p.length?o.createElement("div",{class:"footer-btn-holder"},o.createElement(n.Z,{onClick:()=>{if(p.length>40)e.showToastMessage({showToastMessage:!0,message:"Max 40 Images are Allowed in One Product. Please Unselect Few Photos before Combining them into a Single Product",duration:5e3,className:"large-toast",type:"info"});else if(r){var o;if(e.directAddToProduct&&e.onSave&&!a)return null!==(o=e.imageUrlArr)&&void 0!==o&&o.length&&e.imageUrlArr.length+p.length>40?void e.showToastMessage({showToastMessage:!0,message:"Max 40 Images are Allowed in One Product",duration:5e3,type:"info"}):(e.onSave({vendorImages:e.vendorImages,selectedImages:p}),void e.setSelectedGalleryImages([]));(0,S.P)({token:e.session.token,source:e.session.source,variantId:a||t,curImageUrl:e.curVariantImageUrl,vendorImages:e.vendorImages,selectedImages:p,fromListing:e.fromListing,cb:(o,i)=>{"maxImageToast"==o?e.showToastMessage({showToastMessage:!0,message:"Max 40 Images are Allowed in One Product. Please Unselect Few Photos before Combining them into a Single Product",duration:5e3,className:"large-toast",type:"info"}):(O(!1),e.showToastMessage({showToastMessage:!0,message:"".concat(p.length>1?"Photos":"Photo"," Added to Product Successfully"),duration:5e3,type:"info"}),e.uploadMultipleImages({variantId:a||t,imageUrlArr:i}),setTimeout((()=>{s.Z.closeCurrent()})))}})}else e.toggleGalleryModal({addModal:{show:!0}})},block:!0,size:"lg"},"Add ",p.length>1?"Images":"Image"," to Product")):null),o.createElement(E.Z,{deletePhotos:O,combinePhotos:D,isJdPhotoSlider:_}));return o.createElement(o.Fragment,null,e.isMobile&&!e.forceSlider?U():o.createElement(c.Z,{onHidden:e.onHidden,slider:{className:"direct-add-slider",showOverlay:!e.isMobile},updateScrollContRef:e=>{C(e)}},U()))}))},38171:(e,t,a)=>{"use strict";a.d(t,{H:()=>n,P:()=>s});var o=a(82680),i=a(61878),r=a(47799);const n=({showToastMessage:e,showHideLoader:t,setVendorImages:a,toggleGalleryModal:r,supplierId:n,vendorImages:s},l)=>{let c="/marketplace/products/ajax/uploadProductImageForLibrary.service?supplierId="+n;(0,o.lc)({index:0,imgUploadUrl:c,callback:o=>{if(o.data){let n=JSON.parse(o.data)[0];if("success"===n.status){t({showLoader:!1});const o={actualPath:(0,i.a)(n.imgURL),imageUrl:n.imgURL,uploaded:!0,galleryId:n.id};a([o,...s]),l?l():e({showToastMessage:!0,message:"Photo Added Successfully",duration:5e3}),setTimeout((()=>{r({selectedImages:[0],addModal:{show:!0}})}),250)}else t({showLoader:!1}),console.log("Error while uploading: ",o.data)}else"invalidFile"==o.error?(t({showLoader:!1}),e({showToastMessage:!0,message:"Only JPG, JPEG & PNG Files are Supported",duration:5e3})):(t({showLoader:!0}),console.log("waiting to upload"))}})},s=({cb:e,token:t,source:a,variantId:o,curImageUrl:n="",vendorImages:s=[],selectedImages:l=[],fromListing:c=!1})=>{let d=s.filter(((e,t)=>l.includes(t))).filter((e=>e.uploaded));d=d.map((e=>e.imageUrl));let u="";if(u=n?n+","+d.join(","):d.join(","),u.split(",").length>40)return e("maxImageToast");(0,r.G6)({variantId:o,imageUrl:u,token:t,source:a,fromListing:c}).then((()=>{const t=u.split(",").map((e=>({imgURL:e,actualPath:(0,i.a)(e),uploaded:!0})));return e("successToast",t)}))}},55400:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>S}),a(91181);var o=a(67294),i=a(14494),r=a(49658),n=a(11376),s=a(9669),l=a.n(s),c=a(2850),d=a(38488),u=a(16550),m=a(26351),p=(a(79034),a(96154)),g=a(12603),h=a(50386),v=a(53973),b=a(95912),f=a(57542),_=a(23622),y=a(70563),E=a(46834),P=a(97293);function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e}).apply(this,arguments)}const I=o.forwardRef((({className:e,...t},a)=>{let r=t.search.results;const s=(0,i.I0)(),I=o.createRef(),S=(0,o.useRef)(null),C=(0,o.useRef)(null),[k,N]=(0,o.useState)(!1),[T,x]=(0,o.useState)(!1),[D,O]=(0,o.useState)(t.search.searchQuery),[A,M]=(0,o.useState)(!0);let Z=0;const U=()=>{if(t.deviceData.isMobile)return document.scrollingElement.scrollTop;let e=C.current;return e?e.scrollTop:0},[L,R]=(0,o.useState)("object"==typeof document&&U()>110);let j=(0,u.k6)(),F=!1,B=!1;const H=(0,_.iP)({checkType:!0});H.fetchNextAudit&&(F=!0),H.isSpecialContract&&(B=!0);const V=!(!t.session.user.loggedUser||"AUDITOR"!=t.session.user.loggedUser.userType||!F),W=e=>{let a=e?e.currentTarget.value:"";a.length>2&&(O(a),K(a)),!e&&I.current&&(I.current.focus(),t.updateDeletionPending({deletionPendingList:[]}))},K=e=>{e?(x(!0),"webstore"==t.session.source?(S.current&&S.current.cancel(),S.current=l().CancelToken.source(),t.getVendorProducts({isSearch:!0,searchText:e,cancelToken:S.current.token,fromPhotos:t.fromPhotos}).then((e=>{x(!1)}))):t.getListingData({isSearch:!0,supplierId:t.session.supplierId,searchText:e}).then((e=>{x(!1)}))):(t.resetSearchData(),"webstore"==t.session.source&&S.current&&S.current.cancel())},G=()=>{"webstore"==t.session.source?t.getVendorProducts({}).then((()=>{j.goBack(),setTimeout((()=>{t.resetSearchData()}),300)})):t.getListingData({}).then((()=>{j.goBack(),setTimeout((()=>{t.resetSearchData()}),300)}))};let z=[{className:"icon-hdrBackNew",onClick:()=>{k||(N(!0),setTimeout((()=>{G()}),300))}}],Y=[{className:"icon-HDRcross",onClick:()=>{k||(N(!0),setTimeout((()=>{G()}),300))}}];const J=(0,o.useCallback)((()=>{const e=U();"webstore"==t.session.source?R(!(Z>e&&0==e)&&e>0):Z>e&&t.deviceData.isMobile?R(!1):R(e>100),Z=e}),[]),[q,X]=(0,o.useState)({}),[Q,$]=(0,o.useState)(!1),ee=(e,a)=>{$(a),X(e),t.toggleConfirmDelete({confirmDeleteModal:!0})},te=()=>{K(D)};return(0,o.useEffect)((()=>{let e=new URLSearchParams(location.search.substring(1)).get("query");"webstore"!=t.session.source&&I.current.focus(),t.setCurrentEditPage("search"),D?K(t.search.searchQuery):e&&(O(e),K(e))}),[]),(0,c.Z)({callback:(e,t)=>{J(e)},element:t.deviceData.isMobile?null:C}),o.createElement(o.Fragment,null,o.createElement("div",{className:"".concat(m.Z["search-holder"]," ").concat(t.deviceData.isMobile?"":"web-page"),ref:C},o.createElement("div",{className:"".concat(m.Z["search-box-holder"]," ").concat(L&&"webstore"!=t.session.source?"scrolled":"")},"webstore"!=t.session.source?o.createElement(o.Fragment,null,o.createElement(n.Z,{className:m.Z["search-page-header"],heading:"Search",leftIcons:t.showLeftIcons||t.deviceData.isMobile?z:[],rightIcons:t.deviceData.isMobile?[]:Y,variant:"white",headingClass:m.Z["header-title"]}),o.createElement("div",{className:m.Z["search-input-holder"]},o.createElement("form",{className:m.Z["search-form"],action:".",onSubmit:e=>{e.preventDefault()}},o.createElement("input",{ref:I,id:"searchProduct",name:"searchProduct",type:"search",className:m.Z["search-input"],placeholder:"Enter Product Name",onChange:e=>W(e),value:D,autoComplete:"off",onFocus:()=>{M(!0)},onBlur:()=>{M(!1)},autoFocus:!0}),o.createElement("i",{className:"".concat(m.Z["search-icon"]," icon-HDRsearch")}),D&&!T&&o.createElement(d.Z,{className:m.Z["icon-holder"],onClick:()=>W(),variant:"circle"},o.createElement("i",{className:"".concat(m.Z["clear-icon"]," icon-HDRcross")})),T&&o.createElement("span",{className:m.Z["icon-holder"]},o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14px",height:"14px",className:m.Z["upload-loader"]},o.createElement("circle",{cx:"7px",cy:"7px",r:"7px",className:m.Z.circle})))))):o.createElement(n.Z,{heading:"Search",className:"".concat(m.Z["webstore-search-header"]," ").concat(L&&"webstore"!=t.session.source?"scrolled":""," ").concat(t.deviceData.isMobile?m.Z.mob:""),showOnlySearch:t.deviceData.isMobile||t.showOnlySearch,searchBox:!0,leftIcons:t.deviceData.isMobile?z:[],searchVariant:"edit",rightIcons:t.deviceData.isMobile?[]:Y,autoFocus:!0,raised:L,inputProps:{className:m.Z["input-container"],leftIconClick:()=>{t.showOnlySearch?P.Z.closeCurrent():z[0].onClick()},leftIconClass:t.showOnlySearch||t.deviceData.isMobile?"icon-HDRback":"icon-HDRsearch",placeholder:t.placeholder?t.placeholder:"Search Product",onChange:W,isSearchLoading:T,onClear:W,val:D}})),o.createElement(g.Z,null,o.createElement("div",{onTouchMove:()=>{M(!1),document.getElementById("searchProduct").blur()},className:"".concat(m.Z["result-holder"]," ").concat(r.length?"":m.Z["no-result"]," ").concat(!r.length&&A&&t.deviceData.isIphone?m.Z["no-result-fixed"]:"")},D&&r&&o.createElement(p.Z,w({},t,{products:r,fromSearch:!0,pageType:"search",searchText:D,confirmDelete:ee,isAuditor:V,isSpecialContract:B})),!r.length&&D&&!T&&o.createElement(y.Z,null)))),t.showLibrarySlider&&t.deviceData.isMobile&&o.createElement(h.Z,null),t.confirmDeleteModal?o.createElement(v.Z,{productData:q,onDelete:()=>{if(q.cb)q.cb();else{let e=q.variantId,a="Product Deleted Successfully";Q&&(e=t.deletionPendingList.toString(),a=t.deletionPendingList.length+" Products Deleted Successfully"),t.deleteProduct(e,te,q.productId),s(E.Z.showMessage({message:a,showReduxToast:!0,animationTime:5e3})),setTimeout((()=>{t.updateDeletionPending({deletionPendingList:[]})}),300)}window.history.back()},onModalClose:()=>{t.toggleConfirmDelete({confirmDeleteModal:!1})},productsLength:t.deletionPendingList.length,isMultiSelect:Q}):null,t.deletionPendingList.length?o.createElement(b.Z,null,o.createElement("div",{className:m.Z["search-delete-btn-holder"]},o.createElement(f.Z,{className:m.Z["full-width-delete-btn"],clickHandler:()=>{ee(t.allProducts[t.deletionPendingList[0]],t.deletionPendingList.length>1)}},t.deletionPendingList.length>1?"Delete Products":"Delete Product"))):null)})),S=(0,i.$j)(((e,t)=>({onProductClick:t.onProductClick,readOnlyProduct:t.readOnlyProduct,onlyForSelection:t.onlyForSelection,search:e.products.search,session:e.session,deviceData:e.deviceData,showLibrarySlider:e.videoLibrary.showLibrarySlider,deletionPendingList:e.products.deletionPendingList,allProducts:e.products.allProducts,confirmDeleteModal:e.products.confirmDeleteModal})),{getListingData:r.cR,getVendorProducts:r.kv,resetSearchData:r.Fr,setCurrentEditPage:r.WT,updateDeletionPending:r.zA,updateProductStatus:r.Lv,deleteProduct:r.Ir,toggleConfirmDelete:r.p$})(I)},79034:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});const o={"font-10":"_1eHP_font-10","font-11":"_3D4Z_font-11","font-12":"_2AMw_font-12","font-14":"_1Yi9_font-14","no-result-container":"_97bt_no-result-container","misc-btn":"_2RmF_misc-btn","font-15":"_2BGC_font-15","font-16":"_2z8Q_font-16","font-18":"_3Fnj_font-18","font-20":"_2_Oe_font-20","font-24":"_1fdY_font-24","font-26":"_88Gi_font-26","pd-5":"_2bNp_pd-5","pdtb-5":"_3hAJ_pdtb-5","pdlr-5":"_27Q7_pdlr-5","pdt-5":"_37Cm_pdt-5","pdb-5":"_2BHa_pdb-5","pdl-5":"_3U7a_pdl-5","pdr-5":"_2XO7_pdr-5","pd-10":"_2n4X_pd-10","pdtb-10":"_3wqD_pdtb-10","pdlr-10":"_2Xvq_pdlr-10","pdt-10":"_1B2V_pdt-10","pdb-10":"_2VYF_pdb-10","pdl-10":"_2nar_pdl-10","pdr-10":"_9UtK_pdr-10","pd-15":"_31Gf_pd-15","pdtb-15":"_1Yts_pdtb-15","pdlr-15":"_2x4__pdlr-15","pdt-15":"_3M-0_pdt-15","pdb-15":"_12e8_pdb-15","pdl-15":"_3EVE_pdl-15","pdr-15":"_23BZ_pdr-15","pd-20":"RwyH_pd-20","pdtb-20":"DAbC_pdtb-20","pdlr-20":"_1Ibv_pdlr-20","pdt-20":"cEIV_pdt-20","pdb-20":"_vai_pdb-20","pdl-20":"_1Dkn_pdl-20","pdr-20":"_1bO1_pdr-20","mg-5":"eKDi_mg-5","mgl-5":"_15Hi_mgl-5","mgr-5":"_3wfq_mgr-5","mgb-5":"_1skK_mgb-5","mgt-5":"_3mEx_mgt-5","mgtb-5":"_2DBH_mgtb-5","mglr-5":"CG0O_mglr-5","mg-6":"_1nyU_mg-6","mgl-6":"_2W4S_mgl-6","mgr-6":"_3PDf_mgr-6","mgb-6":"_1etV_mgb-6","mgt-6":"_2sys_mgt-6","mgtb-6":"_1ASx_mgtb-6","mglr-6":"_2BMe_mglr-6","mg-7":"_21Eg_mg-7","mgl-7":"_1WT4_mgl-7","mgr-7":"_3UZ9_mgr-7","mgb-7":"_3whB_mgb-7","mgt-7":"_2ZaJ_mgt-7","mgtb-7":"_1lYv_mgtb-7","mglr-7":"sljK_mglr-7","mg-8":"_2pl2_mg-8","mgl-8":"_4iGr_mgl-8","mgr-8":"_2bis_mgr-8","mgb-8":"_3Ghl_mgb-8","mgt-8":"_36nc_mgt-8","mgtb-8":"_1IwO_mgtb-8","mglr-8":"_2Cr__mglr-8","mg-9":"_3kBH_mg-9","mgl-9":"Zuz2_mgl-9","mgr-9":"_2dSi_mgr-9","mgb-9":"_2SfS_mgb-9","mgt-9":"_1QLj_mgt-9","mgtb-9":"_3o0l_mgtb-9","mglr-9":"_1bZV_mglr-9","mg-10":"_1NlP_mg-10","mgl-10":"_3EGl_mgl-10","mgr-10":"_3Gep_mgr-10","mgb-10":"_1ECQ_mgb-10","mgt-10":"_pQ3_mgt-10","mgtb-10":"_19aM_mgtb-10","mglr-10":"_1QMb_mglr-10","mg-11":"MIbB_mg-11","mgl-11":"_4QfX_mgl-11","mgr-11":"_3xMg_mgr-11","mgb-11":"_28DJ_mgb-11","mgt-11":"_1Up6_mgt-11","mgtb-11":"_280H_mgtb-11","mglr-11":"_1wE4_mglr-11","mg-12":"_3hLF_mg-12","mgl-12":"_34Ut_mgl-12","mgr-12":"_35R9_mgr-12","mgb-12":"GbE5_mgb-12","mgt-12":"_2iNX_mgt-12","mgtb-12":"_13HL_mgtb-12","mglr-12":"_8iKT_mglr-12","mg-13":"_8bCH_mg-13","mgl-13":"_2xLF_mgl-13","mgr-13":"_2zTj_mgr-13","mgb-13":"Sqf2_mgb-13","mgt-13":"_22vp_mgt-13","mgtb-13":"_2Ivl_mgtb-13","mglr-13":"_3bsT_mglr-13","mg-14":"_4SW_mg-14","mgl-14":"_1n25_mgl-14","mgr-14":"_2_C6_mgr-14","mgb-14":"_3TlJ_mgb-14","mgt-14":"_1E-G_mgt-14","mgtb-14":"_3Jpr_mgtb-14","mglr-14":"_3RaU_mglr-14","mg-15":"_1R5D_mg-15","mgl-15":"EId-_mgl-15","mgr-15":"ZvCa_mgr-15","mgb-15":"_3JZA_mgb-15","mgt-15":"_3MUo_mgt-15","mgtb-15":"q4af_mgtb-15","mglr-15":"ZSaI_mglr-15","mg-16":"kiRp_mg-16","mgl-16":"_3Qu8_mgl-16","mgr-16":"_1ObT_mgr-16","mgb-16":"_2YB1_mgb-16","mgt-16":"_1ZWf_mgt-16","mgtb-16":"_3ECF_mgtb-16","mglr-16":"_5j1y_mglr-16","mg-17":"_2slp_mg-17","mgl-17":"_1RwK_mgl-17","mgr-17":"_3fSn_mgr-17","mgb-17":"_1VBg_mgb-17","mgt-17":"_15N9_mgt-17","mgtb-17":"_2Gxn_mgtb-17","mglr-17":"_34sP_mglr-17","mg-18":"_32QD_mg-18","mgl-18":"_32dp_mgl-18","mgr-18":"vju1_mgr-18","mgb-18":"_30EX_mgb-18","mgt-18":"_3NhH_mgt-18","mgtb-18":"_3wSf_mgtb-18","mglr-18":"_3SKc_mglr-18","mg-19":"JaJY_mg-19","mgl-19":"aNmm_mgl-19","mgr-19":"_2JTi_mgr-19","mgb-19":"_3Bxl_mgb-19","mgt-19":"_2KhJ_mgt-19","mgtb-19":"_1SvF_mgtb-19","mglr-19":"_1yO2_mglr-19","mg-20":"_2dAY_mg-20","mgl-20":"_2Kvn_mgl-20","mgr-20":"_2NWg_mgr-20","mgb-20":"_3vAs_mgb-20","mgt-20":"_2Vk3_mgt-20","mgtb-20":"_6VUF_mgtb-20","mglr-20":"gHmQ_mglr-20","fs-m":"Jg_2_fs-m","fs-b":"_3oH6_fs-b","fs-sb":"_3FBv_fs-sb","img-loading":"_1wtP_img-loading","img-loaded":"_1Aez_img-loaded",fadeInImg:"_2ICm_fadeInImg","search-highlight":"_2aDa_search-highlight","pos-fixed":"_3uvC_pos-fixed",height100Per:"_1odU_height100Per","overflow-hidden":"_2X2g_overflow-hidden","overflow-auto":"_3cqC_overflow-auto","no-result-img":"_2uNO_no-result-img","unautorized-page":"_1zxD_unautorized-page","no-result-heading":"_2oie_no-result-heading","no-result-subheading":"_3cWC_no-result-subheading","no-result-sec":"-YLL_no-result-sec","custom-html-container":"_2eAx_custom-html-container",isWeb:"_3p3K_isWeb"}},4772:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});const o={"view-image-slider":"_1uib_view-image-slider","react-reveal":"_1a_n_react-reveal","image-slider":"_3hFZ_image-slider","admin-upload-template":"_30WP_admin-upload-template","image-holder":"_2nFN_image-holder","image-row":"_3pZu_image-row","back-btn":"_1L1O_back-btn","image-icon":"_17BM_image-icon","slick-list":"_2dsk_slick-list","slick-track":"_3QpF_slick-track","save-btn":"_3Dkc_save-btn","image-slider-save":"_26Kn_image-slider-save","slick-slide":"_2hzZ_slick-slide","multiple-img-slider":"_3NHz_multiple-img-slider","no-image-holder":"_17Bo_no-image-holder","b2b-view":"_3_hO_b2b-view","add-new-image":"_1qPH_add-new-image","preview-image-wrapper":"VwDG_preview-image-wrapper","image-preview":"_1PmC_image-preview","add-image-div":"_2M47_add-image-div","img-rounded":"_16qW_img-rounded","no-img":"_1R5j_no-img","upload-text":"_3qii_upload-text","add-icon":"_2DE2_add-icon","add-title":"JcMY_add-title","image-tile":"jk56_image-tile",selected:"_1omp_selected","default-title":"_23Lh_default-title","status-dot":"_3TP4_status-dot",default:"kSs-_default","primary-icon":"lqXE_primary-icon","icon-holder":"_1BJg_icon-holder","menu-list":"_3D4P_menu-list","floating-icons":"_3eDV_floating-icons","slider-dots":"_2EdX_slider-dots","slick-dots":"_3pnI_slick-dots","slick-active":"_3RBR_slick-active","edit-product-modal":"_1Q8n_edit-product-modal","image-select-options":"mExc_image-select-options","iframe-body":"_1nV8_iframe-body","image-error":"_2SA9_image-error","img-holder":"Yny9_img-holder","multi-select-checkbox-clickarea":"_2s9o_multi-select-checkbox-clickarea","multi-select-checkbox":"_3US4_multi-select-checkbox","no-border":"_3Cdt_no-border","check-tint":"_3oRS_check-tint","detail-info-popover":"_3N3__detail-info-popover","image-row-wrapper":"_1tCf_image-row-wrapper","view-image-popover":"_3847_view-image-popover",arrow:"_3MGi_arrow","handle-listing-scroll":"_3SCB_handle-listing-scroll","listing-page":"CnMP_listing-page"}},67005:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});const o={"search-uom-holder":"VCzu_search-uom-holder",isWeb:"_1wOY_isWeb","result-holder":"_3uq__result-holder","result-list":"_2Ayu_result-list","prod-main-uom":"_1XUH_prod-main-uom","prod-uom":"_1mfV_prod-uom","prod-head":"_1EhP_prod-head","search-header":"_1ou__search-header","search-input":"_3W8h_search-input",scrolled:"_1KoQ_scrolled","back-icon":"uP-c_back-icon",isVendorWeb:"_2wQD_isVendorWeb","no-result-holder":"Lfk0_no-result-holder","no-result-product":"_3KO9_no-result-product","no-result-fixed":"_3etC_no-result-fixed",isLastChild:"FXJr_isLastChild","prod-list":"_88-9_prod-list","icon-holder":"_1dxm_icon-holder","uom-slider-header":"_3L_i_uom-slider-header","uom-slider-header-title":"_2VAj_uom-slider-header-title","icon-HDRcross":"_3b0g_icon-HDRcross"}},75920:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});const o={"font-10":"q_OI_font-10","font-11":"_2t-B_font-11","font-12":"_1tif_font-12","font-14":"_2AcK_font-14","add-edit-product":"_1D9__add-edit-product","moving-label":"_10Xi_moving-label","image-slider":"e3xM_image-slider","add-title":"_3eaJ_add-title","font-15":"_3oPv_font-15","font-16":"WPpb_font-16","font-18":"_2XWk_font-18","font-20":"_3ScB_font-20","font-24":"_3Ps8_font-24","font-26":"_2Ee7_font-26","add-icon":"cVA-_add-icon","pd-5":"dXMZ_pd-5","pdtb-5":"_1BJW_pdtb-5","pdlr-5":"j3Y2_pdlr-5","pdt-5":"KdgL_pdt-5","pdb-5":"_1cF6_pdb-5","pdl-5":"_15eL_pdl-5","pdr-5":"_2yoR_pdr-5","pd-10":"_54Jm_pd-10","pdtb-10":"_1jjH_pdtb-10","pdlr-10":"_1htg_pdlr-10","pdt-10":"_26UO_pdt-10","pdb-10":"wnhQ_pdb-10","pdl-10":"G_Az_pdl-10","pdr-10":"_1L50_pdr-10","pd-15":"_3Ldi_pd-15","pdtb-15":"_1U1T_pdtb-15","pdlr-15":"jnC4_pdlr-15","pdt-15":"FHOX_pdt-15","pdb-15":"_3Pri_pdb-15","pdl-15":"_2xBs_pdl-15","pdr-15":"_2Ate_pdr-15","pd-20":"_2PHE_pd-20","pdtb-20":"_2y_i_pdtb-20","pdlr-20":"_33aF_pdlr-20","pdt-20":"TOWn_pdt-20","pdb-20":"_3PfP_pdb-20","pdl-20":"_1kyh_pdl-20","pdr-20":"_1YGT_pdr-20","mg-5":"_37e-_mg-5","mgl-5":"_1wTc_mgl-5","mgr-5":"ljsx_mgr-5","mgb-5":"_3shx_mgb-5","mgt-5":"LNWH_mgt-5","mgtb-5":"_2BL4_mgtb-5","mglr-5":"_3qVk_mglr-5","mg-6":"_3sZZ_mg-6","mgl-6":"_8U-B_mgl-6","mgr-6":"_1HLC_mgr-6","mgb-6":"_3fA2_mgb-6","mgt-6":"_2Va6_mgt-6","mgtb-6":"_12pP_mgtb-6","mglr-6":"_2c3o_mglr-6","mg-7":"Gifw_mg-7","mgl-7":"VuYH_mgl-7","mgr-7":"_16zO_mgr-7","mgb-7":"_1JD__mgb-7","mgt-7":"_2kDG_mgt-7","mgtb-7":"_2Bw-_mgtb-7","mglr-7":"gIZA_mglr-7","mg-8":"_2ATF_mg-8","mgl-8":"_3Tcx_mgl-8","mgr-8":"_1zpX_mgr-8","mgb-8":"_1jX3_mgb-8","mgt-8":"_2VHy_mgt-8","mgtb-8":"_1tru_mgtb-8","mglr-8":"_3CbC_mglr-8","mg-9":"_2v6D_mg-9","mgl-9":"_3V-7_mgl-9","mgr-9":"Ct5L_mgr-9","mgb-9":"_2xOI_mgb-9","mgt-9":"_1y_O_mgt-9","mgtb-9":"_1ymM_mgtb-9","mglr-9":"F8ZL_mglr-9","mg-10":"_14F4_mg-10","mgl-10":"dCW__mgl-10","mgr-10":"rnLR_mgr-10","mgb-10":"_1Unj_mgb-10","mgt-10":"_2gEc_mgt-10","mgtb-10":"iGJT_mgtb-10","mglr-10":"_1y4-_mglr-10","mg-11":"_9go2_mg-11","mgl-11":"_3wrX_mgl-11","mgr-11":"_3nMg_mgr-11","mgb-11":"_2-ZN_mgb-11","mgt-11":"_9Xzs_mgt-11","mgtb-11":"_2vgE_mgtb-11","mglr-11":"_2cWL_mglr-11","mg-12":"rsPs_mg-12","mgl-12":"wHz4_mgl-12","mgr-12":"_1qkz_mgr-12","mgb-12":"_3nzE_mgb-12","mgt-12":"_3_7i_mgt-12","mgtb-12":"Rslv_mgtb-12","mglr-12":"_2FZK_mglr-12","mg-13":"KIML_mg-13","mgl-13":"_1Qlg_mgl-13","mgr-13":"_2jxe_mgr-13","mgb-13":"_3bgg_mgb-13","mgt-13":"_3UNz_mgt-13","mgtb-13":"MvOi_mgtb-13","mglr-13":"AtDM_mglr-13","mg-14":"TgGm_mg-14","mgl-14":"_1m6a_mgl-14","mgr-14":"_16P-_mgr-14","mgb-14":"_2-JS_mgb-14","mgt-14":"_39qT_mgt-14","mgtb-14":"px6a_mgtb-14","mglr-14":"_1Bus_mglr-14","mg-15":"_1utr_mg-15","mgl-15":"dSjz_mgl-15","mgr-15":"_2HmM_mgr-15","mgb-15":"_1JW6_mgb-15","mgt-15":"_2Vk5_mgt-15","mgtb-15":"_7rK_mgtb-15","mglr-15":"_3dV9_mglr-15","mg-16":"_30ZO_mg-16","mgl-16":"_2hIM_mgl-16","mgr-16":"_1uIM_mgr-16","mgb-16":"_10nj_mgb-16","mgt-16":"mMz9_mgt-16","mgtb-16":"_3yld_mgtb-16","mglr-16":"_2fUd_mglr-16","mg-17":"S8ud_mg-17","mgl-17":"_3o0s_mgl-17","mgr-17":"YMPl_mgr-17","mgb-17":"_2qbo_mgb-17","mgt-17":"_232e_mgt-17","mgtb-17":"_2o2G_mgtb-17","mglr-17":"z_at_mglr-17","mg-18":"_2yls_mg-18","mgl-18":"_1h7k_mgl-18","mgr-18":"_33tL_mgr-18","mgb-18":"eAva_mgb-18","mgt-18":"_1pi3_mgt-18","mgtb-18":"_1b7__mgtb-18","mglr-18":"AAzC_mglr-18","mg-19":"_1lD9_mg-19","mgl-19":"rZ_P_mgl-19","mgr-19":"_2gWm_mgr-19","mgb-19":"RCjp_mgb-19","mgt-19":"_2CDN_mgt-19","mgtb-19":"_2Rjc_mgtb-19","mglr-19":"_1r9U_mglr-19","mg-20":"_3NPx_mg-20","mgl-20":"_32Zi_mgl-20","mgr-20":"_28HM_mgr-20","mgb-20":"_16sk_mgb-20","mgt-20":"_248G_mgt-20","mgtb-20":"_1rtd_mgtb-20","mglr-20":"_2oWg_mglr-20","fs-m":"Q0KD_fs-m","fs-b":"_3r3m_fs-b","fs-sb":"_2Y8G_fs-sb","img-loading":"_36Ln_img-loading","img-loaded":"_3O4M_img-loaded",fadeInImg:"_3Oz6_fadeInImg","search-highlight":"_3kfh_search-highlight","pos-fixed":"_3ta6_pos-fixed",height100Per:"_1DlE_height100Per","overflow-hidden":"_3hXX_overflow-hidden","overflow-auto":"_22ap_overflow-auto","product-category":"_1qcy_product-category","price-range":"_1jOp_price-range","unit-measurement":"eqFQ_unit-measurement","unit-holder":"_2-wv_unit-holder","input-with-moving-label":"_3PDp_input-with-moving-label","input-error":"csk8_input-error","icon-Next":"_1_Cm_icon-Next","multiple-img-slider":"F7cf_multiple-img-slider","slider-dots":"_2MjR_slider-dots","image-holder":"_32OB_image-holder","header-title":"l6ys_header-title","edit-product-header":"Al-V_edit-product-header","representative-header-options":"_205h_representative-header-options",scrolled:"_2FSh_scrolled","icon-hdrBackNew":"T5-u_icon-hdrBackNew","readonly-header":"_29DX_readonly-header","add-edit-header":"qgv5_add-edit-header","edit-product-form":"_3pow_edit-product-form","readonly-edit-form":"_2HhS_readonly-edit-form","image-tile":"bzb7_image-tile","default-title":"_1jCu_default-title",ObjectionalProduct:"Ojjz_ObjectionalProduct",heading:"_3RC1_heading",highlight:"vM4n_highlight","objectional-product-body":"_3lJL_objectional-product-body","objectional-product-subtext":"_2VvY_objectional-product-subtext","objectional-product-highlight":"_3-AR_objectional-product-highlight","objectional-product-btn-holder":"_2yR7_objectional-product-btn-holder","objectional-goBack-btn-holder":"_3NER_objectional-goBack-btn-holder","objectional-error":"_3mcn_objectional-error",ObjectionalDeleteProduct:"RwfB_ObjectionalDeleteProduct","objectional-delete-body":"_3pfE_objectional-delete-body","objectional-highlight-text":"_37cJ_objectional-highlight-text","objectional-delete-btn-holder":"_1x3-_objectional-delete-btn-holder","save-product-btn":"_3Y4V_save-product-btn","delete-btn-holder":"_1ovY_delete-btn-holder","delete-btn":"_1RP7_delete-btn","delete-btn-reverse":"_1pTy_delete-btn-reverse","jd-iphone":"_36Ql_jd-iphone","read-only-mode":"_3ZTL_read-only-mode",description:"_3vBr_description",modified:"_2i9d_modified","moving-inp-grp":"_26q7_moving-inp-grp","editable-input":"X8qF_editable-input","min-order-qty":"_2xzE_min-order-qty","prod-price":"_23yo_prod-price",marginT16:"_28Eq_marginT16",marginT20:"_2-v-_marginT20",marginT24:"_2N3n_marginT24",marginT10:"_3TNP_marginT10",marginLR15:"_3TUx_marginLR15","template-field":"klZS_template-field","more-detail-switch":"Am53_more-detail-switch","read-only-switch":"_3TBD_read-only-switch","b2b-switch":"_3atI_b2b-switch","price-range-label":"_2_AI_price-range-label","error-flag":"IDat_error-flag","more-detail-grp":"Ifxp_more-detail-grp","min-qty-web-margin":"_2dnx_min-qty-web-margin","floating-icons":"_2gKT_floating-icons","no-image":"_2Sws_no-image","add-new-image":"_Fna_add-new-image",selected:"_3puy_selected","image-row":"O2dA_image-row","add-image-div":"_2ed7_add-image-div","no-img":"_10WH_no-img","camera-icon":"_2sbS_camera-icon",indicator:"g6YG_indicator","image-error-label":"_1Xkw_image-error-label","copy-div-jd-rep":"_3mGK_copy-div-jd-rep","user-details-productid":"_2IJ2_user-details-productid","copy-label":"GrOv_copy-label","copy-text":"_1SK__copy-text","product-id-copy-holder":"IkT7_product-id-copy-holder","product-id-copy-icon":"_3xip_product-id-copy-icon","slick-list":"_2ct7_slick-list","slick-track":"_34jG_slick-track","image-preview":"_3LjN_image-preview","slick-slide":"_2LWp_slick-slide","no-image-holder":"_1WVp_no-image-holder","image-error":"_3Uey_image-error",isWeb:"_3cMU_isWeb","range-unit-of-measurement":"_2zyd_range-unit-of-measurement","list-box":"_5HQd_list-box","add-spec":"_33ym_add-spec","prod-file-attachment":"_222X_prod-file-attachment","auditor-btn":"_1b5__auditor-btn","auditor-edit-form":"dGZy_auditor-edit-form","product-last-time":"_2OWG_product-last-time","tag-holder":"_2DoP_tag-holder","tag-text":"ZBeF_tag-text",green:"U_KG_green",orange:"_2i6d_orange","header-holder":"_2RH2_header-holder","data-holder":"_38N-_data-holder","data-header":"-eLB_data-header","data-address":"_2pao_data-address","data-total-count":"_2rY5_data-total-count","data-docid-holder":"_3tCj_data-docid-holder","display-data-docid":"vi0P_display-data-docid","data-docid":"_3Hcl_data-docid","view-all-btn":"_11wm_view-all-btn","contract-source-btn":"X1IJ_contract-source-btn","data-source-popover":"N7C0_data-source-popover","data-source-container":"_27Sn_data-source-container","data-list-holder":"_2rWm_data-list-holder","data-list-title":"_2GEX_data-list-title","data-list-type":"_2haO_data-list-type","data-list-url":"_1kCj_data-list-url","button-holder":"_2kOP_button-holder",disabled:"_2fUj_disabled","websites-popover":"_2KDp_websites-popover","websites-content-popover":"_37I7_websites-content-popover","websites-container":"_3JAY_websites-container","user-details-holder":"_2d0e_user-details-holder","user-details-tab":"_3uUr_user-details-tab","icon-pagination-down-audit":"_1qhI_icon-pagination-down-audit","user-details-data":"_2oaj_user-details-data","user-details-list":"-ZKy_user-details-list","user-details-icon":"v2da_user-details-icon","icon-EmploeeID":"_2DVm_icon-EmploeeID","icon-profile":"_1HN2_icon-profile","user-details-data-dummy":"_3HTu_user-details-data-dummy","objectional-save-btn-holder":"_1Qoa_objectional-save-btn-holder","partial-btns":"_1Hll_partial-btns",firstRow:"_32wA_firstRow","first-btn":"_3Fg9_first-btn","btns-icons":"_1UwY_btns-icons","second-btn":"E7-K_second-btn","audi-save-btn-holder":"_2ga7_audi-save-btn-holder","min-price":"_3Ms7_min-price","max-price":"_74TW_max-price","product-type":"_1sMP_product-type","is-iphone":"_15V3_is-iphone","branded-prop-name":"_1zfF_branded-prop-name","branded-product-mode":"_3YMN_branded-product-mode","jd-cat-list-modal":"d4aO_jd-cat-list-modal","jd-cat-list-header":"_3l1n_jd-cat-list-header","scrolled-header":"_6aUt_scrolled-header","jd-cat-icon":"m9L2_jd-cat-icon","jd-cat-list-body":"_1Rhh_jd-cat-list-body","jd-cat-list-item":"_1hgd_jd-cat-list-item","product-name-field":"_3HDr_product-name-field","timeout-modal":"_2uz1_timeout-modal","timeout-text":"_1uuL_timeout-text","timeout-body":"_3Z1R_timeout-body","timeout-btn":"oFpW_timeout-btn","wyswig-div":"_1tgY_wyswig-div","desc-web-margin":"KT1S_desc-web-margin",productIdCopy:"zB09_productIdCopy","product-id-copy-header":"_2UK8_product-id-copy-header","product-id-copy-body":"_3Hus_product-id-copy-body","delete-text":"_2s70_delete-text","delete-bold-text":"_3uXb_delete-bold-text","copy-close-btn-holder":"_3lrE_copy-close-btn-holder","fetch-swipe-drawer":"_1D0N_fetch-swipe-drawer","website-option":"_12Rd_website-option","hover-tooltip":"_1AB8_hover-tooltip","image-row-wrapper":"_5aqy_image-row-wrapper","misc-btn":"_3mWy_misc-btn",primary:"_1cmg_primary","save-spec-btn":"_1XjC_save-spec-btn","error-text":"Rib0_error-text","paste-option":"_1VJZ_paste-option"}},26351:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});const o={"prod-block-modal":"a4xA_prod-block-modal","price-modal":"_3Fbd_price-modal","overlay-div":"_2jIC_overlay-div","button-wrapper":"_1Zwg_button-wrapper","misc-btn":"_2dPU_misc-btn","input-with-moving-label":"_2IvK_input-with-moving-label","add-edit-title":"_14uw_add-edit-title","product-name":"_1Eun_product-name","pointer-none":"_3iCU_pointer-none","uom-slider-open":"_-7am_uom-slider-open","search-holder":"_1NB1_search-holder",isWeb:"_3O4x_isWeb","clear-icon":"_2pjO_clear-icon","search-header":"_2XlP_search-header","search-input":"_3lWm_search-input","search-form":"JEcI_search-form",scrolled:"_1cE3_scrolled","search-highlight":"_2isw_search-highlight","result-holder":"Ki9E_result-holder","prod-list":"_3l2T_prod-list","no-result":"_32SM_no-result","no-result-fixed":"_2IVq_no-result-fixed","icon-holder":"_1uA4_icon-holder","back-icon":"_37gU_back-icon","upload-loader":"_3jMA_upload-loader",circle:"H44G_circle","upload-loader-keyframe":"_2qZM_upload-loader-keyframe","search-box-holder":"qh9B_search-box-holder","search-page-header":"_2VrZ_search-page-header","icon-hdrBackNew":"_3I6i_icon-hdrBackNew","header-title":"RI6w_header-title","search-input-holder":"_33LQ_search-input-holder","search-icon":"_3HJZ_search-icon","search-delete-btn-holder":"mgDl_search-delete-btn-holder","full-width-delete-btn":"_23Gg_full-width-delete-btn","webstore-search-header":"_3xet_webstore-search-header","input-container":"_179K_input-container","icon-HDRback":"HkXJ_icon-HDRback","icon-HDRcross":"_2V88_icon-HDRcross",mob:"_3Yj4_mob","iframe-body":"_125d_iframe-body","prod-block":"ikqu_prod-block","prod-desc":"_2Iry_prod-desc","prod-title":"Km-B_prod-title","web-page":"qzO1_web-page","no-result-container":"_1Iwv_no-result-container",uom:"Y9YH_uom",price:"_11yj_price","product-price":"_2STj_product-price","cat-sel-warning":"oBgS_cat-sel-warning","prod-min-qty":"_2a-X_prod-min-qty","variant-count":"_2IL7_variant-count"}}}]);