(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[30349],{18073:(a,e,t)=>{"use strict";t.d(e,{VL:()=>r,DJ:()=>d,nq:()=>s,r6:()=>l,S6:()=>i,Xr:()=>c,Ge:()=>n,Z7:()=>u,Os:()=>p,Sp:()=>m,FN:()=>g,rl:()=>D,io:()=>I,vL:()=>v});var o=t(75147);const r=a=>({type:o.Z.INITIALIZE_DETAIL_PAGE,payload:a}),d=a=>({type:o.Z.SET_DELIVERY_CHARGE,payload:a}),s=a=>({type:o.Z.UPDATE_PRODUCT_PRICE_INFO,payload:a}),l=a=>({type:o.Z.UPDATE_PRODUCT_NAME,payload:a}),i=a=>({type:o.Z.CHANGE_PROD_TAB,payload:a}),c=(a,e)=>({type:o.Z.UPDATE_DELIVERY_DETAILS,payload:{key:a,value:e}}),n=(a,e)=>({type:o.Z.UPDATE_FLAG,payload:{key:a,value:e}}),u=()=>({type:o.Z.RESET_DETAIL_PAGE}),p=({modalKey:a,show:e=!1})=>({type:o.Z.TOGGLE_DETAILS_MODAL,payload:{modalKey:a,show:e}}),m=a=>({type:o.Z.UPDATE_REVIEW_RATING,payload:a}),g=a=>({type:o.Z.UPDATE_PRICE_RANGE,payload:a}),D=a=>({type:o.Z.UPDATE_TEMPLATING_TYPE,payload:a}),I=a=>({type:o.Z.TOGGLE_ADDTO_CATALOUGE_LOADER,payload:a}),v=a=>({type:o.Z.TOGGLE_ADDTO_CATALOUGE,payload:a})},34894:(a,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>y});var o=t(67294),r=t(85158),d=t(18073);const s=t(66055).Z;var l=t(7376),i=t(81363);const c={"info-modal":"H_uc_info-modal","modal-body":"lN7x_modal-body","message-head":"_3ddc_message-head","button-wrapper":"_3F3X_button-wrapper","misc-btn":"uQWZ_misc-btn"};var n=t(57542);const u=a=>o.createElement("div",{className:c["info-modal"]},o.createElement(i.Z,{settings:{modalId:"info-modal",variant:"action"},onHidden:()=>a.onModalClose()},o.createElement("div",{className:c["modal-body"]},o.createElement("div",{className:c["message-head"]},a.message),o.createElement("div",{className:c["button-wrapper"]},o.createElement(n.Z,{size:"lg",clickHandler:a.onModalClose,className:"".concat(c["misc-btn"]," ").concat(c["no-hover"]),showLoader:a.showLoader},a.buttonLabel)))));var p=t(47799);const m=p.b8;var g=t(65223);const D=g.l,I=g.$;var v=t(9669),T=t.n(v),P=t(51747),h=t(14494),E=t(46834),_=t(84901),b=t(26779);const A=b.ze;var M=t(2299);const f=b.F1;function S(){return(S=Object.assign||function(a){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(a[o]=t[o])}return a}).apply(this,arguments)}const w=o.forwardRef(((a,e)=>{(0,o.useEffect)((()=>{for(var a in A)(0,_.Q6)(a,A[a]);for(var a in f)(0,_.Q6)(a,f[a])}),[]);const t=(0,o.useRef)(null),r=(0,o.useRef)(null);if((0,o.useImperativeHandle)(e,(()=>({triggerClick:()=>{r.current.triggerClick(!0)},openGalleryfromApp:()=>{D({index:0,callback:function(e){e.indexToReplace="0",e.showToastMessage=!0,I(e,a,a.curProductData.variantId)},fromWebstore:!0})}}))),(0,o.useEffect)((()=>{var e;e={sessionObj:{source:"webstore",isVideoEnabled:!1,supplierId:a.supplierId}},(0,p.RN)(e.sessionObj)}),[]),a.reducerInit)return null;const d=()=>{(0,_.bh)().getState().productCMS.imageSliderData.isImageDataUpdated&&!a.isSortSliderOpen&&a.showToastMessage({message:"Changes will be Reflected in Some Time"}),a.toggleImageSlider({show:!1}),setTimeout((()=>{window.scrollTo(0,a.imageSliderData.prevScrollTop)}))},i=e=>{let t=!1;a.imageSliderData.show||(a.imageIndexToReplace({indexToReplace:"0"}),t=!0),e.target.files.length,m({data:e.target.files,variantId:a.curProductData.variantId,updateImage:e=>{let o=a.curProductData.variantId;"ADD_PRODUCT"===o&&e.variantId&&(o=e.variantId);const r=(0,_.bh)().getState().productCMS.imageSliderData.indexToReplace;a.updateProductImage({imageUrl:e,editProductId:o,imgIndex:e.imgIndex,noOfFilesToUpload:e.noOfFilesToUpload,ignoreSave:a.ignoreSave,updateDefaultIndex:r,showToastMessage:t?a.showToastMessage:null})},imageUrlArr:a.curProductData.imgpath,showToastMessage:a.showToastMessage})};let c;return a.curProductData.video_data&&a.curProductData.video_data.VIDEO_DATA&&(c={imgURL:a.curProductData.video_data.VIDEO_DATA.imgURL,isVideo:!0,source:a.curProductData.video_data.SOURCE,thumbnailURL:a.curProductData.video_data.VIDEO_DATA.thumbnailURL,uploaded:!0,videoName:a.curProductData.video_data.VIDEO_NAME}),o.createElement(o.Fragment,null,a.productModalData.show?o.createElement(s,S({inputObj:a.productModalData.inputObj.inputFields},a.productModalData.inputObj.modalData,{onAddEditModalBtnClick:e=>{let t=a.curProductData.variantId,o=function(e,t){a.productModalData.inputObj.cb&&a.productModalData.inputObj.cb(e,a.curProductData);const o=a.productModalData.inputObj.toastMessage?a.productModalData.inputObj.toastMessage:t;a.productModalData.inputObj.noToastMsg||a.showToastMessage({message:o,type:"info"})};if("productName"==e.modalType){let r=e[0].input.value;T().post(a.baseUrl+"/marketplace/static/php/web/b2bWebsite.php?&action=updateProductName&variantId="+t+"&productName="+r).then((a=>{a.data.status&&o(r,a.data.msg)}))}else{let s=e[0].input.value,l=e[1].input.value,i="";if(s&&l&&(i=100-1*l*100/s*1,i&&i%1>0&&(i=i.toFixed(2))),3==a.crunchEnabled)o({mrp:s,offerprice:l,savings_percentage:i,savings_percentage_floor:i});else if(a.showAddToCatalouge){var r;let e=null===(r=a.curProductData)||void 0===r?void 0:r.itemsizecode;a.curProductData.hasOwnProperty("productData")&&(e=a.curProductData.productData.itemsizecode),a.toggleAddToCatalougeLoader({showLoader:!0}),T().post(a.baseUrl+"/marketplace/products/ajax/createProductFromTemplateId.service?templatedProductId="+e+"&createStock=true&isFromCMS=true").then((e=>{if("true"==e.data.isValidate){let t=(0,M.XW)({pageName:"details",params:{itemname:a.curProductData.itemname.replace(/(<([^>]+)>)/gi,"").replace(/[^a-zA-Z0-9\s]/g,"").replace(/ +/g,"-"),itemsizecode:e.data.variantId}});a.history.replace(t),T().post(a.baseUrl+"/marketplace/static/php/web/b2bWebsite.php?&action=updatePricingDetails&variantId="+e.data.variantId+"&mrp="+s+"&sellingPrice="+l).then((a=>{a.data.status&&setTimeout((()=>{o(a.data)}),1e3)}))}})).finally((e=>{a.toggleAddToCatalougeLoader({showLoader:!1})}))}else{var d;t=(null===(d=a.virtualProductData[t])||void 0===d?void 0:d.variantId)||t,T().post(a.baseUrl+"/marketplace/static/php/web/b2bWebsite.php?&action=updatePricingDetails&variantId="+t+"&mrp="+s+"&sellingPrice="+l).then((a=>{a.data.status&&o(a.data)}))}}},onModalClose:()=>{a.toggleProductModal({show:!1})},modalInsideSlider:a.isSortSliderOpen})):null,a.showInfoModal?o.createElement(u,{message:"Sorry! Editing Products with Variants is Not Supported on Mobile. Please Use Desktop/Computer for the Same.",buttonLabel:"Okay, Got It",onModalClose:()=>{a.toggleInfoModal({show:!1})}}):null,a.imageSliderData.show?o.createElement(l.Z,{ref:t,className:"product-cms-wrapper ".concat(a.isMobile?"adjust-slider-height":""),canUploadImage:!a.isTemplateProduct,updateProductImage:a.updateProductImage,deleteProductImage:a.deleteImage,showToastMessage:a.showToastMessage,isTemplate:a.isTemplateProduct,session:a.session||{},variantId:a.curProductData.variantId,selImageIndex:a.imageSliderData.indexToReplace,onHidden:d,imageUrlArr:a.curProductData.imgpath,onFileSelUpload:i,hideSaveButton:!0,videoUrlArr:c?[c]:[],source:"CMS",closeCB:d}):null,o.createElement(P.Z,{onChange:i,ref:r}))})),y=(0,h.$j)(((a,e)=>{var t;return a.productCMS?{productModalData:a.productCMS.productModalData,virtualProductData:a.productCMS.virtualProductData||{},curProductData:a.productCMS.curProductData,isTemplateProduct:a.productCMS.curProductData.isTemplateProduct,imageSliderData:a.productCMS.imageSliderData,showInfoModal:a.productCMS.showInfoModal,supplierId:a.staticData.supplierId,baseUrl:a.staticData.baseUrl,showAddToCatalouge:a.detailsPage&&a.detailsPage.showAddToCatalouge,isSortSliderOpen:!!a.sliders.sortProductService&&a.sliders.sortProductService.open,crunchEnabled:null===(t=a.searchPageData)||void 0===t?void 0:t.crunchEnabled,isMobile:a.staticData.isMobile,...e}:{reducerInit:!0}}),{toggleProductModal:r.dX,updateProductImage:r.gO,deleteImage:r.ao,toggleImageSlider:r.p$,toggleInfoModal:r.JT,showToastMessage:E.Z.showMessage,imageIndexToReplace:r.jA,toggleAddToCatalougeLoader:d.io},null,{forwardRef:!0})(w)},95067:(a,e,t)=>{"use strict";t.d(e,{Z:()=>o});const o=t(60327).Z},2850:(a,e,t)=>{"use strict";t.d(e,{Z:()=>o});const o=t(802).Z},7376:(a,e,t)=>{"use strict";t.d(e,{Z:()=>o});const o=t(59670).Z}}]);